URL: ftp://ftp.isi.edu/isi-pubs/rs-93-363.ps.Z
Refering-URL: http://www.isi.edu/isi-technical-reports.html
Root-URL: http://www.isi.edu
Title: ATOMIC: A High-Speed Local Communication Architecture a switch-based local area network and is constructed using
Author: Danny Cohen, Gregory Finn, Robert Felderman, Annette DeSchon 
Address: 4676 Admiralty Way #1001 Marina del Rey, CA 90292-6695  
Affiliation: USC/Information Sciences Institute  
Note: Submitted to Journal of High Speed Networks  1.0 Overview ATOMIC is  
Email: atomic@isi.edu  
Phone: (310) 822-1511  
Date: January 3, 1994 1 of 21  
Abstract: ATOMIC 1 is an inexpensive high-speed LAN built by USC/ISI. It is based upon Mosaic technology developed for fine-grain, message-passing, massively parallel computation. Each Mosaic processor is capable of routing variable length packets, while providing added value through simultaneous computing and buffering. ATOMIC adds a general routing capability to the native Mosaic wormhole routing through store-and-forward and path concatenation. ATOMIC aggregate bandwidth scales as the number of nodes increases, and it has a small interface cost. Each ATOMIC channel has a data carrying capacity of 500Mb/s. A prototype ATOMIC LAN has been constructed along with host interfaces and software that provides full TCP/IP compatibility. Using ATOMIC, 1,500 byte packets have been exchanged between hosts at an aggregate transfer rate of more than 1Gb/s. Other tests have demonstrated throughput of 5.25 million packets per second over a single Mosaic channel. The architecture is exible both in topology and functionality. This paper describes the architecture and performance of ATOMIC. ATOMIC is a high-speed, low cost, LAN built by USC/ISI. It relies on the repetitive application of Caltechs Mosaic chip [21] (see Section 3.0), that serves as a fast and smart switching element. It is capable of routing variable length packets while providing added value through simultaneous computing and buffering. ATOMIC scales easily by adding point to point channels and has a low interface cost. At present, a prototype of ATOMIC is operational including an IP interface for the BSD UNIX 2 environment. The developmental VME Host Interface (HI) boards have four memoryless Mosaic chips creating four network interfaces. Each interface is equipped with 30MHz SRAM memory chips that are accessible to the host Sun-3 workstation via the VME bus. With these HI boards we were able to measure the following performance: a single interface acting as a source can send 450 megabits per second (Mb/s), if 1,500 byte packets are used. Longer packets allow us to approach 480Mb/s, the limit of the 30MHz memory. A packet rate as high as 5.25 million packets per second (Mpkt/ s) has been achieved over a single Mosaic channel. Transfers of test patterns both intra-board and inter-host of over 1,000 Terabits (110 15 ) resulted in neither bit errors nor lost packets. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> Arnould, E., Bitz, F., Cooper, E., Samsom, R., Steenkiste, P. </author> <title> The Design of Nectar: A Network Backplane for Heterogenous Multicomputers, </title> <booktitle> in Proceedings, ASPLOS-III, </booktitle> <pages> pp. 205-216, </pages> <month> April </month> <year> 1989. </year>
Reference-contexts: In Table 3, the expected performance of a 64-processor ATOMIC mesh using Mosaic-C and the upcoming Mosaic-T [21] is compared to both the Autonet switch [20] and Nectar HUB <ref> [1] </ref>. <p> with the CRC-32 and fragmentation and reassembly in the Mosaic makes the ATM performance an order of magnitude slower than native ATOMIC Network switch (# ports) Pkt/s latency (ns) channel BW switch BW (Gb/s) Source Autonet (12x12) 2 2,000 100 1.2 Measured [20] Nectar (16x16) 14 700 100 1.6 Measured <ref> [1] </ref> ATOMIC (6x6) 31 125 500 1.3 Measured ATOMIC (16x16) 80 375 500 4.0 Expected ATOMIC (16x16) 320 100 1,600 12.8 Next Generation [22] (Mosaic-T) Table 3. A comparison of various network switches. Submitted to Journal of High Speed Networks January 3, 1994 19 of 21 messages.
Reference: [2] <institution> ATM AAL Type 5, Draft Recommendation for Section 6 of I.363. CCITT, Geneva, </institution> <year> 1993. </year>
Reference: [3] <author> Biagioni, E., Cooper, E., Sansom, R. </author> <title> Designing a Practical ATM LAN, </title> <journal> IEEE Network, </journal> <volume> Vol. 7, No. 2, </volume> <pages> pp. 32-39, </pages> <month> March </month> <year> 1993. </year>
Reference: [4] <author> Cheriton, D. R. Sirpent: </author> <title> A High-Performance Internetworking Approach, </title> <booktitle> in Proceedings of Sigcomm-89, </booktitle> <pages> pp. 158-169, </pages> <year> 1989. </year>
Reference: [5] <author> Clark, D. D., Tennenhouse, D. L. </author> <title> Research Program on Distributed Video Systems, </title> <type> Personal communica tion. </type>
Reference: [6] <author> Cohen, D., Finn, G., Felderman, R., DeSchon, A., </author> <title> ATOMIC: A High-Speed, Low-Cost Local Area Network, </title> <institution> Information Sciences Institute Technical Report ISI/RR-92-291, </institution> <month> September </month> <year> 1992. </year>
Reference: [7] <author> Cohen, D., Finn, G., Felderman, R., DeSchon, A., </author> <title> ATOMIC: A Low-Cost, Very-High-Speed, Local Communication Architecture, </title> <booktitle> Proceedings of the 1993 International Conference on Parallel Processing, </booktitle> <month> August </month> <year> 1993. </year>
Reference: [8] <author> Dally, W. J., Seitz, C. L. </author> <title> Deadlock-Free Message Routing in Multiprocessor Interconnection Networks, </title> <journal> IEEE Transactions on Computers, </journal> <volume> Vol. C-36, No. 5, </volume> <month> May </month> <year> 1987. </year>
Reference: [9] <author> Davie, B. S. </author> <title> The Architecture and Implementation of a High-Speed Host Interface, </title> <journal> IEEE Journal on Selected Areas in Communications, </journal> <volume> Vol 11, No. 2, </volume> <month> February </month> <year> 1993. </year>
Reference: [10] <author> Deering, </author> <title> Stephen Host Extensions for IP Multicasting, </title> <address> RFC-1112, </address> <month> August </month> <year> 1989. </year>
Reference-contexts: The AC, since it has a complete map of the network topology, is able to set up multicast trees in the network. To manage multicast groups we use the IP multicast extensions to Sun OS by Steve Deering <ref> [10] </ref> [11]. Broadcast is treated as a special multicast group that all host join when booting. When a host (A) wishes to receive packets destined for a particular multicast group (G), it calls a JOIN_GROUP function that passes the group address to the ATOMIC driver.
Reference: [11] <author> Deering, Stephen, Cheriton, David. </author> <title> Multicast Routing in Datagram Internetworks and Extended LANs, </title> <journal> ACM Transactions on Computer Systems, </journal> <volume> Vol. 8, No. 2, </volume> <pages> pp 85-110, </pages> <month> May </month> <year> 1990. </year>
Reference-contexts: The AC, since it has a complete map of the network topology, is able to set up multicast trees in the network. To manage multicast groups we use the IP multicast extensions to Sun OS by Steve Deering [10] <ref> [11] </ref>. Broadcast is treated as a special multicast group that all host join when booting. When a host (A) wishes to receive packets destined for a particular multicast group (G), it calls a JOIN_GROUP function that passes the group address to the ATOMIC driver. <p> But consider the counter example where there are senders and receivers attached to each switch. How should we locate the tree? Should we support multiple trees, one for each source or set of sources? This is how the Deering IP multicast works in the Internet <ref> [11] </ref>. The correct answer depends on the exact topology of the network, the location of the senders and receivers, and the frequency of transmission from each source. Finally, the decision will be complicated by the fact that the groups might be highly dynamic and change frequently.
Reference: [12] <author> Fibre Channel: </author> <title> Physical and Signalling Interface (FC-PH) Rev. 2.2, Working draft, Proposed American National Standard for Information Systems, </title> <month> January 24, </month> <year> 1992. </year>
Reference-contexts: Crays network is operational and connects 11 Cray machines using two switches. The LLNL work is using Ancor switches with up to 4,096 ports and link speeds of 800Mb/s. There are two main differences between HIPPI [15] or Fibre Channel <ref> [12] </ref> and ATOMIC: the first is cost and the type of machines that will be on the network, and the second is connection setup time. The HIPPI and Fibre Channel networks are designed with large, expensive machines in mind.
Reference: [13] <author> Finn, Gregory G. </author> <title> An Integration of Network Communication with Workstation Architecture, </title> <journal> ACM Com puter Communication Review, </journal> <month> October </month> <year> 1991. </year>
Reference-contexts: ATOMIC interfaces are small and inexpensive, therefore it is practical to have multiple interfaces within a workstation, individually associated with high-speed peripherals or processors. This makes it possible for data to be routed to and from these interfaces at gigabit rates independently of buses or backplanes <ref> [13] </ref>. 4.2 Mesh Routers Arrays of Mosaic chips can be interconnected with one another in a two dimensional mesh. In an ATOMIC LAN, meshes of Mosaic chips function as crossbar switches. <p> ATOMIC supports IP, but with a software change also supports ATM or any network protocol. One additional point should be stressed. The low cost of nodes coupled with their programmability makes it practical to utilize multiple ones in a workstation architecture <ref> [13] </ref>. The network is then extended into the workstation. This allows internal devices to have their own independent Gb/s interconnect in addition to direct network access. It has also been suggested that ATM could be used for this, although switching would be external [5][14]. 9.1.2 HIPPI and Fibre Channel LANs. <p> The HIPPI and Fibre Channel networks are designed with large, expensive machines in mind. ATOMIC is designed to provide low-cost, high-speed connectivity to all classes of machines. In fact, we advocate using many network interfaces in a single machine interconnected with ribbon cables <ref> [13] </ref>! HIPPI and Fibre Channel LANs are connection-oriented and optimized for large transfers between super-computer-class machines. Packet transmission requires an explicit connect operation. ATOMIC is a packet-switched technology and is better suited to LAN environments with less expensive workstations and smaller transfers between hosts.
Reference: [14] <author> Hayter, M., McAuley, D., </author> <title> The Desk Area Network, </title> <journal> ACM Transactions on Operating Systems, </journal> <pages> pp. 14-21, </pages> <month> October </month> <year> 1991. </year>
Reference: [15] <author> Hughes, J.P. </author> <title> HIPPI, </title> <booktitle> in Proceedings of the 17th Conference on Local Communication Networks, </booktitle> <pages> pp. 346 354, </pages> <month> September </month> <year> 1992. </year>
Reference-contexts: Crays network is operational and connects 11 Cray machines using two switches. The LLNL work is using Ancor switches with up to 4,096 ports and link speeds of 800Mb/s. There are two main differences between HIPPI <ref> [15] </ref> or Fibre Channel [12] and ATOMIC: the first is cost and the type of machines that will be on the network, and the second is connection setup time. The HIPPI and Fibre Channel networks are designed with large, expensive machines in mind.
Reference: [16] <author> Leslie, I., McAuley, D. Fairisle: </author> <title> An ATM Network for the Local Area, </title> <booktitle> Proceedings of SIGCOMM-91, </booktitle> <pages> pp. 327-336, </pages> <month> August </month> <year> 1991. </year>
Reference: [17] <author> Renwick, John K. </author> <title> Building a Practical HIPPI LAN, </title> <booktitle> in Proceedings of the 17th Conference on Local Com munication Networks, </booktitle> <pages> pp. 335-360, </pages> <month> September </month> <year> 1992. </year>
Reference-contexts: It has also been suggested that ATM could be used for this, although switching would be external [5][14]. 9.1.2 HIPPI and Fibre Channel LANs. Cray has created a HIPPI LAN at its facility in Minnesota <ref> [17] </ref> and LLNL is using Fibre Channel as the basis for its circuit-switched local area network [19]. These two networks and ATOMIC will look similar in implementation since they will all use point-to-point links and switches or concentrators. Crays network is operational and connects 11 Cray machines using two switches. <p> Packet transmission requires an explicit connect operation. ATOMIC is a packet-switched technology and is better suited to LAN environments with less expensive workstations and smaller transfers between hosts. The HIPPI LAN designers state the cost issue explicitly <ref> [17] </ref>: We have demonstrated that an effective 800 megabit LAN can be built from HIPPI-SC switches, at a cost that is reasonable for large systems. <p> All the components are programmable, so other protocols could easily be supported. In fact, one should think of ATOMIC as a multicomputer that is programmed to act like a LAN. Network Conn. Setup (ns) Pkts/sec Switch Size (# Ports) Fibre Channel (LLNL)[19] 22,000 46,000 4,096 HIPPI (Cray) <ref> [17] </ref> 10,000 100,000 32 ATOMIC 190 5,250,000 16 Table 4. Switch-based network throughput comparison. Submitted to Journal of High Speed Networks January 3, 1994 20 of 21 11.0 Acknowledgments Chuck Seitzs research group at Caltech developed the Mosaic technology.
Reference: [18] <author> Rodeheffer, Thomas, </author> <title> Experience with Autonet, </title> <journal> Computer Networks and ISDN Systems, </journal> <volume> Vol 25, No. 6, </volume> <pages> pp. 623-630, </pages> <year> 1993. </year>
Reference-contexts: The AC detects cycles in the graph that it creates during the mapping process. This can be accomplished by a straightforward DFS algorithm. Once the cycles are discovered, a process known as coloring is used to orient the links <ref> [18] </ref>. a ShortestPath (afib) + ShortestPath (bfic)ShortestPath (afic, via b) Submitted to Journal of High Speed Networks January 3, 1994 13 of 21 We color the links red if the parent node has a lower number than the child node and green if the parent is greater than the child. <p> ATM messages are of fixed length. Each is 53 bytes long with five bytes reserved for header, leaving a 48 byte payload. Several teams are creating prototype ATM host interfaces and networks [3][9][25]. The Autonet follow-on, AN2, will have ATM switches <ref> [18] </ref>. ATOMIC sends variable length packets and it uses the distributed computational and routing capability of a mesh. This sets ATOMIC well apart from ATM-based LANs. The fragmentation and reassembly required when ATM carries higher layer traffic are not required in ATOMIC.
Reference: [19] <author> Rupert, Paul. </author> <title> Status of LLNLs Prototype Gigabit/Sec LAN, </title> <booktitle> Presentation at the 4th Annual Workshop on Very High Speed Networks, </booktitle> <address> Baltimore, Maryland, </address> <month> March </month> <year> 1993. </year>
Reference-contexts: Cray has created a HIPPI LAN at its facility in Minnesota [17] and LLNL is using Fibre Channel as the basis for its circuit-switched local area network <ref> [19] </ref>. These two networks and ATOMIC will look similar in implementation since they will all use point-to-point links and switches or concentrators. Crays network is operational and connects 11 Cray machines using two switches.
Reference: [20] <author> Schroeder, Michael D., et. al. Autonet: </author> <title> A High-speed, Self-Configuring Local Area Network Using Point to-Point Links, </title> <journal> IEEE Journal on Selected Areas in Communications, </journal> <volume> Vol. 9, No. 8, </volume> <month> October </month> <year> 1991. </year>
Reference-contexts: The address consultant can provide new paths to source-sink pairs to alleviate congestion by resorting to store-and-forward ATOMIC routing or using other direct paths. In Table 3, the expected performance of a 64-processor ATOMIC mesh using Mosaic-C and the upcoming Mosaic-T [21] is compared to both the Autonet switch <ref> [20] </ref> and Nectar HUB [1]. <p> This single router becomes a source of contention, thus limiting aggregate bandwidth. A 64-processor ATOMIC mesh is externally similar to a 16-by-16 Nectar HUB crossbar. Some of the details of the Autonet project <ref> [20] </ref> at DEC Systems Research Center are similar to ATOMIC. The Auto-net LAN is also a switch-based network, and it uses point-to-point links of 100Mb/s over coaxial cable. One difference between the two projects lies in packet addressing. <p> Unfortunately, the overhead involved with the CRC-32 and fragmentation and reassembly in the Mosaic makes the ATM performance an order of magnitude slower than native ATOMIC Network switch (# ports) Pkt/s latency (ns) channel BW switch BW (Gb/s) Source Autonet (12x12) 2 2,000 100 1.2 Measured <ref> [20] </ref> Nectar (16x16) 14 700 100 1.6 Measured [1] ATOMIC (6x6) 31 125 500 1.3 Measured ATOMIC (16x16) 80 375 500 4.0 Expected ATOMIC (16x16) 320 100 1,600 12.8 Next Generation [22] (Mosaic-T) Table 3. A comparison of various network switches.
Reference: [21] <author> Seitz, C.L., Boden, N., Seizovic, J., Su, W. </author> <title> The Design of the Caltech Mosaic C. Multicomputer, </title> <booktitle> in Pro ceedings of the Washington Symposium On Integrated Systems, </booktitle> <address> Seattle, WA, </address> <year> 1993. </year> <note> Submitted to Journal of High Speed Networks January 3, 1994 21 of 21 </note>
Reference-contexts: 1.0 Overview ATOMIC is a high-speed, low cost, LAN built by USC/ISI. It relies on the repetitive application of Caltechs Mosaic chip <ref> [21] </ref> (see Section 3.0), that serves as a fast and smart switching element. It is capable of routing variable length packets while providing added value through simultaneous computing and buffering. ATOMIC scales easily by adding point to point channels and has a low interface cost. <p> The address consultant can provide new paths to source-sink pairs to alleviate congestion by resorting to store-and-forward ATOMIC routing or using other direct paths. In Table 3, the expected performance of a 64-processor ATOMIC mesh using Mosaic-C and the upcoming Mosaic-T <ref> [21] </ref> is compared to both the Autonet switch [20] and Nectar HUB [1].
Reference: [22] <author> Seitz, C.L., Su, W. </author> <title> A Family of Routing and Communication Chips Based on the Mosaic, </title> <booktitle> in Proceedings of the Washington Symposium On Integrated Systems, </booktitle> <address> Seattle, WA., </address> <year> 1993. </year>
Reference-contexts: Mosaic Channels Mosaic Memory Sparc Kernel Memory Sparc User Memory Mosaic Channels Mosaic Memory Sparc Kernel Memory Sparc User Memory 500Mb/s 450Mb/s 42Mb/s 20Mb/s (TCP) Submitted to Journal of High Speed Networks January 3, 1994 16 of 21 8.1 Flow Control and Slack Caltech has created Slack chips <ref> [22] </ref> that employ FIFOs and a fixed-window ow control mechanism in hardware to eliminate the potential bandwidth degradation of byte-by-byte ow control. These chips, used in pairs, (see Figure 15) buffer the incoming bytes from a Mosaic router at full channel rates using the normal REQ/ACK handshake on each byte. <p> Caltech has designed and is fabricating a successor to the Slack called Dialog <ref> [22] </ref> that will have a larger FIFO to support longer cable (or fiber) runs and low-level probe/response protocols to provide a measure of fault-tolerance in the event of a cable disconnect or some other blockage. Dialog chips, like the Slack, operate in pairs. <p> switch (# ports) Pkt/s latency (ns) channel BW switch BW (Gb/s) Source Autonet (12x12) 2 2,000 100 1.2 Measured [20] Nectar (16x16) 14 700 100 1.6 Measured [1] ATOMIC (6x6) 31 125 500 1.3 Measured ATOMIC (16x16) 80 375 500 4.0 Expected ATOMIC (16x16) 320 100 1,600 12.8 Next Generation <ref> [22] </ref> (Mosaic-T) Table 3. A comparison of various network switches. Submitted to Journal of High Speed Networks January 3, 1994 19 of 21 messages. ATOMIC is more general than the ATM work, which is specifically designed to support only ATM.
Reference: [23] <author> Steenkiste, Peter. </author> <title> Analyzing Communication Latency using the Nectar Communication Processor, </title> <booktitle> Pro ceedings of SIGCOMM-92, </booktitle> <pages> pp. 199-209, </pages> <month> August </month> <year> 1992. </year>
Reference: [24] <author> Tobagi, F. A. </author> <title> Fast Packet Switch Architectures for Broadband Integrated Services Digital Networks, </title> <journal> Pro ceedings of the IEEE, </journal> <volume> Vol. 78, No. 1, </volume> <month> January </month> <year> 1990, </year> <pages> pp. 133-166. </pages>
Reference-contexts: Switch-Based LANs On the surface, an ATOMIC 64-processor mesh router may resemble a switch. It bears some similarity to a space division crossbar switch with a self-routing property <ref> [24] </ref>. But unlike traditional switch elements, each Mosaic-C node contains its own CPU and program store. Each node can buffer and perform a function on the messages that it receives. A Mosaic-C node router is symmetric in two dimensions (eight channels) and independent from the processor.
Reference: [25] <author> Traw, C.B.S, Smith, J.M. </author> <title> Hardware/Software Organization of a High-Performance ATM Host Interface, </title> <journal> IEEE Journal on Selected Areas in Communications, </journal> <volume> Vol 11, No. 2, </volume> <month> February </month> <year> 1993. </year>
References-found: 25

