URL: ftp://arch.cs.ucdavis.edu/papers/metro-isca94.ps.Z
Refering-URL: http://arch.cs.ucdavis.edu/~chong/pubs.html
Root-URL: http://www.cs.ucdavis.edu
Email: &lt;andre@ai.mit.edu&gt;  &lt;ftchong@ai.mit.edu&gt; &lt;beefe@ai.mit.edu&gt; &lt;eran@media.mit.edu&gt;  &lt;hqm@ai.mit.edu&gt; &lt;sam@monitor.com&gt; &lt;tk@ai.mit.edu&gt;  
Title: metro: A Router Architecture for High-Performance, Short-Haul Routing Networks  
Author: Andre DeHon Frederic Chong Matthew Becker Eran Egozy Henry Minsky Samuel Peretz Thomas F. Knight, Jr. 
Address: 545 Technology Square Cambridge, MA 02139  
Affiliation: MIT Artificial Intelligence Laboratory  
Abstract: The Multipath Enhanced Transit Router Organization (metro) is a flexible routing architecture for high-performance, tightly-coupled, multiprocessors and routing hubs. A metro router is a dilated crossbar routing component supporting half-duplex bidirectional, pipelined, circuit-switched connections. Each metro router is self-routing and supports dynamic message traffic. The routers works in conjunction with source-responsible network interfaces to achieve reliable end-to-end data transmission in the presence of heavy network congestion and dynamic faults. metro separates the fundamental architectural characteristics from implementation parameters. Simplicity of routing function coupled with freedom in the implementation parameters allows metro implementations to fully exploit available technology to achieve low-latency and high-bandwidth. We illustrate the effects of this implementation freedom by summarizing the performance which various metro configurations can extract from some modern CMOS technologies. Included in our illustrations is metrojr-orbit, a minimal instance of the metro architecture we constructed in a 1:2 gate-array technology. Acknowledgments: This research is supported in part by the Advanced Research Projects Agency under contracts N00014-87-K-0825 and N00014-91-J-1698. This material is based upon work supported under a National Science Foundation Graduate Fellowship. Any opinions, findings, conclusions or recommendations expressed in this publication are those of the author and do not necessarily reflect the views of the National Science Foundation. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> Warren Andrews. </author> <title> RACE architecture brings flexibility to multiprocessing. </title> <booktitle> Computer Design, </booktitle> <volume> 31(5) </volume> <pages> 44-48, </pages> <month> May </month> <year> 1993. </year>
Reference-contexts: ns/4 b 1.5s ! 3:5s [13] INMOS/C104 &lt;1s/32-port xbar 10 ns/1 b 2:5s [18] MIT/J-Machine 60 ns/ 3D router 30 ns/8 b 660 ! 1020 ns [6] Caltech/MRC 50 !100 ns/ 2D router 11 ns/8 b 300 ! 800 ns [21] Mercury/Race 100 ns/6-port xbar 5 ns/8 b 500 ns <ref> [1] </ref> For sake of comparison, the last column estimates t 20;32 , the network latency required to deliver a 5-word (20-byte) message (e.g. a 4-word cache-line including checksum) across an unloaded network supporting 32 processors.
Reference: [2] <author> Frederic Chong, Eran Egozy, and Andre De-Hon. </author> <title> Fault Tolerance and Performance of Mul-tipath Multistage Interconnection Networks. </title> <editor> In Thomas F. Knight Jr. and John Savage, editors, </editor> <booktitle> Advanced Research in VLSI and Parallel Systems 1992, </booktitle> <pages> pages 227-242. </pages> <publisher> MIT Press, </publisher> <month> March </month> <year> 1992. </year>
Reference-contexts: Figure 1 shows a small network of this genre. [16] and [23] present some of the basic theory on multibutterflies, a well-understood example of multi-path networks. Network construction, utilization, and performance issues are further explored in [10] [15] <ref> [2] </ref> [3]. Fat-Tree networks [17] [14] are another class of multistage, multipath networks which can be built using metro routing components. [7] details issues involved in constructing such networks. 3 Terminology and Overview A metro router is a dilated crossbar routing component which supports half-duplex bidirectional, pipelined, circuit-switched connections. <p> Earlier work based around the routing protocol which evolved to become the metro routing protocol shows that performance degrades robustly in the face of faults <ref> [2] </ref> [3]. 7 Comparisons Table 5 shows the performance of several contemporary routing networks in use for multiprocessor interconnect and network routing hubs. The DEC The graph shows latency versus network loading for randomly distributed, 20-byte message traffic on a 3-stage network constructed from 8-bit wide, radix-4 metro routers.
Reference: [3] <author> Frederic T. Chong and Thomas F. Knight, Jr. </author> <title> Design and Performance of Multipath MIN Architectures. </title> <booktitle> In Symposium on Parallel Architectures and Algorithms, </booktitle> <pages> pages 286-295, </pages> <address> San Diego, California, </address> <month> June </month> <year> 1992. </year> <note> ACM. </note>
Reference-contexts: Figure 1 shows a small network of this genre. [16] and [23] present some of the basic theory on multibutterflies, a well-understood example of multi-path networks. Network construction, utilization, and performance issues are further explored in [10] [15] [2] <ref> [3] </ref>. Fat-Tree networks [17] [14] are another class of multistage, multipath networks which can be built using metro routing components. [7] details issues involved in constructing such networks. 3 Terminology and Overview A metro router is a dilated crossbar routing component which supports half-duplex bidirectional, pipelined, circuit-switched connections. <p> Earlier work based around the routing protocol which evolved to become the metro routing protocol shows that performance degrades robustly in the face of faults [2] <ref> [3] </ref>. 7 Comparisons Table 5 shows the performance of several contemporary routing networks in use for multiprocessor interconnect and network routing hubs. The DEC The graph shows latency versus network loading for randomly distributed, 20-byte message traffic on a 3-stage network constructed from 8-bit wide, radix-4 metro routers.
Reference: [4] <author> IEEE Standards Committee. </author> <title> IEEE Standard Test Access Port and Boundary-Scan Architec ture. </title> <publisher> IEEE, </publisher> <address> 345 East 47th Street, New York, NY 10017-2394, </address> <month> July </month> <year> 1990. </year> <note> IEEE Std 1149.1-1990. </note>
Reference-contexts: Scan Support metro integrates extensive scan support using an IEEE 1149-1.1990 <ref> [4] </ref> compliant Test Access Port (TAP) extended to support multiple TAPs on each component (MultiTAP) [8]. The multiTAP support allows metro increased tolerance to faults in the scan paths. The TAPs provide a convenient mechanism for setting metro's mostly static configuration options.
Reference: [5] <author> Digital Equiment Corporation. </author> <title> GIGAswitch FDDI Crossbar Switch. Online, Internet-Accessible Product Information, </title> <month> April </month> <year> 1993. </year>
Reference-contexts: Table 4: Latency Equations for metro Router Latency t bit t 20;32 Reference DEC/GIGAswitch &lt;15 s/22-port xbar 10 ns/1 b 16s <ref> [5] </ref> KSR/KSR-1 3s/32-node ring 30 ns/8 b 3:5s [12] TMC/CM-5 Router 250 ns/4-ary switch 25 ns/4 b 1.5s ! 3:5s [13] INMOS/C104 &lt;1s/32-port xbar 10 ns/1 b 2:5s [18] MIT/J-Machine 60 ns/ 3D router 30 ns/8 b 660 ! 1020 ns [6] Caltech/MRC 50 !100 ns/ 2D router 11 ns/8 b
Reference: [6] <author> William J. Dally et al. </author> <title> The Message-Driven Processor: A Multicomputer Processing Node with Efficient Mechanisms. </title> <booktitle> IEEE Micro, </booktitle> <pages> pages 23-39, </pages> <month> April </month> <year> 1992. </year>
Reference-contexts: Reference DEC/GIGAswitch &lt;15 s/22-port xbar 10 ns/1 b 16s [5] KSR/KSR-1 3s/32-node ring 30 ns/8 b 3:5s [12] TMC/CM-5 Router 250 ns/4-ary switch 25 ns/4 b 1.5s ! 3:5s [13] INMOS/C104 &lt;1s/32-port xbar 10 ns/1 b 2:5s [18] MIT/J-Machine 60 ns/ 3D router 30 ns/8 b 660 ! 1020 ns <ref> [6] </ref> Caltech/MRC 50 !100 ns/ 2D router 11 ns/8 b 300 ! 800 ns [21] Mercury/Race 100 ns/6-port xbar 5 ns/8 b 500 ns [1] For sake of comparison, the last column estimates t 20;32 , the network latency required to deliver a 5-word (20-byte) message (e.g. a 4-word cache-line including
Reference: [7] <author> Andre DeHon. </author> <title> Practical Schemes for Fat-Tree Network Construction. </title> <editor> In Carlo H. Sequin, editor, </editor> <booktitle> Advanced Research in VLSI: International Conference 1991, </booktitle> <pages> pages 307-322. </pages> <publisher> MIT Press, </publisher> <month> March </month> <year> 1991. </year>
Reference-contexts: Network construction, utilization, and performance issues are further explored in [10] [15] [2] [3]. Fat-Tree networks [17] [14] are another class of multistage, multipath networks which can be built using metro routing components. <ref> [7] </ref> details issues involved in constructing such networks. 3 Terminology and Overview A metro router is a dilated crossbar routing component which supports half-duplex bidirectional, pipelined, circuit-switched connections.
Reference: [8] <author> Andre DeHon. </author> <title> Scan-Based Testability for Fault-tolerant Architectures. </title> <editor> In Duncan M. Walker and Fabrizio Lombardi, editors, </editor> <booktitle> Proceedings of the IEEE International Workshop on Defect and Fault Tolerance in VLSI Systems, </booktitle> <pages> pages 90-99. </pages> <publisher> IEEE, IEEE Computer Society Press, </publisher> <year> 1992. </year>
Reference-contexts: Scan Support metro integrates extensive scan support using an IEEE 1149-1.1990 [4] compliant Test Access Port (TAP) extended to support multiple TAPs on each component (MultiTAP) <ref> [8] </ref>. The multiTAP support allows metro increased tolerance to faults in the scan paths. The TAPs provide a convenient mechanism for setting metro's mostly static configuration options. In addition to the normal boundary-scan facilities associated with an IEEE 1149 TAP, metro provides fine-grain facilities for on-line fault-diagnosis.
Reference: [9] <author> Andre DeHon. </author> <title> Robust, High-Speed Network Design for Large-Scale Multiprocessing. </title> <type> AI Technical Report 1445, </type> <institution> MIT Artificial Intelligence Laboratory, 545 Technology Sq., </institution> <address> Cambridge, MA 02139, </address> <month> February </month> <year> 1993. </year>
Reference-contexts: A brute force way to achieve this is to carefully control the length and electrical characteristics of the wires between components. Alternately, we can use adjustable delay in the pad drivers themselves to adjust the chip-to-chip delay sufficiently to meet the assumption. See Chapter 6 of <ref> [9] </ref> for further discussion. Path Reclamation Fast and Detailed When a router is unable to route a connection due to the lack of availability of an appropriate backward port, the connection is blocked. There are two ways which a metro router can handle this situation.
Reference: [10] <author> Andre DeHon, Thomas F. Knight Jr., and Henry Minsky. </author> <title> Fault-Tolerant Design for Multistage Routing Networks. </title> <booktitle> In International Symposium on Shared Memory Multiprocessing, </booktitle> <pages> pages 60-71. </pages> <booktitle> Information Processing Society of Japan, </booktitle> <month> April </month> <year> 1991. </year>
Reference-contexts: Figure 1 shows a small network of this genre. [16] and [23] present some of the basic theory on multibutterflies, a well-understood example of multi-path networks. Network construction, utilization, and performance issues are further explored in <ref> [10] </ref> [15] [2] [3].
Reference: [11] <author> Andre DeHon, Thomas F. Knight Jr., and Thomas Simon. </author> <title> Automatic Impedance Control. </title> <booktitle> In ISSCC Digest of Technical Papers, </booktitle> <pages> pages 164-165. </pages> <publisher> IEEE, </publisher> <month> February </month> <year> 1993. </year>
Reference-contexts: Of course, to support these speeds, custom i/o pads and clocking will be required to augment the standard-cell logic. Suitable low-voltage swing, matched-impedance i/o pads have been demonstrated in this process technology <ref> [11] </ref> and exhibit sufficiently low latency and power consumption to make such an implementation feasible. By taking advantage of connection setup pipelining, even lower data transfer latency can be achieved without going to a full-custom design.
Reference: [12] <author> Thomas H. Dunigan. </author> <title> Kendall Square Multiprocessor: Early Experiences and Performance. </title> <type> ORNL/TM 12065, </type> <institution> Oak Ridge National Laboratory, Oak Ridge, Tennessee 37831, </institution> <month> March </month> <year> 1992. </year>
Reference-contexts: Table 4: Latency Equations for metro Router Latency t bit t 20;32 Reference DEC/GIGAswitch &lt;15 s/22-port xbar 10 ns/1 b 16s [5] KSR/KSR-1 3s/32-node ring 30 ns/8 b 3:5s <ref> [12] </ref> TMC/CM-5 Router 250 ns/4-ary switch 25 ns/4 b 1.5s ! 3:5s [13] INMOS/C104 &lt;1s/32-port xbar 10 ns/1 b 2:5s [18] MIT/J-Machine 60 ns/ 3D router 30 ns/8 b 660 ! 1020 ns [6] Caltech/MRC 50 !100 ns/ 2D router 11 ns/8 b 300 ! 800 ns [21] Mercury/Race 100 ns/6-port
Reference: [13] <author> Thorsten von Eicken et al. </author> <title> Active Messages: a Mechanism for Integrated Communication and Computation. </title> <booktitle> In Proceedings of the 19th Annual Symposium on Computer Architecture, </booktitle> <address> Queens-land, Australia, </address> <month> May </month> <year> 1992. </year>
Reference-contexts: Table 4: Latency Equations for metro Router Latency t bit t 20;32 Reference DEC/GIGAswitch &lt;15 s/22-port xbar 10 ns/1 b 16s [5] KSR/KSR-1 3s/32-node ring 30 ns/8 b 3:5s [12] TMC/CM-5 Router 250 ns/4-ary switch 25 ns/4 b 1.5s ! 3:5s <ref> [13] </ref> INMOS/C104 &lt;1s/32-port xbar 10 ns/1 b 2:5s [18] MIT/J-Machine 60 ns/ 3D router 30 ns/8 b 660 ! 1020 ns [6] Caltech/MRC 50 !100 ns/ 2D router 11 ns/8 b 300 ! 800 ns [21] Mercury/Race 100 ns/6-port xbar 5 ns/8 b 500 ns [1] For sake of comparison, the
Reference: [14] <author> Ronald I. Greenberg and Charles E. Leiserson. </author> <title> Randomized Routing on Fat-Trees. </title> <booktitle> In IEEE 26th Annual Symposium on the Foundations of Computer Science. IEEE, </booktitle> <month> November </month> <year> 1985. </year>
Reference-contexts: Figure 1 shows a small network of this genre. [16] and [23] present some of the basic theory on multibutterflies, a well-understood example of multi-path networks. Network construction, utilization, and performance issues are further explored in [10] [15] [2] [3]. Fat-Tree networks [17] <ref> [14] </ref> are another class of multistage, multipath networks which can be built using metro routing components. [7] details issues involved in constructing such networks. 3 Terminology and Overview A metro router is a dilated crossbar routing component which supports half-duplex bidirectional, pipelined, circuit-switched connections.
Reference: [15] <author> Tom Leighton, Derek Lisinski, and Bruce Maggs. </author> <title> Empirical Evaluation of Randomly-Wired Multistage Networks. </title> <booktitle> In International Conference on Computer Design: VLSI in Computers and Processors. IEEE, </booktitle> <year> 1990. </year>
Reference-contexts: Figure 1 shows a small network of this genre. [16] and [23] present some of the basic theory on multibutterflies, a well-understood example of multi-path networks. Network construction, utilization, and performance issues are further explored in [10] <ref> [15] </ref> [2] [3]. Fat-Tree networks [17] [14] are another class of multistage, multipath networks which can be built using metro routing components. [7] details issues involved in constructing such networks. 3 Terminology and Overview A metro router is a dilated crossbar routing component which supports half-duplex bidirectional, pipelined, circuit-switched connections.
Reference: [16] <author> Tom Leighton and Bruce Maggs. </author> <title> Expanders Might Be Practical: Fast Algorithms for Routing Around Faults on Multibutterflies. </title> <booktitle> In IEEE 30th Annual Symposium on Foundations of Computer Science, </booktitle> <year> 1989. </year>
Reference-contexts: Dilated routing components give rise to multiple independent paths through the network. The multiple paths in the network increase available bandwidth, decrease congestion, and provide tolerance to link and router faults. Figure 1 shows a small network of this genre. <ref> [16] </ref> and [23] present some of the basic theory on multibutterflies, a well-understood example of multi-path networks. Network construction, utilization, and performance issues are further explored in [10] [15] [2] [3].
Reference: [17] <author> Charles E. Leiserson. Fat-Trees: </author> <title> Universal Networks for Hardware Efficient Supercomputing. </title> <journal> IEEE Transactions on Computers, </journal> <volume> C-34(10):892-901, </volume> <month> October </month> <year> 1985. </year>
Reference-contexts: Figure 1 shows a small network of this genre. [16] and [23] present some of the basic theory on multibutterflies, a well-understood example of multi-path networks. Network construction, utilization, and performance issues are further explored in [10] [15] [2] [3]. Fat-Tree networks <ref> [17] </ref> [14] are another class of multistage, multipath networks which can be built using metro routing components. [7] details issues involved in constructing such networks. 3 Terminology and Overview A metro router is a dilated crossbar routing component which supports half-duplex bidirectional, pipelined, circuit-switched connections.
Reference: [18] <author> M. D. May, P. W. Thompson, and P. H. Welch, </author> <title> editors. Networks, Routers and Transputers. </title> <publisher> IOS Press, </publisher> <year> 1993. </year>
Reference-contexts: Table 4: Latency Equations for metro Router Latency t bit t 20;32 Reference DEC/GIGAswitch &lt;15 s/22-port xbar 10 ns/1 b 16s [5] KSR/KSR-1 3s/32-node ring 30 ns/8 b 3:5s [12] TMC/CM-5 Router 250 ns/4-ary switch 25 ns/4 b 1.5s ! 3:5s [13] INMOS/C104 &lt;1s/32-port xbar 10 ns/1 b 2:5s <ref> [18] </ref> MIT/J-Machine 60 ns/ 3D router 30 ns/8 b 660 ! 1020 ns [6] Caltech/MRC 50 !100 ns/ 2D router 11 ns/8 b 300 ! 800 ns [21] Mercury/Race 100 ns/6-port xbar 5 ns/8 b 500 ns [1] For sake of comparison, the last column estimates t 20;32 , the network
Reference: [19] <author> Henry Minsky, Andre DeHon, and Thomas F. Knight Jr. RN1: </author> <title> Low-Latency, Dilated, Crossbar Router. In Hot Chips Symposium III, </title> <year> 1991. </year>
Reference-contexts: RN1 was designed so that each routing stage was only a single pipeline stage in the network. Unlike metro it did not treat the interconnect as a separate set of pipeline stages from the internal logic. Consequently, RN1 was limited to about 50 MHz operation <ref> [19] </ref>. metrojr is a minimal implementation of the metro architecture with i = o = w = 4, hw = 0, dp = 1, and max d = 2.
Reference: [20] <author> Henry Q. Minsky. </author> <title> A Parallel Crossbar Routing Chip for a Shared Memory Multiprocessor. </title> <type> AI Technical Report 1284, </type> <institution> MIT Artificial Intelligence Laboratory, 545 Technology Sq., </institution> <address> Cam-bridge, MA 02139, </address> <year> 1991. </year>
Reference-contexts: Variable turn delay, dilation, and swallow would typically remain constant throughout operation. Port enables and fast reclamation may be reconfigured during operation as discussed in Section 5.1. 6 Implementations and Prospects 6.1 Single Router Performance RN1, a direct ancestor of the metro architecture implemented in a 1.2 CMOS process <ref> [20] </ref>, ran with an internal latency under 15 ns. RN1 supported 8 forward and backward ports (i = o = 8), byte wide datapaths (w = 8) and both dilation-1 and dilation-2 routing. RN1 was designed so that each routing stage was only a single pipeline stage in the network.
Reference: [21] <author> Ravi Soundararajan. </author> <title> MRC Specifications. Alewife Systems Memo 25, </title> <institution> MIT Artificial Intelligence Laboratory, 545 Technology Square, </institution> <address> Cam-bridge MA 02139, </address> <month> February </month> <year> 1992. </year>
Reference-contexts: ns/8 b 3:5s [12] TMC/CM-5 Router 250 ns/4-ary switch 25 ns/4 b 1.5s ! 3:5s [13] INMOS/C104 &lt;1s/32-port xbar 10 ns/1 b 2:5s [18] MIT/J-Machine 60 ns/ 3D router 30 ns/8 b 660 ! 1020 ns [6] Caltech/MRC 50 !100 ns/ 2D router 11 ns/8 b 300 ! 800 ns <ref> [21] </ref> Mercury/Race 100 ns/6-port xbar 5 ns/8 b 500 ns [1] For sake of comparison, the last column estimates t 20;32 , the network latency required to deliver a 5-word (20-byte) message (e.g. a 4-word cache-line including checksum) across an unloaded network supporting 32 processors.
Reference: [22] <author> Synopsys. </author> <title> Design Compiler Reference Manual. </title> <institution> Synopsys, Inc., </institution> <note> version 3.0 edition, </note> <month> December </month> <year> 1992. </year>
Reference-contexts: To date metrojr has been described entirely in a high-level language and synthesized to a standard ASIC library using the Synopsys Design Compiler <ref> [22] </ref>. Without pipelining connection setup, the critical path between input and output dat apath registers due to connection allocation contains 25 gate delays. An initial implementation of metrojr was done through Orbit Semiconductor under their Encore! program. metrojr was implemented as a 15K gate array in a 1.2 CMOS process.
Reference: [23] <author> E. Upfal. </author> <title> An O(log N ) deterministic packet routing scheme. </title> <booktitle> In 21st Annual ACM Symposium on Theory of Computing, </booktitle> <pages> pages 241-250. </pages> <publisher> ACM, </publisher> <month> May </month> <year> 1989. </year>
Reference-contexts: Dilated routing components give rise to multiple independent paths through the network. The multiple paths in the network increase available bandwidth, decrease congestion, and provide tolerance to link and router faults. Figure 1 shows a small network of this genre. [16] and <ref> [23] </ref> present some of the basic theory on multibutterflies, a well-understood example of multi-path networks. Network construction, utilization, and performance issues are further explored in [10] [15] [2] [3].
References-found: 23

