URL: http://www.cl.cam.ac.uk:80/ftp/papers/reports/TR334-lcp-final.coalgebra.ps.gz
Refering-URL: http://www.cl.cam.ac.uk:80/ftp/papers/reports/
Root-URL: 
Email: lcp@cl.cam.ac.uk  
Title: A Concrete Final Coalgebra Theorem for ZF Set Theory considerable advice and help. Daniele Turi
Author: Lawrence C. Paulson 
Note: Thomas Forster alerted me to Quine's work. Peter Aczel and Andrew Pitts offered  K. Mukai commented on the text. Research funded by the ESPRIT Basic Research Action 6453 `Types.'  
Address: Cambridge, England  
Affiliation: Computer Laboratory, University of  
Abstract: A special final coalgebra theorem, in the style of Aczel's [2], is proved within standard Zermelo-Fraenkel set theory. Aczel's Anti-Foundation Axiom is replaced by a variant definition of function that admits non-well-founded constructions. Variant ordered pairs and tuples, of possibly infinite length, are special cases of variant functions. Analogues of Aczel's Solution and Substitution Lemmas are proved in the style of Rutten and Turi [12]. The approach is less general than Aczel's, but the treatment of non-well-founded objects is simple and concrete. The final coalgebra of a functor is its greatest fixedpoint. The theory is intended for machine implementation and a simple case of it is already implemented using the theorem prover Isabelle [10]. 
Abstract-found: 1
Intro-found: 1
Reference: 1. <author> Abramsky, S., </author> <title> The lazy lambda calculus, </title> <booktitle> In Resesarch Topics in Functional Programming, </booktitle> <editor> D. A. Turner, Ed. </editor> <publisher> Addison-Wesley, </publisher> <year> 1977, </year> <pages> pp. 65-116 </pages>
Reference-contexts: 1 Introduction A recurring issue in theoretical computer science is the treatment of infinite computations. One important approach is based upon the final coalgebra. This category-theoretic notion relates to the methods of bisimulation and coinduction, which are heavily used in concurrency theory [6], functional programming <ref> [1] </ref> and operational semantics [7]. Aczel and Mendler [3] and also Barr [4] have proved that final coalgebras exist in set theory for large classes of naturally occurring functors. This might be supposed to satisfy most people's requirements.
Reference: 2. <author> Aczel, P., </author> <title> Non-Well-Founded Sets, </title> <publisher> CSLI, </publisher> <year> 1988 </year>
Reference-contexts: Aczel and Mendler [3] and also Barr [4] have proved that final coalgebras exist in set theory for large classes of naturally occurring functors. This might be supposed to satisfy most people's requirements. But Aczel <ref> [2] </ref> has argued the case for a non-standard set theory in which infinite computations, and other non-well-founded phenomena, can be modelled directly. <p> It does not work for the powerset functor, even with cardinality restrictions. I do not know whether it can express nondeterminism; one way of handling sets of outcomes may be to well-order them using the Axiom of Choice. Aczel's book <ref> [2] </ref> puts the case for non-well-founded sets with clarity, simplicity and eloquence. Especially attractive is its presentation of four anti-foundation 1 axioms in a uniform framework. Each axiom creates new sets and gives criteria for set equality. <p> By symmetry we have 0 (a) (a) and therefore (a) = 0 (a) for all a 2 A. ut Theorem 18. U is a final Q-coalgebra. Proof. Immediate by the previous two lemmas. ut 4 Solutions of Equations In his development of set theory with AFA, Aczel <ref> [2] </ref> defines systems of set-equations and proves the Solution Lemma: each system has a unique solution. Aczel introduces a class X of variables and a class V X of sets built up from variables (but not themselves variables). <p> The embedding will be useful for creating equations with constant right-hand sides. Although the embedding is obvious, its existence deserves to be proved. Aczel derives the analogous embedding from V into V X by direct recourse to AFA <ref> [2] </ref>. Rutten and Turi [12] omit this step, which in their categorical style might be done by showing that V X is a final coalgebra for the functor P (X + ). Lemma 22. <p> This notion is due to Aczel <ref> [2] </ref>, but I follow Rutten and Turi's [12] formulation. We shall no longer work in the category Set of sets but rather in the full subcategory Set U whose objects are the subsets of U . <p> From this point of view, the general theorems of Aczel and Mendler [3] and Barr [4] yield final coalgebras for a great many functors. But there is an undoubted interest in Aczel's weaker final coalgebra theorem, proved using the Anti-Foundation Axiom (AFA) <ref> [2] </ref>. Its appeal is its concreteness. The set of streams over A is simply the greatest fixedpoint of the functor A fi , which is also that functor's final coalgebra.
Reference: 3. <author> Aczel, P., Mendler, N., </author> <title> A final coalgebra theorem, </title> <booktitle> In Category Theory and Computer Science (1989), </booktitle> <editor> D. H. Pitt, D. E. Rydeheard, P. Dybjer, A. M. Pitts,, A. Poigne, Eds., </editor> <publisher> Springer, </publisher> <pages> pp. 356-365, </pages> <note> LNCS 389 </note>
Reference-contexts: One important approach is based upon the final coalgebra. This category-theoretic notion relates to the methods of bisimulation and coinduction, which are heavily used in concurrency theory [6], functional programming [1] and operational semantics [7]. Aczel and Mendler <ref> [3] </ref> and also Barr [4] have proved that final coalgebras exist in set theory for large classes of naturally occurring functors. This might be supposed to satisfy most people's requirements. <p> From this point of view, the general theorems of Aczel and Mendler <ref> [3] </ref> and Barr [4] yield final coalgebras for a great many functors. But there is an undoubted interest in Aczel's weaker final coalgebra theorem, proved using the Anti-Foundation Axiom (AFA) [2]. Its appeal is its concreteness. <p> Thus we have an account of non-well-founded phenomena that is concrete enough to be understood directly. One can argue about the constructive validity of the cumulative hierarchy, but V ! is uncontroversial even from an intuitionistic viewpoint. In contrast the general final coalgebra theorems <ref> [3, 4] </ref>, with their quotient-of-sum constructions, are anything but concrete. Aczel has shown that by adopting AFA we can obtain final coalgebras as greatest fixedpoints, dualising a standard result about initial algebras. My approach is another way of doing the same thing, though for fewer functors.
Reference: 4. <author> Barr, M., </author> <title> Terminal coalgebras in well-founded set theory, </title> <journal> Theoretical Comput. Sci. </journal> <volume> 114, 2 (1993), </volume> <pages> 299-315 </pages>
Reference-contexts: One important approach is based upon the final coalgebra. This category-theoretic notion relates to the methods of bisimulation and coinduction, which are heavily used in concurrency theory [6], functional programming [1] and operational semantics [7]. Aczel and Mendler [3] and also Barr <ref> [4] </ref> have proved that final coalgebras exist in set theory for large classes of naturally occurring functors. This might be supposed to satisfy most people's requirements. But Aczel [2] has argued the case for a non-standard set theory in which infinite computations, and other non-well-founded phenomena, can be modelled directly. <p> From this point of view, the general theorems of Aczel and Mendler [3] and Barr <ref> [4] </ref> yield final coalgebras for a great many functors. But there is an undoubted interest in Aczel's weaker final coalgebra theorem, proved using the Anti-Foundation Axiom (AFA) [2]. Its appeal is its concreteness. <p> Thus we have an account of non-well-founded phenomena that is concrete enough to be understood directly. One can argue about the constructive validity of the cumulative hierarchy, but V ! is uncontroversial even from an intuitionistic viewpoint. In contrast the general final coalgebra theorems <ref> [3, 4] </ref>, with their quotient-of-sum constructions, are anything but concrete. Aczel has shown that by adopting AFA we can obtain final coalgebras as greatest fixedpoints, dualising a standard result about initial algebras. My approach is another way of doing the same thing, though for fewer functors.
Reference: 5. <author> Kunen, K., </author> <title> Set Theory: An Introduction to Independence Proofs, </title> <publisher> North-Holland, </publisher> <year> 1980 </year>
Reference-contexts: Let ff, fi range over ordinals and , range over limit ordinals. The cumulative hierarchy of sets is traditionally defined by cases: V 0 = 0 V = ff&lt; More convenient is the equivalent definition V ff fi&lt;ff Kunen <ref> [5, pp. 95-7] </ref> discusses the cumulative hierarchy, using the notation R (ff) instead of V ff . Note some elementary consequences of these definitions: Lemma 4. <p> Using the lemma above requires some facts concerning intersection with V ff . Definition 8. A set A is transitive if A P (A). Lemma 9. V ff is transitive for every ordinal ff. Proof. See Kunen <ref> [5, p. 95] </ref>. ut Now we can go down the cumulative hierarchy as well as up. Lemma 10. If ha; bi 2 V ff+1 then a 2 V ff and b 2 V ff . Proof.
Reference: 6. <author> Milner, R., </author> <title> Communication and Concurrency, </title> <publisher> Prentice-Hall, </publisher> <year> 1989 </year>
Reference-contexts: 1 Introduction A recurring issue in theoretical computer science is the treatment of infinite computations. One important approach is based upon the final coalgebra. This category-theoretic notion relates to the methods of bisimulation and coinduction, which are heavily used in concurrency theory <ref> [6] </ref>, functional programming [1] and operational semantics [7]. Aczel and Mendler [3] and also Barr [4] have proved that final coalgebras exist in set theory for large classes of naturally occurring functors. This might be supposed to satisfy most people's requirements.
Reference: 7. <author> Milner, R., Tofte, M., </author> <title> Co-induction in relational semantics, </title> <journal> Theoretical Comput. Sci. </journal> <volume> 87 (1991), </volume> <pages> 209-220 </pages>
Reference-contexts: 1 Introduction A recurring issue in theoretical computer science is the treatment of infinite computations. One important approach is based upon the final coalgebra. This category-theoretic notion relates to the methods of bisimulation and coinduction, which are heavily used in concurrency theory [6], functional programming [1] and operational semantics <ref> [7] </ref>. Aczel and Mendler [3] and also Barr [4] have proved that final coalgebras exist in set theory for large classes of naturally occurring functors. This might be supposed to satisfy most people's requirements.
Reference: 8. <author> Paulson, L. C., </author> <title> Set theory for verification: I. From foundations to functions, </title> <journal> J. Auto. Reas. </journal> <volume> 11, 3 (1993), </volume> <pages> 353-389 </pages>
Reference-contexts: The axioms turn out to be pairwise incomparable; the various logicians who devised these axioms conceived four distinct notions of non-well-founded set. Is this really a fundamental notion? I have devoted considerable effort to machine-assisted proof in ZF set theory, using the theorem prover Isabelle <ref> [8, 9] </ref>. It would be easy to separate FA from the other ZF axioms and move most of the formalisation into the resulting theory of ZF . Isabelle can support parallel developments in ZF and ZF + AF A.
Reference: 9. <author> Paulson, L. C., </author> <title> Set theory for verification: II. Induction and recursion, </title> <type> Tech. Rep. 312, </type> <institution> Comp. Lab., Univ. </institution> <address> Cambridge, </address> <year> 1993, </year> <note> To appear in J. Auto. Reas. </note>
Reference-contexts: The axioms turn out to be pairwise incomparable; the various logicians who devised these axioms conceived four distinct notions of non-well-founded set. Is this really a fundamental notion? I have devoted considerable effort to machine-assisted proof in ZF set theory, using the theorem prover Isabelle <ref> [8, 9] </ref>. It would be easy to separate FA from the other ZF axioms and move most of the formalisation into the resulting theory of ZF . Isabelle can support parallel developments in ZF and ZF + AF A.
Reference: 10. <author> Paulson, L. C., </author> <title> A fixedpoint approach to implementing (co)inductive definitions, </title> <booktitle> In 12th Conf. Auto. </booktitle> <address> Deduct. </address> <year> (1994), </year> <editor> A. Bundy, Ed., </editor> <publisher> Springer, </publisher> <pages> pp. </pages> <month> 148-161, </month> <title> LNAI 814 3 An hereditarily finite set is one built in finitely many stages from the empty set. </title> <type> 21 </type>
Reference-contexts: Mechanisation of AFA requires a formalisation of the axiom and its main consequences, such as the Solution Lemma, in a form suitable for working with particular final coalgebras. A partial implementation of my approach to final coalgebras already exists <ref> [10] </ref>. Outline. My strategy is to construct a final coalgebra to replace AFA, and then to re-play Rutten and Turi's categorical proofs [12]. Section 2 presents basic motivation | Quine's ordered pairs and their generalisation to functions | and proves some lemmas about the cumulative hierarchy, V ff .
Reference: 11. <author> Quine, W. V., </author> <title> On ordered pairs and relations, In Selected Logic Papers. Random House, </title> <booktitle> 1966, ch. VIII, </booktitle> <pages> pp. 110-113, </pages> <note> Orginally published 1945-6 </note>
Reference-contexts: The rank of ha; bi is therefore two levels above those of a and b; there are no solutions to b = ha; bi. Quine <ref> [11] </ref> has proposed a definition of ordered pair that need not entail an increase of rank. Quine's definition is complicated because (among other things) it avoids using standard ordered pairs. I regard standard pairs as indispensable, and they let us define Quine-like ordered pairs easily.
Reference: 12. <author> Rutten, J. J. M. M., Turi, D., </author> <title> On the foundations of final semantics: Non-standard sets, metric spaces, partial orders, In Semantics: Foundations and Applications (1993), </title> <editor> J. de Bakker, W.-P. de Roever,, G. Rozenberg, Eds., </editor> <publisher> Springer, </publisher> <pages> pp. 477-530, </pages> <note> LNCS 666 22 </note>
Reference-contexts: A partial implementation of my approach to final coalgebras already exists [10]. Outline. My strategy is to construct a final coalgebra to replace AFA, and then to re-play Rutten and Turi's categorical proofs <ref> [12] </ref>. Section 2 presents basic motivation | Quine's ordered pairs and their generalisation to functions | and proves some lemmas about the cumulative hierarchy, V ff . <p> we have, by the definition of V ff and properties of unions, ( ~ x2A b x ) " V ff = ( ~ x2A b x ) " fi&lt;ff = fi&lt;ff fi&lt;ff The last step is by (a) above. ut 3 A Final Coalgebra Rutten and Turi's excellent survey <ref> [12] </ref> of final semantics includes a categorical presentation of Aczel's main results. <p> The embedding will be useful for creating equations with constant right-hand sides. Although the embedding is obvious, its existence deserves to be proved. Aczel derives the analogous embedding from V into V X by direct recourse to AFA [2]. Rutten and Turi <ref> [12] </ref> omit this step, which in their categorical style might be done by showing that V X is a final coalgebra for the functor P (X + ). Lemma 22. <p> This notion is due to Aczel [2], but I follow Rutten and Turi's <ref> [12] </ref> formulation. We shall no longer work in the category Set of sets but rather in the full subcategory Set U whose objects are the subsets of U . <p> Thomas Forster suggested that Quine's treatment of ordered pairs might help. Generalizing this treatment led to the new definition of functions (and thus infinite streams), in order to compare the approach with AFA. This part of the work closely follows Aczel, and Rutten and Turi <ref> [12] </ref>, from the Substitution Lemma onwards. My Special Final Coalgebra Theorem is less general than Aczel's, especially as regards concurrency. Here is a typical example. Let P f be the finite powerset operator, which returns the set of all finite subsets of its argument.
References-found: 12

