URL: http://www.eecs.umich.edu/~wuchang/work/nossdav97.ps.Z
Refering-URL: http://www.eecs.umich.edu/RTCL/qos/
Root-URL: http://www.cs.umich.edu
Email: fwuchang,kgshing@eecs.umich.edu fkandlur,debanjang@watson.ibm.com  
Title: Understanding TCP Dynamics in an Integrated Services Internet  
Author: Wu-chang Fengy Dilip D. Kandlurz Debanjan Sahaz Kang G. Shiny 
Address: Ann Arbor, MI 63130 Yorktown Heights, NY 10598  
Affiliation: yDepartment of EECS zNetwork Systems Department University of Michigan IBM T.J. Watson Research Center  
Date: 97), May 1997.  
Note: In Proceedings of the 7th International Workshop on Network and Operating Systems Support for Digital Audio and Video (NOSSDAV  
Abstract: A large number of Internet applications are sensitive to overload conditions in the network. While these applications have been designed to adapt somewhat to the varying conditions in the Internet, they can benefit greatly from an increased level of predictability in network services. We propose minor extensions to the packet queueing and discard mechanisms used in routers, coupled with simple control mechanisms at the source that enable the network to guarantee minimal levels of throughput to different network sessions while sharing the residual network capacity in a cooperative manner. The service realized by the proposed mechanisms is an interpretation of the controlled-load service being standardized by the ietf. Although controlled-load service can be used in conjunction with any transport protocol, our focus in this paper is on understanding its interaction with tcp. Specifically, we study the dynamics of tcp traffic in an integrated services network that simultaneously supports both best-effort and controlled-load sessions. In light of this study, we propose and experiment with several variations to tcp's control mechanisms with the objective of fine-tuning them for an integrated services environment. We then investigate the overheads associated with these enhancements and the benefits they provide. Finally, we show how the service mechanisms proposed here can be embedded within more elaborate packet and link scheduling frameworks in a fully-evolved integrated services Internet. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> R. Braden, D. Clark, and S. Shenker. </author> <title> Integrated Services in the Internet Architecture: An Overview. </title> <type> RFC 1633, </type> <month> June </month> <year> 1994. </year> <month> ISI/MIT/PARC. </month>
Reference-contexts: 1 Introduction A large class of Internet applications, referred to as tolerant playback applications in <ref> [1, 15] </ref>, can greatly benefit from an increased level of predictability in network services. These applications typically buffer a portion of the data on the client before starting the playback, and then operate in a streaming mode to keep the buffer from underflowing. <p> These applications can benefit tremendously from a network service that guarantees a minimum level of throughput at all times, but allows for the possibility of higher throughput during periods of light loads. Such a service is also useful to more traditional, elastic applications <ref> [1, 15] </ref>, such as ftp and telnet. Tasks such as booting a disk-less workstation over the network, backing up remote files, and synchronizing web proxies can be performed with more predictability and within a bounded time by guaranteeing a minimal bandwidth to the underlying sessions. <p> For a systematic deployment of the full portfolio of services in the Internet, a number of sophisticated mechanisms, such as class-based queueing [5] and weighted fair queueing <ref> [1, 2, 6, 7, 14-16] </ref>, have been proposed. In Section 6, we discuss how the ered mechanism can be embedded in a more elaborate packet queueing and scheduling architecture. 3 Understanding TCP Dynamics This section is devoted to the study of tcp dynamics in an integrated services environment. <p> In cbq, datagrams belonging to different classes are put in different queues in the routers. The queues are serviced in different priority order based on the allocation given to the associated traffic class. The use of per-session fair queueing mechanisms, including the weighted fair queueing (wfq) <ref> [1, 2, 6, 7, 14-16] </ref>, has also been considered in this context. One possible way to realize controlled-load service is to treat each controlled-load connection as a separate session and reserve a rate of service commensurate with its Tspec.
Reference: [2] <author> A. Demers, S. Keshav, and S. Shenker. </author> <title> Analysis and Simulation of Fair Queuing Algorithm. </title> <booktitle> In Proceedings of SIGCOMM, </booktitle> <year> 1989. </year>
Reference-contexts: For a systematic deployment of the full portfolio of services in the Internet, a number of sophisticated mechanisms, such as class-based queueing [5] and weighted fair queueing <ref> [1, 2, 6, 7, 14-16] </ref>, have been proposed. In Section 6, we discuss how the ered mechanism can be embedded in a more elaborate packet queueing and scheduling architecture. 3 Understanding TCP Dynamics This section is devoted to the study of tcp dynamics in an integrated services environment. <p> In cbq, datagrams belonging to different classes are put in different queues in the routers. The queues are serviced in different priority order based on the allocation given to the associated traffic class. The use of per-session fair queueing mechanisms, including the weighted fair queueing (wfq) <ref> [1, 2, 6, 7, 14-16] </ref>, has also been considered in this context. One possible way to realize controlled-load service is to treat each controlled-load connection as a separate session and reserve a rate of service commensurate with its Tspec.
Reference: [3] <author> W. Feng, D. Kandlur, D. Saha, and K. Shin. </author> <title> TCP Enhancements for an Integrated Services Internet. </title> <type> Technical Report RC 20618, </type> <institution> IBM Research, </institution> <month> Novem-ber </month> <year> 1996. </year>
Reference-contexts: While the delayed transmissions work reasonably well when the reverse path is lightly loaded <ref> [3] </ref>, additional experiments have shown that it is not very effective in the presence of reverse path congestion. The second mechanism we examine involves the use of a periodic timer. In this scheme, we augment tcp's acknowledgment-triggered transmissions with a timer-triggered transmission mechanism.
Reference: [4] <author> S. Floyd and V. Jacobson. </author> <title> Random Early Detection Gateways for Congestion Avoidance. </title> <journal> ACM/IEEE Transactions on Networking, </journal> <volume> 1(4) </volume> <pages> 397-413, </pages> <month> August </month> <year> 1993. </year>
Reference-contexts: In this scheme, each reserved session is associated with a traffic envelope. Traffic is policed at the source and packets conforming to the envelope are marked. Non-conformant traffic and best-effort traffic is injected into the network unmarked. At the routers we use an enhanced random early detection (red) <ref> [4] </ref> and discard mechanism. Both marked and unmarked packets share the same fifo queue. When the queue length at the router exceeds a certain threshold, packets are dropped randomly as done in red gateways. <p> Enhanced Random Early Detection (ered) is a minor modification to the original red algorithm. In ered, the drop probabilities of marked packets are lower than that of unmarked packets. Studies have shown that red gateways are better than traditional drop-tail routers in terms of fairness to bursty traffic <ref> [4] </ref>. It can also be parameterized to control the queue size, and hence, the queueing delay. Note that ered guarantees low loss rate to conformant controlled load traffic.
Reference: [5] <author> S. Floyd and V. Jacobson. </author> <title> Link-sharing and Resource Management Models for Packet Networks. </title> <journal> IEEE/ACM Transactions on Networking, </journal> <volume> 3(4), </volume> <month> August </month> <year> 1995. </year>
Reference-contexts: Our objective is to study how we can offer a particularly useful network service with minimal changes to the routers and the end-hosts. For a systematic deployment of the full portfolio of services in the Internet, a number of sophisticated mechanisms, such as class-based queueing <ref> [5] </ref> and weighted fair queueing [1, 2, 6, 7, 14-16], have been proposed. <p> In this section, we examine the different approaches to traffic management in the Internet and the role the ered mechanism can play in such an environment. Class-based queueing (cbq) <ref> [5] </ref> is one of the most popular mechanisms proposed for packet and link scheduling (a) 80KB Buffers. (b) 160KB Buffers. in an integrated services Internet. In cbq, datagrams belonging to different classes are put in different queues in the routers.
Reference: [6] <author> S. Golestani. </author> <title> A Self-Clocked Fair Queuing Scheme for Broadband Applications. </title> <booktitle> In Proceedings of IN-FOCOM, </booktitle> <month> June </month> <year> 1994. </year>
Reference-contexts: For a systematic deployment of the full portfolio of services in the Internet, a number of sophisticated mechanisms, such as class-based queueing [5] and weighted fair queueing <ref> [1, 2, 6, 7, 14-16] </ref>, have been proposed. In Section 6, we discuss how the ered mechanism can be embedded in a more elaborate packet queueing and scheduling architecture. 3 Understanding TCP Dynamics This section is devoted to the study of tcp dynamics in an integrated services environment. <p> In cbq, datagrams belonging to different classes are put in different queues in the routers. The queues are serviced in different priority order based on the allocation given to the associated traffic class. The use of per-session fair queueing mechanisms, including the weighted fair queueing (wfq) <ref> [1, 2, 6, 7, 14-16] </ref>, has also been considered in this context. One possible way to realize controlled-load service is to treat each controlled-load connection as a separate session and reserve a rate of service commensurate with its Tspec.
Reference: [7] <author> P. Goyal, H. Vin, and H. Cheng. </author> <title> Start-time Fair Queuing: A Scheduling Algorithm for Integrated Services Packet Switching Networks. </title> <booktitle> In Proceedings of ACM SIGCOMM, </booktitle> <pages> pages 157-168, </pages> <month> August </month> <year> 1996. </year>
Reference-contexts: For a systematic deployment of the full portfolio of services in the Internet, a number of sophisticated mechanisms, such as class-based queueing [5] and weighted fair queueing <ref> [1, 2, 6, 7, 14-16] </ref>, have been proposed. In Section 6, we discuss how the ered mechanism can be embedded in a more elaborate packet queueing and scheduling architecture. 3 Understanding TCP Dynamics This section is devoted to the study of tcp dynamics in an integrated services environment. <p> In cbq, datagrams belonging to different classes are put in different queues in the routers. The queues are serviced in different priority order based on the allocation given to the associated traffic class. The use of per-session fair queueing mechanisms, including the weighted fair queueing (wfq) <ref> [1, 2, 6, 7, 14-16] </ref>, has also been considered in this context. One possible way to realize controlled-load service is to treat each controlled-load connection as a separate session and reserve a rate of service commensurate with its Tspec.
Reference: [8] <author> R. Goyal, R. Jain, S. Kalyanaraman, and S. Fahmy. UBR+: </author> <title> Improving Performance of TCP over ATM-UBR Service. </title> <note> Submitted to ICC 1997: http://www.cis.ohio-state.edu/ jain/icc97.ps, </note> <year> 1996. </year>
Reference-contexts: Integrated services in the Internet is a relatively new area of research. To the best of our knowledge, no published work addresses the specific issues discussed in this paper. In a more general sense, studies on supporting tcp over abr/ubr services in atm networks <ref> [8, 12] </ref> address similar issues. However, due to significant differences between the service architectures of atm and the Internet, the nature and the focus of these studies are quite different. <p> In a more general sense, studies on supporting tcp over abr/ubr services in atm networks [8, 12] address similar issues. However, due to significant differences between the service architectures of atm and the Internet, the nature and the focus of these studies are quite different. In <ref> [8] </ref>, the authors propose using a modified switch buffer allocation policy in order to obtain peak throughput and fairness among tcp connections over atm. In particular, each connection is effectively provided with a weighted fair share of the buffers in the switch.
Reference: [9] <author> J. C. Hoe. </author> <title> Improving the Start-up Behavior of a Congestion Control Scheme for TCP. </title> <booktitle> In Proceedings of ACM SIGCOMM, </booktitle> <pages> pages 270-280, </pages> <month> August </month> <year> 1996. </year>
Reference-contexts: While the simulator does not use production tcp code, it implements congestion and error control algorithms used in different implementations of tcp with remarkable accuracy. For most of the experiments reported here, we use a Reno-variant of tcp <ref> [9] </ref>. We modified the simulator by adding policing and extending the red queueing discipline. For the experiments in this section, we consider a simple network topology shown in Figure 1. The capacity of each bi-directional link is labeled and has a transmission delay of 10ms.
Reference: [10] <author> V. Jacobson, R. Braden, and D. </author> <title> Borman. TCP Extensions for High Performance. Internet Draft draft-ietf-tcplw-high-performance-00.txt, </title> <month> February </month> <year> 1997. </year> <month> LBL/ISI/BSDI. </month>
Reference-contexts: Note that the reserved part of cwnd is a function of the round-trip time. While we currently use the common tcp round-trip measurements to estimate this, measurements using the proposed tcp timestamps option (rttm) <ref> [10] </ref> can provide a more accurate estimate. Let us assume that the size of the reservation window is rwnd. Hence, the size of the variable window is cwnd-rwnd.
Reference: [11] <author> S. McCanne and S. Floyd. </author> <title> http://www-nrg.ee.lbl.gov/ns/. ns - LBNL Network Simulator, </title> <year> 1996. </year>
Reference-contexts: For the purpose of the experiments, we modified the ns <ref> [11] </ref> simulator. The ns simulator has been used extensively in a number of studies reported in the literature. While the simulator does not use production tcp code, it implements congestion and error control algorithms used in different implementations of tcp with remarkable accuracy.
Reference: [12] <author> P. Mishra. </author> <title> Effect of Leaky Bucket Policing on TCP over ATM performance. </title> <booktitle> In Proceedings of ICC, </booktitle> <year> 1996. </year>
Reference-contexts: Integrated services in the Internet is a relatively new area of research. To the best of our knowledge, no published work addresses the specific issues discussed in this paper. In a more general sense, studies on supporting tcp over abr/ubr services in atm networks <ref> [8, 12] </ref> address similar issues. However, due to significant differences between the service architectures of atm and the Internet, the nature and the focus of these studies are quite different.
Reference: [13] <author> E. Rathgeb. </author> <title> Modeling and Performance Comparison of Policing Mechanisms for ATM Networks. </title> <journal> IEEE Journal on Selected Areas of Communication, </journal> <volume> 9(3), </volume> <year> 1991. </year>
Reference-contexts: The service priority given to a packet is a function of the Tspec, and in the case of some service classes, a separate service specification known as Rspec. For controlled-load service, no Rspec is specified. In order to police traffic at the source, we use token buckets <ref> [13] </ref>. The token generation process follows the Tspec advertised by the source. That is, the long-term average rate of token generation is t m , the short-term peak rate of token generation is t p , and the depth of the token bucket is b.
Reference: [14] <author> J. Rexford, A. Greenberg, and F. Bonomi. </author> <title> Hardware-Efficient Fair Queueing Architecture for High-Speed Networks. </title> <booktitle> In Proceedings of INFOCOM, </booktitle> <month> March </month> <year> 1996. </year>
Reference: [15] <author> S. Shenker, D. Clark, and L. Zhang. </author> <title> A Scheduling Service Model and a Scheduling Architecture for an Integrated Services Packet Network. </title> <type> Unpublished, </type> <year> 1993. </year>
Reference-contexts: 1 Introduction A large class of Internet applications, referred to as tolerant playback applications in <ref> [1, 15] </ref>, can greatly benefit from an increased level of predictability in network services. These applications typically buffer a portion of the data on the client before starting the playback, and then operate in a streaming mode to keep the buffer from underflowing. <p> These applications can benefit tremendously from a network service that guarantees a minimum level of throughput at all times, but allows for the possibility of higher throughput during periods of light loads. Such a service is also useful to more traditional, elastic applications <ref> [1, 15] </ref>, such as ftp and telnet. Tasks such as booting a disk-less workstation over the network, backing up remote files, and synchronizing web proxies can be performed with more predictability and within a bounded time by guaranteeing a minimal bandwidth to the underlying sessions.
Reference: [16] <author> M. Shreedhar and G. Varghese. </author> <title> Efficient Fair Queuing using Deficit Round Robin. </title> <journal> IEEE/ACM Transactions on Networking, </journal> <volume> 4(3), </volume> <month> June </month> <year> 1996. </year>
Reference: [17] <author> J. Wroclawski. </author> <title> Specification of controlled-load network element service. Internet Draft draft-ietf-intserv-ctrl-load-svc-04.txt, November 1996. </title> <publisher> MIT. </publisher>
Reference-contexts: This service can also be used to set up a virtual overlay network in the Internet, connecting business-critical servers and clients with virtual links of a minimum guaranteed bandwidth. The controlled-load service <ref> [17] </ref> currently being standardized by the Internet Engineering Task Force (ietf) fits very well into the scenarios sketched above. It is part of an ambitious goal of defining a service architecture that is suitable for a diversity of applications.
Reference: [18] <author> L. Zhang, S. Shenker, and D. Clark. </author> <title> Observations on the Dynamics of a Congestion Control Algorithm: The Effects of Two-Way Traffic. </title> <booktitle> In Proceedings of ACM SIGCOMM, </booktitle> <pages> pages 133-148, </pages> <month> August </month> <year> 1991. </year>
Reference-contexts: Another cause for token loss is the presence of persistent gaps in the acknowledgment stream. Such gaps are part of a phenomenon commonly referred to as ack-compression <ref> [18] </ref>. Since tcp uses acknowledgments to trigger transmissions, any significant time gap between the receipt of successive acknowledgments causes the token bucket to overflow and results in a loss of transmission credits.
References-found: 18

