URL: http://ballade.cs.ucla.edu:8080/~dongmin/papers/asp_dac95.ps.gz
Refering-URL: http://cadlab.cs.ucla.edu:80/~dongmin/publications.html
Root-URL: http://www.cs.ucla.edu
Title: Exploiting Signal Flow and Logic Dependency in Standard Cell Placement  
Author: Jason Cong and Dongmin Xu 
Address: Los Angeles, CA 90024  
Affiliation: Computer Sci. Dept., UCLA,  
Abstract: Most existing placement algorithms consider only connectivity information during the placement process, and ignore other information available from the higher levels of design process. In this paper, we exploit the use of signal flow and logic dependency in standard cell placement by using the maximum fanout-free cone (MFFC) decomposition technique. We developed a containment tree based algorithm for splitting large MFFCs into smaller ones to get clusters with restricted sizes. We also developed a placement algorithm, named MFFC-TW, which first clusters the circuit based on MFFC decomposition and then feeds the clustered circuit to the Timberwolf6.0 placement package. Very promising experimental results were obtained. 
Abstract-found: 1
Intro-found: 1
Reference: [AlKa93] <author> Alpert, C. J. and A. B. Kahng, </author> <title> ``Geometric Embeddings for Faster (and Better) Multi-Way Netlist Partitioning,'' </title> <booktitle> Proc. ACM/IEEE Design Automation Conf., </booktitle> <pages> pp. 743-748, </pages> <month> June </month> <year> 1993. </year>
Reference-contexts: The MFFC decomposition technique for combination circuits was first proposed by Cong and Ding [CoDi93] for duplication-free area-optimal technology mapping of lookup-table based FPGAs. Most existing clustering algorithms, such as the density-based clustering algorithm [CoSm93], random-walk based clustering [HaKa92], absorption based clustering [SuS93], and multi-dimensional spectral embedding based clustering <ref> [AlKa93, ChSZ93] </ref>, use solely the connectivity information among the components, while MFFC decomposition considers both signal directions and logic gate dependency in the circuit.
Reference: [ChSZ93] <author> Chan, P., M. Schlag, and J. Zien, </author> <title> ``Spectral K-Way Ratio-Cut Partitioning and Clustering,'' </title> <booktitle> Proc. 30th ACM/IEEE Design Automation Conf., </booktitle> <month> June </month> <year> 1993. </year>
Reference-contexts: The MFFC decomposition technique for combination circuits was first proposed by Cong and Ding [CoDi93] for duplication-free area-optimal technology mapping of lookup-table based FPGAs. Most existing clustering algorithms, such as the density-based clustering algorithm [CoSm93], random-walk based clustering [HaKa92], absorption based clustering [SuS93], and multi-dimensional spectral embedding based clustering <ref> [AlKa93, ChSZ93] </ref>, use solely the connectivity information among the components, while MFFC decomposition considers both signal directions and logic gate dependency in the circuit.
Reference: [CoDi93] <author> Cong, J. and Y. Ding, </author> <title> ``On Area/Depth Trade-off in LUT-Based FPGA Technology Mapping,'' </title> <booktitle> Proc. 30th ACM/IEEE Design Automation Conf., </booktitle> <pages> pp. 213-218, </pages> <month> June </month> <year> 1993. </year>
Reference-contexts: Such relationship is implied by signal flow and logic dependency. In this paper, we developed an effective circuit clustering method based on the theory of maximum fanout-free cone (MFFC) decomposition. The MFFC decomposition technique for combination circuits was first proposed by Cong and Ding <ref> [CoDi93] </ref> for duplication-free area-optimal technology mapping of lookup-table based FPGAs. <p> Section 3 describes our MFFC clustering based placement algorithm. The experimental results are presented in Section 4. Finally, conclusions and future research are included in Section 5. 2. Review of MFFC and Its Properties The MFFC decomposition technique was first proposed for combination circuits <ref> [CoDi93] </ref>. Let input (v ) denote the set of nodes which are the fanins of node v, and output (v ) the set of nodes which are the fanouts of node v. <p> Therefore, it is very natural to cluster u and v together. In general, all the gates in a single MFFC v can be considered to be closely related, since they are used solely for computation of v. The results in <ref> [CoDi93, CoDi94b] </ref> showed that MFFCs have the following important properties: (P1) If w MFFC v , then MFFC w MFFC v . (P2) Two MFFCs are either disjoint or one must contain another. <p> The following results have been shown for MFFC decomposition: (P3) For technology mapping of lookup-table (LUT) based FPGAs, we can compute an area-optimal duplication-free mapping of each MFFC in the MFFC decomposition of N independently to get an area-optimal duplication-free mapping of N <ref> [CoDi93] </ref>. (P4) For acyclic partitioning, if we do not consider the area constraint, there is an optimal acyclic two-way partition (X,Y) of N, such that for each MFFC i in the MFFC decomposition of N, either X MFFC i = f or MFFC i X [CoLB94]. (i.e. the optimal cut will <p> The remainder of this section explains each step in detail. 3.1. MFFC Decomposition We use the MFFC decomposition method for combinational circuits from <ref> [CoDi93] </ref> and extend it to the sequential circuits by allowing directed cycles in some MFFCs. Given a combinational or sequential circuit N, we first remove clock and reset signals, since they are connected to all sequential elements. Let set Q, initialized to empty, store the resulting MFFCs from our decomposition.
Reference: [CoDi94b] <author> Cong, J. and Y. Ding, </author> <title> ``On Area/Depth Trade-off in LUT-Based FPGA Technology Mapping,'' </title> <journal> IEEE Trans. on VLSI Systems, </journal> <volume> Vol. 2, </volume> <pages> pp. 137-148, </pages> <month> June </month> <year> 1994. </year>
Reference-contexts: Therefore, it is very natural to cluster u and v together. In general, all the gates in a single MFFC v can be considered to be closely related, since they are used solely for computation of v. The results in <ref> [CoDi93, CoDi94b] </ref> showed that MFFCs have the following important properties: (P1) If w MFFC v , then MFFC w MFFC v . (P2) Two MFFCs are either disjoint or one must contain another.
Reference: [CoLB94] <author> Cong, J., Z. Li, and R. Bagrodia, </author> <title> ``Acyclic Multi-Way Partitioning of Boolean Networks,'' </title> <booktitle> Proc. ACM/IEEE 31st Design Automation Conf., </booktitle> <pages> pp. 670-675, </pages> <month> June </month> <year> 1994. </year>
Reference-contexts: Recently, it has been applied to area-balanced multi-way circuit partitioning <ref> [CoLB94] </ref> and showed 30% to 50% reduction of net cut-size when compared with the well-known K-way FM partitioning algorithm [Sa89]. These results motivate us to study the impact of the MFFC based clustering method on circuit placement. <p> area-optimal duplication-free mapping of N [CoDi93]. (P4) For acyclic partitioning, if we do not consider the area constraint, there is an optimal acyclic two-way partition (X,Y) of N, such that for each MFFC i in the MFFC decomposition of N, either X MFFC i = f or MFFC i X <ref> [CoLB94] </ref>. (i.e. the optimal cut will not cut through any MFFCs). It is clear that MFFC decomposition considers both signal flow and logic dependency. The properties P1-P4 further suggest that MFFC decomposition produces natural circuit decomposition.
Reference: [CoSm93] <author> Cong, J. and M. Smith, </author> <title> ``A Bottom-up Clustering Algorithm with Applications to Circuit Partitioning in VLSI Designs,'' </title> <booktitle> ACM/IEEE Design Automation Conf., </booktitle> <pages> pp. 755-760, </pages> <month> June </month> <year> 1993. </year>
Reference-contexts: The MFFC decomposition technique for combination circuits was first proposed by Cong and Ding [CoDi93] for duplication-free area-optimal technology mapping of lookup-table based FPGAs. Most existing clustering algorithms, such as the density-based clustering algorithm <ref> [CoSm93] </ref>, random-walk based clustering [HaKa92], absorption based clustering [SuS93], and multi-dimensional spectral embedding based clustering [AlKa93, ChSZ93], use solely the connectivity information among the components, while MFFC decomposition considers both signal directions and logic gate dependency in the circuit. <p> c c c c c c c c c c c c Table 3 Comparison of MFFC-TW and DC-TW with TimberWolf6.0 on MCNC benchmark circuits (* Delay information was only available for fract, struct, and biomed) To study the effectiveness of MFFC clustering, we also implemented the density-based clustering algorithm <ref> [CoSm93] </ref> and replaced the MFFC clustering algorithm with this density-based algorithm in MFFC-TW. This new package is named DC-TW. In this density-based clustering approach, a netlist is represented by a graph rather than a hypergraph. An r-terminal net is represented by an r-clique in the graph. <p> The density of a cluster is defined as M c E hhh , where M c = I cM and E is the total weight of the edges in the cluster. The approach used in <ref> [CoSm93] </ref> is to collapse small cliques recursively if the size and density of each clique are larger than the pre-defined thresholds (the density threshold is defined as a n D, where D is the ratio of the total edge weight to I nM , n is the total number of vertices <p> Experimental results on MCNC layout benchmark circuits indicate that MFFC-TW is very effective. In many cases, we achieved substantial improvement on total number of tracks, total wirelength, and critical path delay. To study the effectiveness of MFFC clustering, we also implemented the density-based clustering algorithm <ref> [CoSm93] </ref> and found that the MFFC clustering approach is more effective. Currently, we plan to perform a floorplan step to handle the clustered circuit, making splitting unnecessary after MFFC decomposition.
Reference: [DeBK90] <author> Dey, S., F. Brglez, and G. Kedem, </author> <title> ``Corolla Based Circuit Partitioning and Resynthesis,'' </title> <booktitle> Proc. 27th Design Automation Conf., </booktitle> <pages> pp. 607-612, </pages> <month> June </month> <year> 1990. </year>
Reference-contexts: The properties P1-P4 further suggest that MFFC decomposition produces natural circuit decomposition. A few other clustering/decomposition methods have been developed in the past which consider signal directions in the circuits. These methods include the corolla based decomposition method by Dey, Brglez, and Kedem <ref> [DeBK90] </ref> based on the analysis of convergent fanouts, and the simple cone-based decomposition by Saucier, Brasen, and Hiol, which allows the overlapping cones.[SaBH93]. In a very recent work [TsLi95], Tsay and Lin introduced a cone structure identified by a clustering heuristic which is similar to MFFC clustering.
Reference: [DoJS92] <author> Doll, K., F. M. Johannes, and G. Sigl, </author> <title> ``Placement Improvement by Network Flow Methods,'' </title> <booktitle> International Workshop on Layout Synthesis, </booktitle> <volume> Vol. 2, </volume> <pages> pp. 179-182, </pages> <month> May </month> <year> 1992. </year>
Reference-contexts: We expect to see better results by MFFC-TW when TimberWolf7.0 is used. It is clear that our MFFC based clustering algorithm can be used with other placement algorithms, such as min-cut based algorithm or analytical placement algorithms like Gordian/Domino <ref> [KlSJ91, DoJS92] </ref>, or Ritual [SrCK91]. 5. Conclusions We have presented a new MFFC clustering approach for large row-based standard cell designs. Because of the inherent properties of MFFC decomposition, the logic dependency relation of cells is carefully maintained in each MFFC cluster.
Reference: [Ha70] <author> Hall, K. M., </author> <title> ``An r-dimensional Quadratic Placement Algorithm,'' </title> <journal> Management Science, </journal> <volume> Vol. 17, </volume> <pages> pp. 219-229, </pages> <year> 1970. </year>
Reference-contexts: When the number of cells in each cluster is large, we use the second smallest eigenvector of the Laplacian matrix of the MFFC to compute a linear placement <ref> [Ha70, HaKa91] </ref>. 3.4. Placement of the Clustered Circuit In general, we can use any placement algorithm at this stage. In our implementation, we choose TimberWolf6.0 [SeLe87] to place the clustered circuit, because of the availability of the tools and the demonstrated quality of TimberWolf6.0 placement solutions. 3.5.
Reference: [HaKa91] <author> Hagen, L. and A. B. Kahng, </author> <title> ``Fast Spectral Methods for Ratio Cut Partitioning and Clustering,'' </title> <booktitle> Proc. IEEE Int'l Conf. on Computer-Aided Design, </booktitle> <pages> pp. </pages> <address> 10--13, </address> <year> 1991. </year>
Reference-contexts: When the number of cells in each cluster is large, we use the second smallest eigenvector of the Laplacian matrix of the MFFC to compute a linear placement <ref> [Ha70, HaKa91] </ref>. 3.4. Placement of the Clustered Circuit In general, we can use any placement algorithm at this stage. In our implementation, we choose TimberWolf6.0 [SeLe87] to place the clustered circuit, because of the availability of the tools and the demonstrated quality of TimberWolf6.0 placement solutions. 3.5.
Reference: [HaKa92] <author> Hagen, L. and A. B. Kahng, </author> <title> ``A New Approach to Effective Circuit Clustering,'' </title> <booktitle> Int'l Conf. on Computer-Aided Design, </booktitle> <pages> pp. 422-427, </pages> <month> Nov. </month> <year> 1992. </year>
Reference-contexts: The MFFC decomposition technique for combination circuits was first proposed by Cong and Ding [CoDi93] for duplication-free area-optimal technology mapping of lookup-table based FPGAs. Most existing clustering algorithms, such as the density-based clustering algorithm [CoSm93], random-walk based clustering <ref> [HaKa92] </ref>, absorption based clustering [SuS93], and multi-dimensional spectral embedding based clustering [AlKa93, ChSZ93], use solely the connectivity information among the components, while MFFC decomposition considers both signal directions and logic gate dependency in the circuit.
Reference: [KlSJ91] <author> Kleinhans, J. M., G. Sigl, F. M. Johannes, and K. J. Antreich, ``GORDIAN: </author> <title> VLSI Placement by Quadratic Programming and Slicing Optimization,'' </title> <journal> IEEE Trans. on Computer-Aided Design, </journal> <volume> Vol. </volume> <pages> 10(3) pp. 356-365, </pages> <month> March </month> <year> 1991. </year>
Reference-contexts: We expect to see better results by MFFC-TW when TimberWolf7.0 is used. It is clear that our MFFC based clustering algorithm can be used with other placement algorithms, such as min-cut based algorithm or analytical placement algorithms like Gordian/Domino <ref> [KlSJ91, DoJS92] </ref>, or Ritual [SrCK91]. 5. Conclusions We have presented a new MFFC clustering approach for large row-based standard cell designs. Because of the inherent properties of MFFC decomposition, the logic dependency relation of cells is carefully maintained in each MFFC cluster.
Reference: [Ko91] <author> Kozminski, K., </author> <title> ``Benchmarks for Layout Synthesis - Evolution and Current Status,'' </title> <booktitle> Proc. ACM/IEEE Design Automation Conference, </booktitle> <pages> pp. 265-270, </pages> <year> 1991. </year>
Reference-contexts: Timing Analysis Since TimberWolf6.0 package provides only a global routing solution, to calculate the critical path delay without implementing the detailed router, we measure the wirelength using the maximum bounding box which encloses all pins of a signal net. The gate delay formula was given below <ref> [Ko91] </ref>: delay = delay_constant + delay_fan output_capacitance where delay_constant is the intrinsic gate delay from an input pin to an output pin, delay_fan the equivalent driver resistance, and output_capacitance the total capacitance seen by the driver. Parameters delay_constant and delay_fan are specified in the cell library.
Reference: [Le90] <author> Lengauer, T., </author> <title> Combinatorial Algorithms for Integrated Circuit Layout, </title> <publisher> John Wiley & Sons (1990). </publisher>
Reference-contexts: The algorithms in the class include the pairwise interchange methods, the force directed methods, and the simulated annealing based methods. More detailed survey of the existing placement algorithms can be found in [PrLo88] and <ref> [Le90] </ref>. Most of existing placement methods ignore the signal flow and logic dependency in the circuit, and simply treat the netlist as an undirected graph or hypergraph, considering only the connectivity information.
Reference: [PrLo88] <author> Preas, B. and M. Lorenzetti, </author> <title> Physical Design Automation of VLSI Systems, </title> <publisher> The Benjamin/Cummings Publishing Company, Inc., </publisher> <address> Menlo Park, CA (1988). </address>
Reference-contexts: The algorithms in the class include the pairwise interchange methods, the force directed methods, and the simulated annealing based methods. More detailed survey of the existing placement algorithms can be found in <ref> [PrLo88] </ref> and [Le90]. Most of existing placement methods ignore the signal flow and logic dependency in the circuit, and simply treat the netlist as an undirected graph or hypergraph, considering only the connectivity information.
Reference: [Sa89] <author> Sanchis, L., </author> <title> ``Multiple-Way Network Partitioning,'' </title> <journal> IEEE Trans. on Computers, </journal> <volume> Vol. 38, </volume> <pages> pp. 62-81, </pages> <year> 1989. </year>
Reference-contexts: Recently, it has been applied to area-balanced multi-way circuit partitioning [CoLB94] and showed 30% to 50% reduction of net cut-size when compared with the well-known K-way FM partitioning algorithm <ref> [Sa89] </ref>. These results motivate us to study the impact of the MFFC based clustering method on circuit placement.
Reference: [SaBH93] <author> Saucier, G., D. Brasen, and J. Hiol, </author> <title> ``Partitioning With Cone Structures,'' </title> <booktitle> Proc. of ICCAD-93, </booktitle> <pages> pp. 236-239, </pages> <year> 1993. </year>
Reference: [SeLe87] <author> Sechen, C. and K. W. Lee, </author> <title> ``An Improved Simulated Annealing Algorithm for Row-Based Placement,'' </title> <booktitle> Proc. IEEE Int'l Conf. on Computer-Aided Design, </booktitle> <pages> pp. 478-481, </pages> <month> Nov. </month> <year> 1987. </year>
Reference-contexts: To study the impact of such MFFC based clustering method on standard cell placement, we developed a placement algorithm, named MFFC-TW, which first clusters the circuit using MFFC based clustering and then feeds the clustered circuit to the Timberwolf6.0 placement package <ref> [SeLe87] </ref>. Experimental results on MCNC layout benchmark circuits show that MFFC-TW reduces the total number of tracks by up to 15.5% (with almost identical width), total wirelength by up to 13.7%, critical path delay by up to 21.2%, and runtime by up to 50.3% when compared to Timberwolf6.0. <p> Placement of the Clustered Circuit In general, we can use any placement algorithm at this stage. In our implementation, we choose TimberWolf6.0 <ref> [SeLe87] </ref> to place the clustered circuit, because of the availability of the tools and the demonstrated quality of TimberWolf6.0 placement solutions. 3.5.
Reference: [SrCK91] <author> Srinivasan, A., K. Chaudhary, and E. S. Kuh, ``RITUAL: </author> <title> Performance Driven Placement Algorithm for Small Cell ICs,'' </title> <booktitle> Proc. IEEE Int'l Conf. on Computer-Aided Design, </booktitle> <pages> pp. 48-51, </pages> <month> Nov. </month> <year> 1991. </year>
Reference-contexts: We expect to see better results by MFFC-TW when TimberWolf7.0 is used. It is clear that our MFFC based clustering algorithm can be used with other placement algorithms, such as min-cut based algorithm or analytical placement algorithms like Gordian/Domino [KlSJ91, DoJS92], or Ritual <ref> [SrCK91] </ref>. 5. Conclusions We have presented a new MFFC clustering approach for large row-based standard cell designs. Because of the inherent properties of MFFC decomposition, the logic dependency relation of cells is carefully maintained in each MFFC cluster.
Reference: [SuS93] <author> Sun, W.-J. and C. Sechen, </author> <title> ``Efficient and Effective Placement for Very Large Circuits,'' </title> <booktitle> Proc. of ICCAD-93, </booktitle> <pages> pp. 170-177, </pages> <year> 1993. </year>
Reference-contexts: The MFFC decomposition technique for combination circuits was first proposed by Cong and Ding [CoDi93] for duplication-free area-optimal technology mapping of lookup-table based FPGAs. Most existing clustering algorithms, such as the density-based clustering algorithm [CoSm93], random-walk based clustering [HaKa92], absorption based clustering <ref> [SuS93] </ref>, and multi-dimensional spectral embedding based clustering [AlKa93, ChSZ93], use solely the connectivity information among the components, while MFFC decomposition considers both signal directions and logic gate dependency in the circuit. <p> c c c c c c c c c c c c c c c c c c c c c Table 4 The clustering results of the density-based algorithm Recently, TimberWolf7.0 has been developed and reported to produce better placement in terms of total wirelength and critical path delay <ref> [SuS93] </ref>. The source codes of TimberWolf7.0 is not available to us at this point so that we have not integrated the MFFC based clustering algorithm with TimberWolf7.0. We expect to see better results by MFFC-TW when TimberWolf7.0 is used.
Reference: [TsLi95] <author> Tsay, Y. and Y. Lin, </author> <title> ``A Row-Based Cell Placement Method That Utilizes Circuit Structural Properties,'' </title> <journal> IEEE Trans. on CAD, </journal> <pages> pp. 393-397, </pages> <month> March </month> <year> 1995. </year>
Reference-contexts: These methods include the corolla based decomposition method by Dey, Brglez, and Kedem [DeBK90] based on the analysis of convergent fanouts, and the simple cone-based decomposition by Saucier, Brasen, and Hiol, which allows the overlapping cones.[SaBH93]. In a very recent work <ref> [TsLi95] </ref>, Tsay and Lin introduced a cone structure identified by a clustering heuristic which is similar to MFFC clustering. They applied this clustering technique to standard cell placement. Their algorithm searches the cones in the given circuit and merges small cones into larger clusters first.
References-found: 21

