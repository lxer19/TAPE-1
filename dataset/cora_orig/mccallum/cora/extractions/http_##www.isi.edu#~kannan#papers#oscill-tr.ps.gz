URL: http://www.isi.edu/~kannan/papers/oscill-tr.ps.gz
Refering-URL: http://www.isi.edu/~kannan/papers/
Root-URL: http://www.isi.edu
Email: -kannan,govindan,estrin-@isi.edu  
Title: Persistent Route Oscillations in Inter-Domain Routing  
Author: Kannan Varadhan Ramesh Govindan Deborah Estrin 
Date: February 6, 1996  
Address: Marina Del Rey, CA 90292.  
Affiliation: USC/Information Sciences Institute  
Abstract: Hop-by-hop inter-domain routing protocols, such as BGP and IDRP , use independent route selection to realize domains' local policies. A domain chooses its routes based on path attributes present in a route. It is widely believed that these inter-domain routing protocols always converge. We show that there exist domain policies that cause BGP/ IDRP to exhibit persistent oscillations. In these oscillations, each domain repeatedly chooses a sequence of routes to a destination. Complex oscillation patterns can occur even in very simple topologies. We analyze the conditions for persistent route oscillations in a simple class of inter-domain topologies and policies. Using this analysis, we evaluate ways to prevent or avoid persistent oscillations in general topologies. We conclude that if a hop-by-hop inter-domain routing protocol allows unconstrained route selection at a domain, the protocol may be susceptible to route oscillations. Constraining route selection to a provably safe procedure (such as shortest path) can reduce the number of realizable policies. Alternatively, a routing policy registry can help detect unsafe policies. Explicit routing can then be used to realize desired policies (i.e., make routes available) that hop by hop routing cannot safely advertise. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> C. Alaettinoglu and J. Yu. </author> <title> Autonomous System Path Expression Extension to Ripe-181. </title> <type> Internet Draft: </type> <institution> RPS working group, </institution> <month> November 21, </month> <year> 1995. </year> <title> Work in progress. </title>
Reference-contexts: The first approach analyzes domain policies a priori to detect the likelihood of route oscillations; one or more domain policies can then be modified to avoid oscillations. A routing policy registry (such as the Internet Routing Registry <ref> [3, 1] </ref>) is useful for this. The second approach introduces additional protocol mechanisms that detect the existence of an oscillation, and modify one or more domains' policies to suppress the oscillation. Unsafe policies can then be realized using explicit routes [8, 10]. use. <p> One mechanism for making policies available is a route registry. Such a route registry currently exists in the Internet for inter-provider route coordination <ref> [1, 3] </ref>. This seems to be a reasonable approach for safely realizing richer policies through hop-by-hop inter-domain routing in the Internet. 5.2 Detecting and Suppressing Oscillations Global analysis detects the likelihood of oscillations a priori.
Reference: [2] <author> C. Alaettino ff glu and A.U. Shankar. </author> <title> The Viewserver Hierarchy for Inter-Domain Routing: Protocols and Evaluation. </title> <journal> IEEE Journal on Selected Areas in Communications, </journal> <volume> 13(8):13961410, </volume> <month> October </month> <year> 1995. </year>
Reference-contexts: BGP [21] and IDRP [13, 19] add independent route selection to path vector algorithms. In our paper, we have shown that eliminating the monotonically increasing metric can introduce route oscillations. Link state based routing protocols, such as Viewservers <ref> [2] </ref>, and map state based protocols, such as Nimrod [7], compute explicit routes from a global information base on demand. These protocols are not susceptible to route oscillations.
Reference: [3] <author> T. Bates, E. Gerich, L. Joncheray, J-M. Jouanigot, D. Karrenberg, M. Terpstra, and J. Yu. </author> <title> Representation of IP Routing Policies in a Routing Registry, </title> <note> RIPE-181 edition, October 3, 1994. Available at ftp://ftp.ripe.net/ripe/docs. </note>
Reference-contexts: The first approach analyzes domain policies a priori to detect the likelihood of route oscillations; one or more domain policies can then be modified to avoid oscillations. A routing policy registry (such as the Internet Routing Registry <ref> [3, 1] </ref>) is useful for this. The second approach introduces additional protocol mechanisms that detect the existence of an oscillation, and modify one or more domains' policies to suppress the oscillation. Unsafe policies can then be realized using explicit routes [8, 10]. use. <p> Next-hop based preference functions have a possible stable assignment in D. In the next section, we show how next-hop based policies may be relatively safely realized when used in conjunction with other mechanisms. Existing Internet provider policies are largely next-hop based <ref> [3] </ref>. However, for next-hop based preference functions to cause oscillations, there must exist a cycle of domains in which every D i prefers D i1 over their fall-back route. <p> One mechanism for making policies available is a route registry. Such a route registry currently exists in the Internet for inter-provider route coordination <ref> [1, 3] </ref>. This seems to be a reasonable approach for safely realizing richer policies through hop-by-hop inter-domain routing in the Internet. 5.2 Detecting and Suppressing Oscillations Global analysis detects the likelihood of oscillations a priori.
Reference: [4] <author> D.P. Bertsekas. </author> <title> Dynamic Behavior of Shortest Path Routing Algorithms for Communication Networks. </title> <journal> IEEE Transactions on Automatic Control, </journal> <volume> AC-27(1):6074, </volume> <month> February </month> <year> 1982. </year>
Reference-contexts: Intuitively, this traffic feedback causes route oscillations in IGRP. The original ARPANET link state based SPF algorithms [17, 14] used delay as a metric. Route oscillations were observed on the ARPANET when portions of the network were heavily congested. These route oscillations are also due to similar traffic feedback <ref> [4] </ref>. Several solutions to delay based oscillations have been proposed. These solutions use approaches such as constraining route selection [14], co-ordination [26], and explicit routing [5]. 15 Path vector protocols were developed [22, 23] to suppress counting-to-infinity problems that occur in distance vector al-gorithms.
Reference: [5] <author> L. M. Breslau. </author> <title> Adaptive Source Routing of Real-Time Traffic in Integrated Services Networks. </title> <type> PhD thesis, </type> <institution> University of Southern California, </institution> <month> December </month> <year> 1995. </year>
Reference-contexts: These route oscillations are also due to similar traffic feedback [4]. Several solutions to delay based oscillations have been proposed. These solutions use approaches such as constraining route selection [14], co-ordination [26], and explicit routing <ref> [5] </ref>. 15 Path vector protocols were developed [22, 23] to suppress counting-to-infinity problems that occur in distance vector al-gorithms. These protocols use the shortest path route selection function and are therefore not susceptible to oscillations. BGP [21] and IDRP [13, 19] add independent route selection to path vector algorithms.
Reference: [6] <author> C. Cheng, Riley R., Srikanta P.R. Kumar, and J.J. Garcia Aceves. </author> <title> A Loop-Free Extended Bellman-Ford Routing Protocol without Bouncing Effect. </title> <booktitle> In Proceedings of the ACM SIGCOMM, </booktitle> <pages> pages 224236, </pages> <year> 1989. </year>
Reference-contexts: The second approach introduces additional protocol mechanisms that detect the existence of an oscillation, and modify one or more domains' policies to suppress the oscillation. Unsafe policies can then be realized using explicit routes [8, 10]. use. If a routing protocol were to use a different loop suppression mechanism <ref> [6] </ref>, but allow independent route selection, it would also be susceptible to the routing behavior we describe here. <p> This is not a new result. We know from [24, 15] that a distance vector hop-by-hop algorithm augmented with a loop suppression mechanism always converges, i.e., never oscillates. This algorithm is similar to a PAIRS algorithm constrained to only select shortest PATH routes <ref> [22, 6] </ref>. 4.2 Next-hop D 2 in Figure 1 advertises r 1 and r 2 to D 0 . By looking at the entire PATH of those routes, D 0 only selects r 2 and not r 1 .
Reference: [7] <author> J. N. Chiappa. </author> <title> A New IP Routing and Addressing Architecture. </title> <type> Internet Draft: </type> <institution> NIMROD Working Group, </institution> <month> April </month> <year> 1994. </year> <title> Work in progress. </title>
Reference-contexts: BGP [21] and IDRP [13, 19] add independent route selection to path vector algorithms. In our paper, we have shown that eliminating the monotonically increasing metric can introduce route oscillations. Link state based routing protocols, such as Viewservers [2], and map state based protocols, such as Nimrod <ref> [7] </ref>, compute explicit routes from a global information base on demand. These protocols are not susceptible to route oscillations.
Reference: [8] <author> D. Estrin, T. Li, Y. Rekhter, et al. </author> <title> Source Demand Routing: Packet Format and Forwarding Specification (Version 1). </title> <type> Internet Draft: </type> <institution> SDR working group, </institution> <month> October 30, </month> <year> 1995. </year> <title> Work in progress. </title>
Reference-contexts: The second approach introduces additional protocol mechanisms that detect the existence of an oscillation, and modify one or more domains' policies to suppress the oscillation. Unsafe policies can then be realized using explicit routes <ref> [8, 10] </ref>. use. If a routing protocol were to use a different loop suppression mechanism [6], but allow independent route selection, it would also be susceptible to the routing behavior we describe here.
Reference: [9] <author> D. Estrin, Y. Rekhter, and S. Hotz. </author> <title> Scalable Inter-Domain Routing Architecture. </title> <booktitle> In Proceedings of the ACM SIGCOMM, </booktitle> <pages> pages 4052, </pages> <address> Baltimore MD, U.S.A., </address> <month> August </month> <year> 1992. </year>
Reference-contexts: Link state based routing protocols, such as Viewservers [2], and map state based protocols, such as Nimrod [7], compute explicit routes from a global information base on demand. These protocols are not susceptible to route oscillations. However, PAIRS protocols have two advantages <ref> [9] </ref>: 1) Destination based hop-by-hop routing aggregates state across all sources whereas explicit-route based protocols do not, and 2) PAIRS protocols support selective reachability advertisement, i.e., a domain can unilaterally choose to not advertise routes to particular destinations. The Unified routing architecture [9] uses a combination of PAIRS based hop-by-hop routing <p> However, PAIRS protocols have two advantages <ref> [9] </ref>: 1) Destination based hop-by-hop routing aggregates state across all sources whereas explicit-route based protocols do not, and 2) PAIRS protocols support selective reachability advertisement, i.e., a domain can unilaterally choose to not advertise routes to particular destinations. The Unified routing architecture [9] uses a combination of PAIRS based hop-by-hop routing and explicit routing to realize policies.
Reference: [10] <author> P. Ford and Y. Rekhter. </author> <title> Explicit Route Protocol (ERP) for IPv6. </title> <type> Internet Draft: </type> <institution> SDR Working Group, </institution> <month> January </month> <year> 1995. </year> <title> Work in progress. </title>
Reference-contexts: The second approach introduces additional protocol mechanisms that detect the existence of an oscillation, and modify one or more domains' policies to suppress the oscillation. Unsafe policies can then be realized using explicit routes <ref> [8, 10] </ref>. use. If a routing protocol were to use a different loop suppression mechanism [6], but allow independent route selection, it would also be susceptible to the routing behavior we describe here.
Reference: [11] <author> J. Guckenheimer and P. Holmes. </author> <title> Nonlinear Oscillations, Dynamic Systems, and Bifurcations of Vector Fields, </title> <booktitle> chapter 1, </booktitle> <pages> pages 2227. </pages> <publisher> Springer-Verlag New York Inc., </publisher> <year> 1983. </year>
Reference-contexts: In this paper, we describe an alternative representation of D's preference functions, which we call a return graph. The choice of this term was motivated by the roughly analogous control-theoretic notion of a first return map (sometimes also called a Poincar map) <ref> [11] </ref>. 3.2 Return Graphs In Section 2, we informally introduced the notion of a domain's r-state. At any instant t, the r-state of a domain is the route it has selected.
Reference: [12] <author> C.L. Hedrick. </author> <title> An Introduction to IGRP. </title> <type> Technical report, </type> <institution> Rutgers University, </institution> <month> August </month> <year> 1991. </year>
Reference-contexts: D 0 's advertisement of r 0 causes D 1 to make a positive transition. A negative transition followed by a positive transition could be used to indicate the likelihood of an oscillation. 6 Related Work IGRP <ref> [12] </ref> is a hop-by-hop protocol in which the metric is a weighted sum of a traffic sensitive component, and a distance sensitive component. Route oscillations can occur in IGRP [16].
Reference: [13] <author> ISO. </author> <title> Protocol for Exchange of Inter-domain Routeing Information among Intermediate Systems to Support Forwarding of ISO 8473 PDUs, </title> <address> ISO/IEC/JTC1/SC6 IS10747 edition, </address> <year> 1993. </year>
Reference-contexts: In a hop-by-hop routing infrastructure, such policies can be realized by selective dissemination of routing information. Both the Border Gateway Protocol version 4 (BGP [21], the widely deployed Internet standard for inter-domain routing) and the Inter-Domain Routing Protocol (IDRP <ref> [13] </ref>) provide this functionality. BGP and IDRP are sometimes called path-vector protocols, after the routing loop suppression mechanism they use. BGP and IDRP also share another characteristicthey both use a similar distributed routing algorithm for hop-by-hop rout ing. <p> These protocols use the shortest path route selection function and are therefore not susceptible to oscillations. BGP [21] and IDRP <ref> [13, 19] </ref> add independent route selection to path vector algorithms. In our paper, we have shown that eliminating the monotonically increasing metric can introduce route oscillations.
Reference: [14] <author> A. Khanna and J. Zinky. </author> <title> The Revised ARPANET Metric. </title> <booktitle> In Proceedings of the ACM SIGCOMM, </booktitle> <pages> pages 4556, </pages> <month> September </month> <year> 1989. </year>
Reference-contexts: Route oscillations can occur in IGRP [16]. When a domain chooses a route with a lower traffic sensitive component, and forwards traffic along that route, that route's metric increases. Intuitively, this traffic feedback causes route oscillations in IGRP. The original ARPANET link state based SPF algorithms <ref> [17, 14] </ref> used delay as a metric. Route oscillations were observed on the ARPANET when portions of the network were heavily congested. These route oscillations are also due to similar traffic feedback [4]. Several solutions to delay based oscillations have been proposed. <p> Route oscillations were observed on the ARPANET when portions of the network were heavily congested. These route oscillations are also due to similar traffic feedback [4]. Several solutions to delay based oscillations have been proposed. These solutions use approaches such as constraining route selection <ref> [14] </ref>, co-ordination [26], and explicit routing [5]. 15 Path vector protocols were developed [22, 23] to suppress counting-to-infinity problems that occur in distance vector al-gorithms. These protocols use the shortest path route selection function and are therefore not susceptible to oscillations.
Reference: [15] <author> L. Lamport. </author> <title> An Assertional Correctness Proof of a Distributed Algorithm. </title> <booktitle> Science of Computer Programming, </booktitle> <volume> 2:175 206, </volume> <year> 1982. </year>
Reference-contexts: Therefore, D will not oscillate if every domain uses shortest path route selection. We believe that shortest path route selection will not cause oscillations in other more general topologies. This is not a new result. We know from <ref> [24, 15] </ref> that a distance vector hop-by-hop algorithm augmented with a loop suppression mechanism always converges, i.e., never oscillates.
Reference: [16] <author> S. Low and P. Varaiya. </author> <title> Stability of a Class of Dynamic Routing Protocols (IGRP). </title> <booktitle> In IEEE Proceedings of the INFOCOM, </booktitle> <volume> volume 2, </volume> <pages> pages 610616, </pages> <month> March </month> <year> 1993. </year>
Reference-contexts: Route oscillations can occur in IGRP <ref> [16] </ref>. When a domain chooses a route with a lower traffic sensitive component, and forwards traffic along that route, that route's metric increases. Intuitively, this traffic feedback causes route oscillations in IGRP. The original ARPANET link state based SPF algorithms [17, 14] used delay as a metric.
Reference: [17] <author> J. McQuillan, I. Richer, and E.C. Rosen. </author> <title> The New Routing Algorithm for the ARPANET. </title> <journal> IEEE Transactions on Communications, </journal> <volume> COM-28(5):711719, </volume> <month> May </month> <year> 1980. </year>
Reference-contexts: Route oscillations can occur in IGRP [16]. When a domain chooses a route with a lower traffic sensitive component, and forwards traffic along that route, that route's metric increases. Intuitively, this traffic feedback causes route oscillations in IGRP. The original ARPANET link state based SPF algorithms <ref> [17, 14] </ref> used delay as a metric. Route oscillations were observed on the ARPANET when portions of the network were heavily congested. These route oscillations are also due to similar traffic feedback [4]. Several solutions to delay based oscillations have been proposed.
Reference: [18] <author> K. Ogata. </author> <title> Discrete-Time Control Systems, </title> <booktitle> chapter 4, </booktitle> <pages> pages 351353. </pages> <publisher> Prentice-Hall Inc., </publisher> <address> Englewood Cliffs, NJ 07632, USA, </address> <year> 1987. </year>
Reference-contexts: This transformation matrix is determined by the given preference functions. Conditions on the eigenvalues of this matrix determine whether D can oscillate or not <ref> [18] </ref>. In this paper, we describe an alternative representation of D's preference functions, which we call a return graph.
Reference: [19] <author> Y. Rekhter. </author> <title> Inter-Domain Routing Protocol (IDRP). Internetworking: </title> <journal> Research and Experience, </journal> <volume> 4:6180, </volume> <year> 1993. </year>
Reference-contexts: Route preference assignment reflects domains' policies. The preference function takes as input a route's path attributes. However, domains can independently choose their preference functions. It is widely believed that this distributed route computation converges, regardless of the preference functions at participating domains <ref> [19] </ref>. In this paper, we demonstrate the contrary. Specifically, we show that there exist domain preference functions for which PAIRS exhibits persistent route oscillations, even in the absence of topology changes. <p> These protocols use the shortest path route selection function and are therefore not susceptible to oscillations. BGP [21] and IDRP <ref> [13, 19] </ref> add independent route selection to path vector algorithms. In our paper, we have shown that eliminating the monotonically increasing metric can introduce route oscillations.
Reference: [20] <author> Y. Rekhter. </author> <title> Private communication, </title> <month> January </month> <year> 1996. </year>
Reference-contexts: Finally, other detection schemes are also possible. For example, in Figure 1, D 0 sees an oscillation with period hr 0 ; r 2 i. The transition from r 2 to r 0 is a negative transition <ref> [20] </ref> because r 0 has a lower preference than r 2 at D 0 . D 0 's advertisement of r 0 causes D 1 to make a positive transition.
Reference: [21] <author> Y. Rekhter and T. Li. </author> <title> A Border Gateway Protocol 4 (BGP-4), </title> <note> RFC 1771 edition, 1995. (Obsoletes RFC1654). </note>
Reference-contexts: Similarly, a subscriber domain may prefer to route its traffic through a designated provider (e.g, a national backbone). In a hop-by-hop routing infrastructure, such policies can be realized by selective dissemination of routing information. Both the Border Gateway Protocol version 4 (BGP <ref> [21] </ref>, the widely deployed Internet standard for inter-domain routing) and the Inter-Domain Routing Protocol (IDRP [13]) provide this functionality. BGP and IDRP are sometimes called path-vector protocols, after the routing loop suppression mechanism they use. <p> These protocols use the shortest path route selection function and are therefore not susceptible to oscillations. BGP <ref> [21] </ref> and IDRP [13, 19] add independent route selection to path vector algorithms. In our paper, we have shown that eliminating the monotonically increasing metric can introduce route oscillations.
Reference: [22] <author> K. Shin and M. Chen. </author> <title> Performance Analysis of Distributed Routing Strategies Free of Ping-Pong-Type Looping. </title> <journal> IEEE Transactions on Computers, </journal> <volume> C-36(2):129137, </volume> <month> February </month> <year> 1987. </year>
Reference-contexts: This is not a new result. We know from [24, 15] that a distance vector hop-by-hop algorithm augmented with a loop suppression mechanism always converges, i.e., never oscillates. This algorithm is similar to a PAIRS algorithm constrained to only select shortest PATH routes <ref> [22, 6] </ref>. 4.2 Next-hop D 2 in Figure 1 advertises r 1 and r 2 to D 0 . By looking at the entire PATH of those routes, D 0 only selects r 2 and not r 1 . <p> These route oscillations are also due to similar traffic feedback [4]. Several solutions to delay based oscillations have been proposed. These solutions use approaches such as constraining route selection [14], co-ordination [26], and explicit routing [5]. 15 Path vector protocols were developed <ref> [22, 23] </ref> to suppress counting-to-infinity problems that occur in distance vector al-gorithms. These protocols use the shortest path route selection function and are therefore not susceptible to oscillations. BGP [21] and IDRP [13, 19] add independent route selection to path vector algorithms.
Reference: [23] <author> K. Shin and M. Chen. </author> <title> Minimal Order Loop-Free Routing Strategy. </title> <journal> IEEE Transactions on Computers, </journal> <volume> 39(7):870881, </volume> <month> July </month> <year> 1990. </year>
Reference-contexts: These route oscillations are also due to similar traffic feedback [4]. Several solutions to delay based oscillations have been proposed. These solutions use approaches such as constraining route selection [14], co-ordination [26], and explicit routing [5]. 15 Path vector protocols were developed <ref> [22, 23] </ref> to suppress counting-to-infinity problems that occur in distance vector al-gorithms. These protocols use the shortest path route selection function and are therefore not susceptible to oscillations. BGP [21] and IDRP [13, 19] add independent route selection to path vector algorithms.
Reference: [24] <author> W.D. Tajibnapis. </author> <title> A correctness proof of a topology information maintainence protocol for a distributed computer network. </title> <journal> Communications of the ACM, </journal> <volume> 20(7), </volume> <year> 1977. </year>
Reference-contexts: Therefore, D will not oscillate if every domain uses shortest path route selection. We believe that shortest path route selection will not cause oscillations in other more general topologies. This is not a new result. We know from <ref> [24, 15] </ref> that a distance vector hop-by-hop algorithm augmented with a loop suppression mechanism always converges, i.e., never oscillates.
Reference: [25] <author> C. Villamizar and R. Govindan. </author> <title> Controlling BGP route processing overhead. </title> <type> Internet Draft: </type> <institution> IDR Working Group, </institution> <month> October </month> <year> 1993. </year> <title> Work in progress. </title>
Reference-contexts: Alternatively, a domain can maintain a time-decayed count of the route advertisements seen from each neighbor domain. If this instability count exceeds an empirically derived threshold, the domain may assume the likelihood of an oscillation. This scheme is currently deployed in the Internet <ref> [25] </ref> to suppress route advertisements caused by frequent topology changes. The above detection schemes can generate false positives. In either scheme, the domain that maintains the history may not contribute to the oscillation, but may be sympathetically oscillating with some other domain that does. <p> Instability counts cannot distinguish between oscillations and route advertisements caused by frequent topology changes. Therefore, it is desirable to apply our general rule to modify policies only temporarily. Instability based suppression <ref> [25] </ref> modifies policies temporarily. The original policies are restored after the instability count decays below another empirically derived threshold. Depending on the decay rate and the thresholds, this scheme may suppress oscillations in cases where a stable route assignment exists (for example, with next-hop based preference functions, Figure 3 (c)).
Reference: [26] <author> Z. Wang and J. Crowcroft. </author> <title> Shortest Path First with Emergency Exits. </title> <booktitle> In Proceedings of the ACM SIGCOMM, </booktitle> <pages> pages 166176, </pages> <month> September </month> <year> 1990. </year> <month> 18 </month>
Reference-contexts: Route oscillations were observed on the ARPANET when portions of the network were heavily congested. These route oscillations are also due to similar traffic feedback [4]. Several solutions to delay based oscillations have been proposed. These solutions use approaches such as constraining route selection [14], co-ordination <ref> [26] </ref>, and explicit routing [5]. 15 Path vector protocols were developed [22, 23] to suppress counting-to-infinity problems that occur in distance vector al-gorithms. These protocols use the shortest path route selection function and are therefore not susceptible to oscillations.
References-found: 26

