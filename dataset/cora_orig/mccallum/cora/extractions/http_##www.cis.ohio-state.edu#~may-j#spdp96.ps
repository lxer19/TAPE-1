URL: http://www.cis.ohio-state.edu/~may-j/spdp96.ps
Refering-URL: http://www.cis.ohio-state.edu/~may-j/publications.html
Root-URL: 
Email: djayasim@mipos2.intel.com  fmanivann, may-jg@cis.ohio-state.edu  loren@ece.eng.wayne.edu  hary@ee.eng.ohio-state.edu  
Title: A Foundation for Designing Deadlock-free Routing Algorithms in Wormhole Networks  
Author: D. N. Jayasimha D. Manivannan Jeff A. May Loren Schwiebert Stephen L. Hary 
Address: 2200 Mission College Boulevard Santa Clara, CA 95052-8119  Columbus, OH 43210-1277  Detroit, MI 48202-3902  Columbus, OH 43210-1277  
Affiliation: Intel Corporation  Department of Computer and Information Science The Ohio State University  Department of Electrical and Computer Engineering Wayne State University  Department of Electrical Engineering The Ohio State University  
Abstract: This paper provides necessary and sufficient conditions for deadlock-free unicast and multicast routing with the path-based routing model in interconnection networks which use the wormhole switching technique. The theory is developed around three central concepts: channel waiting, False Resource Cycles, and valid destination sets. The first two concepts are suitable extensions to those developed for uni-cast routing by two authors of this paper; the third concept has been developed by Lin and Ni. The necessary and sufficient conditions can be applied in a straightforward manner to prove deadlock freedom and to find more adaptive routing algorithms for collective communication. The latter point is illustrated by developing two routing algorithms for multi-cast communication in 2-D mesh architectures. The first algorithm uses fewer resources (channels) than an algorithm proposed in the literature but achieves the same adaptivity. The second achieves full adaptivity for multicast routing. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> R. V. Boppana, S. Chalasani, and C. S. Raghavendra. </author> <title> On Multicast Wormhole Routing in Multicomputer Networks. </title> <booktitle> In Symposium on Parallel and Distributed Processing, </booktitle> <pages> pages 722-729, </pages> <year> 1994. </year>
Reference-contexts: When multiple messages are in the network, it is possible that a multicast message can reserve a consumption channel in one node and wait for a consumption channel in another node <ref> [1] </ref>. Thus, a circular wait among multicast messages for consumption channels can lead to a deadlock. To avoid deadlock due to consumption channels, each node has two consumption channels-the UMC-channel (Upward bound Message Consumption channel) and the DMC-channel (Downward bound Message Consumption channel).
Reference: [2] <author> R. Cypher and L. Gravano. </author> <title> Requirements for Deadlock-Free, Adaptive Packet Routing. </title> <journal> SIAM Journal on Computing, </journal> <volume> 23(6) </volume> <pages> 1266-1274, </pages> <month> December </month> <year> 1994. </year>
Reference-contexts: Note that this shared channel is not necessarily within the cycle. Obviously, a False Resource Cycle cannot occur, since this is physically impossible. (Even though the configuration is legal, it is not a reachable configuration <ref> [2] </ref>.) Therefore, a False Resource Cycle cannot be used to create a deadlock configuration. A True Cycle is a cycle in the CW G that permits every message in the cycle to occupy different channels. 5.
Reference: [3] <author> W. J. Dally and C. L. Seitz. </author> <title> Deadlock-Free Message Routing in Multiprocessor Interconnection Networks. </title> <journal> IEEE Transactions on Computers, </journal> <volume> C-36(5):547-553, </volume> <month> May </month> <year> 1987. </year>
Reference-contexts: We illustrate the applicability of these conditions by developing two adaptive multicast routing algorithms for 2-D mesh architectures. 2. Previous work Dally and Seitz have shown that for nonadaptive routing algorithms, the existence of an acyclic channel dependency graph is necessary and sufficient for deadlock freedom <ref> [3] </ref>. Much of the early research on wormhole routing has focused on the design of deadlock-free routing algorithms using this result. The idea of channel waiting was introduced independently by Lin, McKinley, and Ni [10].
Reference: [4] <author> J. Duato. </author> <title> On the Design of Deadlock-Free Adaptive Routing Algorithms for Multicomputers: </title> <booktitle> Design Methodologies. In Parallel Architectures and Languages Europe 91, </booktitle> <volume> volume I, </volume> <pages> pages 390-405, </pages> <year> 1991. </year>
Reference-contexts: Duato showed that requiring an acyclic channel depen dency graph is too restrictive for routing algorithms defined by relations of the form R : N fi N ! P (C) <ref> [4, 5] </ref>. Cycles are permitted in the channel dependency graph if some subset of channels defines a connected routing subfunction with an acyclic extended channel dependency graph. He also designed routing algorithms based on this relaxed condition.
Reference: [5] <author> J. Duato. </author> <title> A New Theory of Deadlock-Free Adaptive Routing in Wormhole Networks. </title> <journal> IEEE Transactions on Parallel and Distributed Systems, </journal> <volume> 4(12) </volume> <pages> 1320-1331, </pages> <month> December </month> <year> 1993. </year>
Reference-contexts: Duato showed that requiring an acyclic channel depen dency graph is too restrictive for routing algorithms defined by relations of the form R : N fi N ! P (C) <ref> [4, 5] </ref>. Cycles are permitted in the channel dependency graph if some subset of channels defines a connected routing subfunction with an acyclic extended channel dependency graph. He also designed routing algorithms based on this relaxed condition.
Reference: [6] <author> J. Duato. </author> <title> A Theory of Deadlock-Free Adaptive Multicast Routing in Wormhole Networks. </title> <journal> IEEE Transactions on Parallel and Distributed Systems, </journal> <volume> 6(9) </volume> <pages> 976-987, </pages> <month> September </month> <year> 1995. </year>
Reference-contexts: It is possible to design multicast routing algorithms with more adaptivity by relaxing the conditions used in previous approaches. Recently, Duato has provided a sufficiency condition for deadlock-free path-based routing <ref> [6] </ref>. As a result, he has been able to design the most adaptive multicast routing algorithm to date. His theory, based on an extension of the channel dependency graph, introduces additional direct and indirect multicast dependencies. <p> Design examples We first present a minimal adaptive routing algorithm for a 2-dimensional mesh and prove it is deadlock-free. The routing algorithm has the same degree of adaptivity as the one described by Duato <ref> [6] </ref>, since both algorithms provide the same set of routing paths. Our algorithm requires fewer resources, however 5 virtual channels per node as opposed to 6 required by Duato's algorithm. We then extend this routing algorithm to make it fully adaptive by adding two virtual channels at each node.
Reference: [7] <author> D. N. Jayasimha, D. Manivannan, L. S. Jeff A. May, and S. L. Hary. </author> <title> A Foundation for Designing Deadlock-free Routing Algorithms in Wormhole Networks. </title> <type> Technical Report OSU-CISRC-4/96-TR20), </type> <institution> The Ohio State University, Department of Computer and Information Science, </institution> <year> 1996. </year>
Reference-contexts: We can show by arguments similar to the ones given in the proof of Lemma 1 that none of these eight types of cycles exist. We omit the details of the proof for lack of space. However, a detailed proof can be found in <ref> [7] </ref>. 2 7. Conclusion We have solved an open problem by providing necessary and sufficient conditions for deadlock-free wormhole routing with the path-based multicast router model. The theory also holds for unicast routing and thus provides a unified approach to deadlock-freedom.
Reference: [8] <author> V. Kumar, A. Grama, A. Gupta, and G. Karypis. </author> <title> Introduction to Parallel Computing. </title> <publisher> Benjamin/Cummings Publishing Company, </publisher> <address> Redwood City, California, </address> <year> 1994. </year>
Reference-contexts: 1. Introduction Collective communication routines such as broadcast, scatter, gather, reductions, transpose, prefix computations (scan), etc. are very important for developing parallel programs that are both efficient and portable. Although there is a large body of research that has addressed the development of efficient collective communication algorithms (Kumar et al. <ref> [8] </ref> contains a good survey; a more recent survey dealing with wormhole-routed architectures appears in [12]), this research has invariably assumed a simple underlying hardware model with non-adaptive (dimension-ordered) routing of point-to-point messages. This has been in large part because that model reflects the characteristics of most present-day commercial multicomputers.
Reference: [9] <author> X. Lin, P. K. McKinley, and L. M. Ni. </author> <title> Deadlock-free Wormhole Routing in 2-D Mesh Multicomputers. </title> <journal> IEEE Transactions on Parallel and Distributed Systems, </journal> <volume> 5(8) </volume> <pages> 793-804, </pages> <month> August </month> <year> 1994. </year>
Reference-contexts: Collective operations, defined on a group of processes, require the participation of multiple source/destination nodes. Improvement in the performance of collective operations could arise by enhancing the unicast router model. While several router models of mul-ticasting are possible, the path-based model <ref> [9, 11] </ref> seems the most feasible. In the path-based model, a single-head worm visits the destinations in sequence. The router hardware then must have the capability to copy and forward a message (as opposed to just forwarding with unicast messages). <p> Hence, the condition for deadlock freedom with path-based routing is different from unicast routing because of additional dependencies introduced into the channel dependency graph. Typical deadlock-free routing algorithms in such a model are based on the use of Hamiltonian paths and disjoint destination sets <ref> [9, 11] </ref> or based on using only the paths of the underlying unicast routing algorithm [15]. It is possible to design multicast routing algorithms with more adaptivity by relaxing the conditions used in previous approaches. Recently, Duato has provided a sufficiency condition for deadlock-free path-based routing [6].
Reference: [10] <author> X. Lin, P. K. McKinley, and L. M. Ni. </author> <title> The Message Flow Model for Routing in Wormhole-Routed Networks. </title> <journal> IEEE Transactions on Parallel and Distributed Systems, </journal> <volume> 6(7) </volume> <pages> 755-760, </pages> <month> July </month> <year> 1995. </year>
Reference-contexts: Much of the early research on wormhole routing has focused on the design of deadlock-free routing algorithms using this result. The idea of channel waiting was introduced independently by Lin, McKinley, and Ni <ref> [10] </ref>.
Reference: [11] <author> X. Lin and L. Ni. </author> <title> Deadlock-Free Multicast Wormhole Routing in Multicomputer Networks. </title> <booktitle> In 18 th Annual International Symposium on Computer Architecture, </booktitle> <pages> pages 116-125, </pages> <year> 1991. </year>
Reference-contexts: Collective operations, defined on a group of processes, require the participation of multiple source/destination nodes. Improvement in the performance of collective operations could arise by enhancing the unicast router model. While several router models of mul-ticasting are possible, the path-based model <ref> [9, 11] </ref> seems the most feasible. In the path-based model, a single-head worm visits the destinations in sequence. The router hardware then must have the capability to copy and forward a message (as opposed to just forwarding with unicast messages). <p> Hence, the condition for deadlock freedom with path-based routing is different from unicast routing because of additional dependencies introduced into the channel dependency graph. Typical deadlock-free routing algorithms in such a model are based on the use of Hamiltonian paths and disjoint destination sets <ref> [9, 11] </ref> or based on using only the paths of the underlying unicast routing algorithm [15]. It is possible to design multicast routing algorithms with more adaptivity by relaxing the conditions used in previous approaches. Recently, Duato has provided a sufficiency condition for deadlock-free path-based routing [6]. <p> L (x; y) = (ky + x) if y is even k (y + 1) x 1 if y is odd This labeling induces an ordering among the nodes which defines a Hamiltonian path in the network <ref> [11] </ref>. Hereafter, we denote a node by its associated label. Let N be the set of all the labels associated with the nodes (in the case of a k fi k mesh, N = f0; 1; 2; ; k 2 1g).
Reference: [12] <author> P. K. McKinley, Y.-J. Tsai, and D. F. Robinson. </author> <title> Collective Communication in Wormhole-Routed Massively Parallel Computers. </title> <journal> IEEE Computer, </journal> <volume> 28(12) </volume> <pages> 39-50, </pages> <month> December </month> <year> 1995. </year>
Reference-contexts: Although there is a large body of research that has addressed the development of efficient collective communication algorithms (Kumar et al. [8] contains a good survey; a more recent survey dealing with wormhole-routed architectures appears in <ref> [12] </ref>), this research has invariably assumed a simple underlying hardware model with non-adaptive (dimension-ordered) routing of point-to-point messages. This has been in large part because that model reflects the characteristics of most present-day commercial multicomputers.
Reference: [13] <author> L. M. Ni. </author> <booktitle> Should Scalable Parallel Computers Support Efficient Hardware Multicasting? In ICPP Workshop on Challenges for Parallel Processing, </booktitle> <pages> pages 2-7, </pages> <month> August </month> <year> 1995. </year>
Reference-contexts: In a position paper, Ni ar fl This work was done while the author was at The Ohio State University. gues that supporting multicast at the router level is critical to the efficient performance of message-based parallel computers <ref> [13] </ref>. There have been a number of recent research advances in adaptive routing and router models which permit multicasting in hardware. There are a number of theoretical and systems-related issues that arise with respect to deadlock freedom, design of routing algorithms, and design of collective communication algorithms in such systems.
Reference: [14] <author> L. M. Ni and P. K. McKinley. </author> <title> A Survey of Wormhole Routing Techniques in Direct Networks. </title> <journal> IEEE Computer, </journal> <volume> 26(2) </volume> <pages> 62-76, </pages> <month> February </month> <year> 1993. </year>
Reference-contexts: In this paper, we provide a general set of necessary and sufficient conditions for deadlock freedom for a large class of routing algorithms and router models which use wormhole routing (for a survey on wormhole routing, see <ref> [14] </ref>). We illustrate the applicability of these conditions by developing two adaptive multicast routing algorithms for 2-D mesh architectures. 2. Previous work Dally and Seitz have shown that for nonadaptive routing algorithms, the existence of an acyclic channel dependency graph is necessary and sufficient for deadlock freedom [3].
Reference: [15] <author> D. K. Panda, S. Singal, and P. Prabhakaran. </author> <title> Multidestina-tion Message Passing Conforming to Base Wormhole Routing Scheme. </title> <booktitle> In Parallel Computer Routing and Communication Workshop, </booktitle> <pages> pages 131-145, </pages> <year> 1994. </year>
Reference-contexts: Typical deadlock-free routing algorithms in such a model are based on the use of Hamiltonian paths and disjoint destination sets [9, 11] or based on using only the paths of the underlying unicast routing algorithm <ref> [15] </ref>. It is possible to design multicast routing algorithms with more adaptivity by relaxing the conditions used in previous approaches. Recently, Duato has provided a sufficiency condition for deadlock-free path-based routing [6]. As a result, he has been able to design the most adaptive multicast routing algorithm to date.
Reference: [16] <author> L. Schwiebert and D. N. Jayasimha. </author> <title> Optimal Fully Adaptive Wormhole Routing for Meshes. </title> <booktitle> In Supercomputing '93, </booktitle> <pages> pages 782-791, </pages> <year> 1993. </year>
Reference-contexts: He also designed routing algorithms based on this relaxed condition. Schwiebert and Jayasimha have used Duato's sufficiency condition and the mesh topological properties to propose an optimal fully adaptive routing algorithm for arbitrary dimension mesh networks <ref> [16, 18] </ref>. This algorithm is optimal in the number of virtual channels and in the number of restrictions they place on the use of virtual channels.
Reference: [17] <author> L. Schwiebert and D. N. Jayasimha. </author> <title> A Universal Proof Technique for Deadlock-Free Routing in Interconnection Networks. </title> <booktitle> In 7 th Annual ACM Symposium on Parallel Algorithms and Architectures, </booktitle> <pages> pages 175-184, </pages> <month> July </month> <year> 1995. </year>
Reference-contexts: In such a case, it is shown that the presence of a certain subgraph of the CW G is a necessary and sufficient condition for deadlock freedom. The authors have extended this work to include any flow control mechanism (that is not inherently deadlock-free) <ref> [17] </ref>. They also comment that the proof technique applies to any routing relation that depends only on local information available at a router to make routing decisions.
Reference: [18] <author> L. Schwiebert and D. N. Jayasimha. </author> <title> Optimal Fully Adaptive Minimal Wormhole Routing for Meshes. </title> <journal> Journal of Parallel and Distributed Computing, </journal> <volume> 27(1) </volume> <pages> 56-70, </pages> <month> May </month> <year> 1995. </year>
Reference-contexts: He also designed routing algorithms based on this relaxed condition. Schwiebert and Jayasimha have used Duato's sufficiency condition and the mesh topological properties to propose an optimal fully adaptive routing algorithm for arbitrary dimension mesh networks <ref> [16, 18] </ref>. This algorithm is optimal in the number of virtual channels and in the number of restrictions they place on the use of virtual channels.
Reference: [19] <author> L. Schwiebert and D. N. Jayasimha. </author> <title> A Necessary and Sufficient Condition for Deadlock-Free Wormhole Routing. </title> <journal> Journal of Parallel and Distributed Computing, </journal> <volume> 32(1) </volume> <pages> 103-117, </pages> <month> January </month> <year> 1996. </year>
Reference-contexts: The solution, which works for routing functions of the form R : C fi N fi N ! P (C), introduces two new notions: the channel waiting graph (CWG) and False Resource Cycles <ref> [19] </ref>. The CW G, which is derived on the basis of channel waiting instead of channel usage, omits most channel dependencies that cannot lead to a deadlock configuration. Consequently, the proofs of deadlock freedom become natural and straightforward. <p> For any output channel available to m i that is also available to the source, assume the source has injected a message that is occupying this channel. If R A is not suffix-closed (the notions of suffix-closure and prefix-closure are defined in <ref> [19] </ref>), however, it is possible that some of the output channels available to m i can be used only by messages arriving on the input channel used by m i .
References-found: 19

