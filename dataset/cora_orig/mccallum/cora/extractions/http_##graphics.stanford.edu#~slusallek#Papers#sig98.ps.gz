URL: http://graphics.stanford.edu/~slusallek/Papers/sig98.ps.gz
Refering-URL: http://graphics.stanford.edu/~slusallek/cv.html
Root-URL: http://www.cs.stanford.edu
Title: Radiance Maps: An Image-Based Approach to Global Illumination Category:  
Pubnum: Research Paper  
Abstract: We present a new image-based approach to global illumination that is designed to explicitly make use of coherence in the radiance field of a scene. The approach builds on recently developed ideas from image-based rendering in order to reuse previously computed geometric and illumination information as far as possible. The algorithm consists of a hierarchy of three methods, each taking advantage of a different coherence pattern in the radiance field. At the top level, we sample primary layered-depth radiance maps of the environment, thereby abstracting from the exact geometry of the scene. In the intermediate level, coherence in ray-space is exploited in order to derive new radiance maps by reprojection from primary maps. At the lowest level, gradient information is used to spatially interpolate smooth irradiance contributions, handling non-smooth contributions separately. Missing or uncertain information in lower levels is handled by resampling the environment, and feeding these samples back to adjacent top-level maps. This adaptively improves the layered-depth images and thus the results of later reprojection operations. The essence of our algorithm is an image-based approach to quickly provide accurate radiance maps anywhere in a scene. In this paper, we use the radiance maps to compute irradiance in diffuse environments. However, the comprised information can be used for a much wider range of applications. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> CHEN, S. E., AND WILLIAMS, L. </author> <title> View interpolation for image synthesis. </title> <booktitle> Computer Graphics (SIGGRAPH '93 Proceedings) (Aug. </booktitle> <year> 1993), </year> <month> 279288. </month>
Reference-contexts: These maps represent views of the environment from particular locations. By reprojecting several of them towards the current position, we can generate a new view <ref> [1, 25, 23, 13] </ref>, which we refer to as a secondary radiance map. Repro-jection efficiently uses the inherent coherence in ray-space and also improves the effective sampling density of the environment by combining several maps. <p> also been stored on individual surfaces in order to reconstruct of irradiance via density estimation, but this only exploits spatial coherence in the final result [29, 39]. 3.2.3 Image-Based Rendering Images generated from several views of an environment can be used to synthesize new images from other views by reprojec-tion <ref> [1, 25, 23, 13] </ref>, thereby making use of coherence in ray-space and local visibility. Therefore, these approaches are well suited for our purposes. They are discussed in more detail in Section 5. <p> Choosing a suitable parameterization for the hemisphere of directions is non-trivial. Most image-based techniques use a plane for parameterizing the set of directions (for example, see <ref> [1] </ref>). However, in contrast to these approaches, we need a parameterization for the entire hemisphere, and a planar parameterization is not well suited for this setting. Using a hemicube could somewhat alleviate the problems but introduces the need to handle five separate projections per RM.
Reference: [2] <author> CHIU, K., AND SHIRLEY, P. </author> <title> The light volume: An aid to rendering complex environments. </title> <booktitle> In Rendering Techniques '96 (Proceedings Seventh Eurographics Workshop on Rendering) (Porto, </booktitle> <address> June 1996), </address> <publisher> Springer, </publisher> <pages> pp. 110. </pages>
Reference-contexts: Variance reduction techniques such as importance sampling <ref> [20, 16, 2] </ref> or control variates [19, 20] can exploit information about the radiance field but do not make use of coherence. Even Metropolis sampling [38] explores the neighborhood of a light path only to achieve variance reduction. <p> Ward [42, 41, 40] computes irradiance values at selected points by directionally sampling the incident radiance field by ray-casting. Spatial coherence of indirect irradiance is used to interpolate between samples based on gradient information computed from the sampled illumination. Special 3D and 5D data structures have been used in <ref> [16, 2, 20] </ref> for storing illumination samples obtained from photon tracing and bidirectional path-tracing. These data structures are subsequently used to control Monte-Carlo algorithms through importance sampling.
Reference: [3] <author> CHRISTENSEN, P. H., LISCHINSKI, D., STOLLNITZ, E., AND SALESIN, D. H. </author> <title> Clustering for glossy global illumination. </title> <journal> ACM Transactions on Graphics 16, </journal> <month> 1 (January </month> <year> 1997), </year> <month> 333. </month>
Reference-contexts: Some them algorithms make use of coherence separately in the spatial domain (e.g. projection of radiosity into piecewise smooth basis functions [10, 4, 15, 12, 43]) and in the directional domain (e.g. using directional basis functions <ref> [33, 28, 3] </ref>). However, few algorithms can exploit coherence explicitly in the combined spatial and directional space (often called ray-space). Yet, the coherence in ray-space is often much larger than the coherence in both the spatial and directional domain. <p> Radiosity algorithms that use hierarchical clustering [30, 34] abstract from the geometric complexity of a cluster's content, thus making use of spatial coherence. Explicitly representing the directional distribution of a cluster <ref> [3, 31, 22] </ref> allows taking advantage of directional coherence, but it is impossible to share this information between clusters at different levels in the hierarchy or between clusters close together. <p> It has been difficult to explicitly use coherence in ray-space with any finite element algorithm, because adaptive subdivision schemes are difficult to design for this space <ref> [28, 3] </ref>.
Reference: [4] <author> COHEN, M., CHEN, S. E., WALLACE, J. R., AND GREENBERG, D. P. </author> <title> A progressive refinement approach to fast radiosity image generation. </title> <booktitle> Computer Graphics (SIGGRAPH '88 Proceedings) 22, </booktitle> <month> 4 (Aug. </month> <year> 1988), </year> <month> 7584. </month>
Reference-contexts: A large number of algorithms have been developed over the last decade for solving the illumination problem efficiently. Some them algorithms make use of coherence separately in the spatial domain (e.g. projection of radiosity into piecewise smooth basis functions <ref> [10, 4, 15, 12, 43] </ref>) and in the directional domain (e.g. using directional basis functions [33, 28, 3]). However, few algorithms can exploit coherence explicitly in the combined spatial and directional space (often called ray-space). <p> For example, the ra-diosity approach handles diffuse reflection only, and uses piecewise constant or polynomial basis functions <ref> [10, 4, 43] </ref>. Other radiosity algorithms make similar assumptions but adaptively refine the representation if the assumptions are not met within a certain threshold (e.g. hierarchical radiosity [15, 12]). In a sense, these algorithms actively search for spatial coherence of illumination across surfaces.
Reference: [5] <author> COHEN, M. F., AND WALLACE, J. R. </author> <title> Radiosity and Realistic Image Synthesis. </title> <publisher> Academic Press, </publisher> <year> 1993. </year>
Reference-contexts: Given the emission L e and the reflection properties (BRDF) f r ( x ; x ) = f r ( ~ ! 0 ; x; ~!) of all surfaces, the radiance field L is given as the solution of the radiance equation <ref> [5, 32] </ref> L ( x ) = L ( x ) + L r ( x ) (1) Z f r ( x ; x )L ( x ) d x ; (2) where d x = cos x d! is the measure in ray-space and x = (y (x; ~!
Reference: [6] <author> COOK, R. L., PORTER, T., AND CARPENTER, L. </author> <title> Distributed ray tracing. </title> <booktitle> Computer Graphics (SIGGRAPH '84 Proceedings) 18, </booktitle> <month> 3 (July </month> <year> 1984), </year> <month> 137145. </month>
Reference-contexts: Instead, these occluded samples are marked with a negative radiance value and the required illumination is later computed on the fly. 5 Reprojection of Radiance Maps Fully sampling the incident radiance at each location, as it is done in distribution ray-tracing <ref> [6] </ref>, can be tremendously expensive. In order to reduce this cost, Ward [42, 41] samples indirect illumination only at a set of discrete points in the scene and interpolates irradiance in between those samples.
Reference: [7] <author> DRETTAKIS, G., AND FIUME, E. </author> <title> A fast shadow algorithm for area light sources using backprojection. </title> <booktitle> Computer Graphics (SIGGRAPH '94 Proceedings) (July 1994), </booktitle> <pages> 223230. </pages>
Reference: [8] <author> DURAND, F., DRETTAKIS, G., AND PUECH, C. </author> <title> The visibility skeleton: A powerful and efficient multi-purpose global visibility tool. </title> <booktitle> In SIGGRAPH 97 Conference Proceedings (Aug. </booktitle> <year> 1997), </year> <pages> pp. 89100. </pages>
Reference-contexts: What remains are a few scalar values for each secondary RM, as well as the depth values, as will be explained in Section 6. 5.5 Visibility Issues A serious problem of most image-based techniques is accurate computation of visibility <ref> [8] </ref>. For example, if our primary radiance maps contained no information about occluded geometry (which we have available from the layered-depth approach), less pixels would be covered in the secondary map after reprojection. What is worse, the reprojected maps could even contain incorrect information as illustrated in Figure 8.
Reference: [9] <author> GIBSON, S., AND HUBBOLD, R. J. </author> <title> Efficient hierarchical refinement and clustering for radiosity in complex environements. </title> <booktitle> Computer Graphics Forum 15, </booktitle> <month> 5 (December </month> <year> 1996), </year> <month> 297310. </month>
Reference-contexts: However, most adaptive subdivision criteria are based mainly on the amount of light transfer, which is not directly related to the coherence of the light field. More recent approaches explicitly estimate or bound the range of radiosity values across a receiver <ref> [9, 35] </ref>, refining only in areas with large variations. Radiosity algorithms that use hierarchical clustering [30, 34] abstract from the geometric complexity of a cluster's content, thus making use of spatial coherence.
Reference: [10] <author> GORAL, C. M., TORRANCE, K. E., AND GREENBERG, D. P. </author> <title> Modeling the interaction of light between diffuse surfaces. </title> <booktitle> Computer Graphics (SIGGRAPH '84 Proceedings) 18, </booktitle> <month> 3 (July </month> <year> 1984), </year> <month> 212222. </month>
Reference-contexts: A large number of algorithms have been developed over the last decade for solving the illumination problem efficiently. Some them algorithms make use of coherence separately in the spatial domain (e.g. projection of radiosity into piecewise smooth basis functions <ref> [10, 4, 15, 12, 43] </ref>) and in the directional domain (e.g. using directional basis functions [33, 28, 3]). However, few algorithms can exploit coherence explicitly in the combined spatial and directional space (often called ray-space). <p> For example, the ra-diosity approach handles diffuse reflection only, and uses piecewise constant or polynomial basis functions <ref> [10, 4, 43] </ref>. Other radiosity algorithms make similar assumptions but adaptively refine the representation if the assumptions are not met within a certain threshold (e.g. hierarchical radiosity [15, 12]). In a sense, these algorithms actively search for spatial coherence of illumination across surfaces.
Reference: [11] <author> GORTLER, S. J., GRZESZCZUK, R., SZELINSKI, R., AND COHEN, M. F. </author> <booktitle> The Lumigraph. Computer Graphics (SIGGRAPH '96 Proceedings) (Aug. </booktitle> <year> 1996), </year> <month> 4354. </month>
Reference-contexts: Therefore, these approaches are well suited for our purposes. They are discussed in more detail in Section 5. In <ref> [21, 11] </ref> discretized 4D slices of the radiance field were used to allow interactive viewing of complex virtual and real objects. Coherence in ray-space is exploited for the compression of these huge data sets and for quadri-linear interpolation between samples.
Reference: [12] <author> GORTLER, S. J., SCHR ODER, P., COHEN, M., AND HANRAHAN, P. M. </author> <title> Wavelet radiosity. </title> <booktitle> Computer Graphics (SIGGRAPH '93 Proceedings) 27 (Aug. </booktitle> <year> 1993), </year> <month> 221230. </month>
Reference-contexts: A large number of algorithms have been developed over the last decade for solving the illumination problem efficiently. Some them algorithms make use of coherence separately in the spatial domain (e.g. projection of radiosity into piecewise smooth basis functions <ref> [10, 4, 15, 12, 43] </ref>) and in the directional domain (e.g. using directional basis functions [33, 28, 3]). However, few algorithms can exploit coherence explicitly in the combined spatial and directional space (often called ray-space). <p> For example, the ra-diosity approach handles diffuse reflection only, and uses piecewise constant or polynomial basis functions [10, 4, 43]. Other radiosity algorithms make similar assumptions but adaptively refine the representation if the assumptions are not met within a certain threshold (e.g. hierarchical radiosity <ref> [15, 12] </ref>). In a sense, these algorithms actively search for spatial coherence of illumination across surfaces. However, most adaptive subdivision criteria are based mainly on the amount of light transfer, which is not directly related to the coherence of the light field. <p> Separate images are computed for direct and indirect illumination and the density of views is varied according to the expected image coherence. Global illumination itself is not computed using an image-based approach but with standard wavelet radios-ity <ref> [12] </ref> in a simplified environment. 4 Generating Radiance Maps In our method, we use image based techniques to reuse information previously obtained with ray-tracing. The algorithm at the top of our three level approach computes dense, primary RMs including depth values at selected points in the environment.
Reference: [13] <author> GORTLER, S. J., WEI HE, L., AND COHEN, M. F. </author> <title> Rendering layered depth images. </title> <institution> MSR-Tech-Report MSTR-TR-97-09, Microsoft Research, </institution> <month> Mar. </month> <year> 1997. </year> <note> available from http://www.research.microsoft.com/research/graphics/cohen/. </note>
Reference-contexts: These maps represent views of the environment from particular locations. By reprojecting several of them towards the current position, we can generate a new view <ref> [1, 25, 23, 13] </ref>, which we refer to as a secondary radiance map. Repro-jection efficiently uses the inherent coherence in ray-space and also improves the effective sampling density of the environment by combining several maps. <p> We obtain samples not only from visible surfaces, but also from occluded geometry. These additional samples are added to primary radiance maps, following the idea of layered-depth images (LDIs) <ref> [13] </ref>. LDIs are refined later by integrating the information obtained during the resampling of missing information in the bottom two levels. Using point sampled radiance maps with depth information as the primary source of information abstracts from the concrete representation of geometry. <p> also been stored on individual surfaces in order to reconstruct of irradiance via density estimation, but this only exploits spatial coherence in the final result [29, 39]. 3.2.3 Image-Based Rendering Images generated from several views of an environment can be used to synthesize new images from other views by reprojec-tion <ref> [1, 25, 23, 13] </ref>, thereby making use of coherence in ray-space and local visibility. Therefore, these approaches are well suited for our purposes. They are discussed in more detail in Section 5. <p> Each RM not only contains information about the visible surfaces, but also information about occluded geometry. This information, which is obtained with ray-casting, is stored in form of layered-depth radiance maps (LDRMs), which are similar to layered depth images <ref> [24, 13] </ref> but include more information. The original geometry of the scene is used only while sampling the maps by ray-casting, which is supported for almost any kind of geometry. <p> If the coverage of a secondary RM falls below a certain threshold indicating that insufficient information is available, we generate a new primary RM at the current location. 5.1 Reprojection onto a Hemisphere Reprojection of images can either be performed by splatting independent pixels of the source RM <ref> [25, 13] </ref> or by scan-conversion of the polygons defined by connecting samples from adjacent pixels in world space [23]. When using LDRMs, however, we have to use the splatting approach, since it is not clear which layers of adjacent pixels need to be connected for scan-conversion. <p> The ratio of the splat size A d on the destination RM to the size of the source pixel A s is given by the formula (see A d = jd d j 2 cos s Although the splat could be applied to the target as a single pixel mask <ref> [13] </ref>, this is difficult for hemispherical maps. Instead, we decided to subdivide the source pixel uniformly into dA d =A s e sub-pixels. Each of them now approximately corresponds to the area of a single pixel on the destination RM and is splatted independently. <p> However, we limit the maximum splat size in order to avoid sampling artifacts due to gross undersampling. Conflicts for pixels receiving multiple splats are resolved using a depth buffer. Note, that this situation cannot be avoided by a specific traversal order for splatting pixels as in <ref> [25, 13] </ref>, because the splats can originate not only from a single but also from multiple primary RMs. <p> This improved sampling is directly available for the creation of other secondary RMs (e.g. S 2 ), afterwards. This is achieved by integrating these samples back into each of the primary LDRMs that have been used for splatting, which improves their sampling quality <ref> [13] </ref> (see Figure5).
Reference: [14] <author> GREENE, N. </author> <title> Hierarchical polygon tiling with coverage masks. </title> <booktitle> In SIGGRAPH 96 Conference Proceedings (Aug. </booktitle> <year> 1996), </year> <pages> pp. 6574. </pages>
Reference-contexts: Firstly, the computational complexity depends on the size of the scene database. However, unless it directly increases the average complexity of visible geometry, this dependency can be avoided (see e.g. <ref> [14] </ref>). The complexity in local visibility is of particular importance for illumination computations. This complexity measures the amount of changes in visible geom etry as we move away from a given point of reference. Finally, we must consider the representation complexity of the scene.
Reference: [15] <author> HANRAHAN, P., SALZMAN, D., AND AUPPERLE, L. </author> <title> A rapid hierarchical radiosity algorithm. </title> <booktitle> Computer Graphics (SIGGRAPH '91 Proceedings) 25, </booktitle> <month> 4 </month> <year> (1991), 197206. </year>
Reference-contexts: A large number of algorithms have been developed over the last decade for solving the illumination problem efficiently. Some them algorithms make use of coherence separately in the spatial domain (e.g. projection of radiosity into piecewise smooth basis functions <ref> [10, 4, 15, 12, 43] </ref>) and in the directional domain (e.g. using directional basis functions [33, 28, 3]). However, few algorithms can exploit coherence explicitly in the combined spatial and directional space (often called ray-space). <p> For example, the ra-diosity approach handles diffuse reflection only, and uses piecewise constant or polynomial basis functions [10, 4, 43]. Other radiosity algorithms make similar assumptions but adaptively refine the representation if the assumptions are not met within a certain threshold (e.g. hierarchical radiosity <ref> [15, 12] </ref>). In a sense, these algorithms actively search for spatial coherence of illumination across surfaces. However, most adaptive subdivision criteria are based mainly on the amount of light transfer, which is not directly related to the coherence of the light field.
Reference: [16] <author> JENSEN, H. W. </author> <title> Importance-driven path tracing using the photon map. </title> <booktitle> In Rendering Techniques '95 (Proceedings Sixth Eurographics Workshop on Rendering) (June 1995), </booktitle> <publisher> Springer, </publisher> <pages> pp. 326335. </pages>
Reference-contexts: Variance reduction techniques such as importance sampling <ref> [20, 16, 2] </ref> or control variates [19, 20] can exploit information about the radiance field but do not make use of coherence. Even Metropolis sampling [38] explores the neighborhood of a light path only to achieve variance reduction. <p> Ward [42, 41, 40] computes irradiance values at selected points by directionally sampling the incident radiance field by ray-casting. Spatial coherence of indirect irradiance is used to interpolate between samples based on gradient information computed from the sampled illumination. Special 3D and 5D data structures have been used in <ref> [16, 2, 20] </ref> for storing illumination samples obtained from photon tracing and bidirectional path-tracing. These data structures are subsequently used to control Monte-Carlo algorithms through importance sampling.
Reference: [17] <author> KAJIYA, J. T. </author> <title> The rendering equation. </title> <booktitle> Computer Graphics (SIG-GRAPH '86 Proceedings) 20, </booktitle> <month> 4 (Aug. </month> <year> 1986), </year> <month> 143150. </month>
Reference-contexts: Brute force subdivision in 4D is much too costly, yet a separate adaptive subdivision in each of the spatial and the directional domains destroys the tree structure required by most hierarchical approaches. 3.2.2 Monte-Carlo and Hybrid Techniques Pure Monte-Carlo techniques such as path-tracing <ref> [17] </ref> and bidirectional path-tracing [37, 18] explicitly avoid taking advantage of coherence in order not to add bias to the solution. Variance reduction techniques such as importance sampling [20, 16, 2] or control variates [19, 20] can exploit information about the radiance field but do not make use of coherence.
Reference: [18] <author> LAFORTUNE, E. P., AND WILLEMS, Y. D. </author> <title> Bi-directional Path Tracing. </title> <booktitle> In Proceedings of Third International Conference on Computational Graphics and Visualization Techniques (Compugraphics '93) (Dec. </booktitle> <year> 1993), </year> <pages> pp. 145153. </pages>
Reference-contexts: Brute force subdivision in 4D is much too costly, yet a separate adaptive subdivision in each of the spatial and the directional domains destroys the tree structure required by most hierarchical approaches. 3.2.2 Monte-Carlo and Hybrid Techniques Pure Monte-Carlo techniques such as path-tracing [17] and bidirectional path-tracing <ref> [37, 18] </ref> explicitly avoid taking advantage of coherence in order not to add bias to the solution. Variance reduction techniques such as importance sampling [20, 16, 2] or control variates [19, 20] can exploit information about the radiance field but do not make use of coherence.
Reference: [19] <author> LAFORTUNE, E. P., AND WILLEMS, Y. D. </author> <title> The ambient term as a variance reducing technique for Monte-Carlo ray tracing. </title> <booktitle> In Photore-alistic Rendering Techniques (Proceedings Fifth Eurographics Workshop on Rendering) (Darmstadt, </booktitle> <address> June 1994), </address> <publisher> Springer, </publisher> <pages> pp. 168176. </pages>
Reference-contexts: Variance reduction techniques such as importance sampling [20, 16, 2] or control variates <ref> [19, 20] </ref> can exploit information about the radiance field but do not make use of coherence. Even Metropolis sampling [38] explores the neighborhood of a light path only to achieve variance reduction.
Reference: [20] <author> LAFORTUNE, E. P., AND WILLEMS, Y. D. </author> <title> A 5D tree to reduce the variance of Monte-Carlo ray tracing. </title> <booktitle> In Rendering Techniques '95 (Proceedings Sixth Eurographics Workshop on Rendering) (Dublin, </booktitle> <address> June 1995), </address> <publisher> Springer, </publisher> <pages> pp. 1120. </pages>
Reference-contexts: Variance reduction techniques such as importance sampling <ref> [20, 16, 2] </ref> or control variates [19, 20] can exploit information about the radiance field but do not make use of coherence. Even Metropolis sampling [38] explores the neighborhood of a light path only to achieve variance reduction. <p> Variance reduction techniques such as importance sampling [20, 16, 2] or control variates <ref> [19, 20] </ref> can exploit information about the radiance field but do not make use of coherence. Even Metropolis sampling [38] explores the neighborhood of a light path only to achieve variance reduction. <p> Ward [42, 41, 40] computes irradiance values at selected points by directionally sampling the incident radiance field by ray-casting. Spatial coherence of indirect irradiance is used to interpolate between samples based on gradient information computed from the sampled illumination. Special 3D and 5D data structures have been used in <ref> [16, 2, 20] </ref> for storing illumination samples obtained from photon tracing and bidirectional path-tracing. These data structures are subsequently used to control Monte-Carlo algorithms through importance sampling.
Reference: [21] <author> LEVOY, M., AND HANRAHAN, P. </author> <title> Light field rendering. </title> <booktitle> Computer Graphics (SIGGRAPH '96 Proceedings) (Aug. </booktitle> <year> 1996), </year> <month> 3145. </month>
Reference-contexts: Yet, the coherence in ray-space is often much larger than the coherence in both the spatial and directional domain. This fact has recently been used by image-based rendering to achieve high compression ratios for sampled light fields <ref> [21] </ref>. For an example of coherence in ray-space consider the situation in Figure 1. A viewer at p will see the same color for any direction in d!, a form of directional coherence. <p> Therefore, these approaches are well suited for our purposes. They are discussed in more detail in Section 5. In <ref> [21, 11] </ref> discretized 4D slices of the radiance field were used to allow interactive viewing of complex virtual and real objects. Coherence in ray-space is exploited for the compression of these huge data sets and for quadri-linear interpolation between samples.
Reference: [22] <author> LEWIS, R. R., AND FOURNIER, A. </author> <title> Light-driven global illumination with a wavelet representation of light transport. </title> <booktitle> In Rendering Techniques '96 (Proceedings Seventh Eurographics Workshop on Rendering) (Porto, </booktitle> <address> June 1996), </address> <publisher> Springer, </publisher> <pages> pp. 1120. </pages>
Reference-contexts: Radiosity algorithms that use hierarchical clustering [30, 34] abstract from the geometric complexity of a cluster's content, thus making use of spatial coherence. Explicitly representing the directional distribution of a cluster <ref> [3, 31, 22] </ref> allows taking advantage of directional coherence, but it is impossible to share this information between clusters at different levels in the hierarchy or between clusters close together.
Reference: [23] <author> MARK, W. R., MCMILLAN, L., AND BISHOP, G. </author> <title> Post-rendering 3D warping. </title> <booktitle> In Proceedings of 1997 Symposium on Interactive 3D Graphics (Apr. </booktitle> <year> 1997), </year> <pages> pp. 716. </pages>
Reference-contexts: These maps represent views of the environment from particular locations. By reprojecting several of them towards the current position, we can generate a new view <ref> [1, 25, 23, 13] </ref>, which we refer to as a secondary radiance map. Repro-jection efficiently uses the inherent coherence in ray-space and also improves the effective sampling density of the environment by combining several maps. <p> also been stored on individual surfaces in order to reconstruct of irradiance via density estimation, but this only exploits spatial coherence in the final result [29, 39]. 3.2.3 Image-Based Rendering Images generated from several views of an environment can be used to synthesize new images from other views by reprojec-tion <ref> [1, 25, 23, 13] </ref>, thereby making use of coherence in ray-space and local visibility. Therefore, these approaches are well suited for our purposes. They are discussed in more detail in Section 5. <p> is available, we generate a new primary RM at the current location. 5.1 Reprojection onto a Hemisphere Reprojection of images can either be performed by splatting independent pixels of the source RM [25, 13] or by scan-conversion of the polygons defined by connecting samples from adjacent pixels in world space <ref> [23] </ref>. When using LDRMs, however, we have to use the splatting approach, since it is not clear which layers of adjacent pixels need to be connected for scan-conversion. <p> Conflicts for pixels receiving multiple splats are resolved using a depth buffer. Note, that this situation cannot be avoided by a specific traversal order for splatting pixels as in [25, 13], because the splats can originate not only from a single but also from multiple primary RMs. Similar to <ref> [23] </ref>, we use the confidence, given as the reciprocal of the change in area A s =A d , in order to select superior samplings from different source RMs for the same pixel. High confidence corresponds to a good sampling of a surface.
Reference: [24] <author> MAX, N. </author> <title> Hierarchical rendering of trees from precomputed multilayer Z-buffers. </title> <booktitle> In Eurographics Rendering Workshop 1996 (June 1996), </booktitle> <publisher> Springer, </publisher> <pages> pp. 165174. </pages>
Reference-contexts: Each RM not only contains information about the visible surfaces, but also information about occluded geometry. This information, which is obtained with ray-casting, is stored in form of layered-depth radiance maps (LDRMs), which are similar to layered depth images <ref> [24, 13] </ref> but include more information. The original geometry of the scene is used only while sampling the maps by ray-casting, which is supported for almost any kind of geometry.
Reference: [25] <author> MCMILLAN, L., AND BISHOP, G. </author> <title> Plenoptic modeling: An image-based rendering system. </title> <booktitle> Computer Graphics (SIGGRAPH '95 Proceedings) (Aug. </booktitle> <year> 1995), </year> <month> 3946. </month>
Reference-contexts: These maps represent views of the environment from particular locations. By reprojecting several of them towards the current position, we can generate a new view <ref> [1, 25, 23, 13] </ref>, which we refer to as a secondary radiance map. Repro-jection efficiently uses the inherent coherence in ray-space and also improves the effective sampling density of the environment by combining several maps. <p> also been stored on individual surfaces in order to reconstruct of irradiance via density estimation, but this only exploits spatial coherence in the final result [29, 39]. 3.2.3 Image-Based Rendering Images generated from several views of an environment can be used to synthesize new images from other views by reprojec-tion <ref> [1, 25, 23, 13] </ref>, thereby making use of coherence in ray-space and local visibility. Therefore, these approaches are well suited for our purposes. They are discussed in more detail in Section 5. <p> If the coverage of a secondary RM falls below a certain threshold indicating that insufficient information is available, we generate a new primary RM at the current location. 5.1 Reprojection onto a Hemisphere Reprojection of images can either be performed by splatting independent pixels of the source RM <ref> [25, 13] </ref> or by scan-conversion of the polygons defined by connecting samples from adjacent pixels in world space [23]. When using LDRMs, however, we have to use the splatting approach, since it is not clear which layers of adjacent pixels need to be connected for scan-conversion. <p> However, we limit the maximum splat size in order to avoid sampling artifacts due to gross undersampling. Conflicts for pixels receiving multiple splats are resolved using a depth buffer. Note, that this situation cannot be avoided by a specific traversal order for splatting pixels as in <ref> [25, 13] </ref>, because the splats can originate not only from a single but also from multiple primary RMs.
Reference: [26] <author> NIMEROFF, J., DORSEY, J., AND RUSHMEIER, H. </author> <title> Implementation and analysis of an image-based global illumination framework for animated environments. </title> <journal> IEEE Transactions on Visualization and Computer Graphics 2, </journal> <month> 4 (Dec. </month> <year> 1996). </year>
Reference-contexts: Coherence in ray-space is exploited for the compression of these huge data sets and for quadri-linear interpolation between samples. Image-based rendering has also been used for generating walk-throughs of animated environments including global illumination <ref> [26] </ref>. This approach exploits coherence in both time and space by using precomputed sets of views adaptively distributed in time and space. Separate images are computed for direct and indirect illumination and the density of views is varied according to the expected image coherence.
Reference: [27] <author> RUSHMEIER, H., PATTERSON, C., AND VEERASAMY, A. </author> <title> Geometric simplification for indirect illumination calculations. </title> <booktitle> In Proceedings Graphics Interface '93 (1993). </booktitle>
Reference-contexts: Explicitly representing the directional distribution of a cluster [3, 31, 22] allows taking advantage of directional coherence, but it is impossible to share this information between clusters at different levels in the hierarchy or between clusters close together. Another form of clustering and spatial coherence has been used in <ref> [27] </ref>, where complex geometry is replaced by simplified objects for computing the indirect illumination. It has been difficult to explicitly use coherence in ray-space with any finite element algorithm, because adaptive subdivision schemes are difficult to design for this space [28, 3].
Reference: [28] <author> SCHR ODER, P., AND HANRAHAN, P. </author> <title> Wavelet methods for radiance computations. </title> <booktitle> In Photorealistic Rendering Techniques (Proceedings Fifth Eurographics Workshop on Rendering) (Darmstadt, </booktitle> <address> June 1994), </address> <publisher> Springer, </publisher> <pages> pp. 303311. 9 </pages>
Reference-contexts: Some them algorithms make use of coherence separately in the spatial domain (e.g. projection of radiosity into piecewise smooth basis functions [10, 4, 15, 12, 43]) and in the directional domain (e.g. using directional basis functions <ref> [33, 28, 3] </ref>). However, few algorithms can exploit coherence explicitly in the combined spatial and directional space (often called ray-space). Yet, the coherence in ray-space is often much larger than the coherence in both the spatial and directional domain. <p> It has been difficult to explicitly use coherence in ray-space with any finite element algorithm, because adaptive subdivision schemes are difficult to design for this space <ref> [28, 3] </ref>.
Reference: [29] <author> SHIRLEY, P., WADE, B., HUBBARD, P. M., ZARESKI, D., WAL--TER, B., AND GREENBERG, D. P. </author> <title> Global illumination via density-estimation. </title> <booktitle> In Rendering Techniques '95 (Proceedings Sixth Euro-graphics Workshop on Rendering) (June 1995), </booktitle> <publisher> Springer, </publisher> <pages> pp. 219 230. </pages>
Reference-contexts: These data structures are subsequently used to control Monte-Carlo algorithms through importance sampling. Illumination samples from photon tracing have also been stored on individual surfaces in order to reconstruct of irradiance via density estimation, but this only exploits spatial coherence in the final result <ref> [29, 39] </ref>. 3.2.3 Image-Based Rendering Images generated from several views of an environment can be used to synthesize new images from other views by reprojec-tion [1, 25, 23, 13], thereby making use of coherence in ray-space and local visibility. Therefore, these approaches are well suited for our purposes.
Reference: [30] <author> SILLION, F. </author> <title> Clustering and volume scattering for hierarchical radios-ity calculations. </title> <booktitle> In Photorealistic Rendering Technique (Proceedings Fifth Eurographics Workshop on Rendering) (Darmstadt, </booktitle> <address> June 1994), </address> <publisher> Springer, </publisher> <pages> pp. 105120. </pages>
Reference-contexts: More recent approaches explicitly estimate or bound the range of radiosity values across a receiver [9, 35], refining only in areas with large variations. Radiosity algorithms that use hierarchical clustering <ref> [30, 34] </ref> abstract from the geometric complexity of a cluster's content, thus making use of spatial coherence.
Reference: [31] <author> SILLION, F., DRETTAKIS, G., AND SOLER, C. </author> <title> A clustering algorithm for radiance calculation in general environments. </title> <booktitle> In Rendering Techniques '95 (Proceedings of Sixth Eurographics Workshop on Rendering) (Aug. 1995), </booktitle> <publisher> Springer, </publisher> <pages> pp. </pages> <year> 196205. </year>
Reference-contexts: Radiosity algorithms that use hierarchical clustering [30, 34] abstract from the geometric complexity of a cluster's content, thus making use of spatial coherence. Explicitly representing the directional distribution of a cluster <ref> [3, 31, 22] </ref> allows taking advantage of directional coherence, but it is impossible to share this information between clusters at different levels in the hierarchy or between clusters close together.
Reference: [32] <author> SILLION, F., AND PUECH, C. </author> <title> Radiosity & Global Illumination. </title> <publisher> Mor-gan Kaufmann, </publisher> <year> 1994. </year>
Reference-contexts: Given the emission L e and the reflection properties (BRDF) f r ( x ; x ) = f r ( ~ ! 0 ; x; ~!) of all surfaces, the radiance field L is given as the solution of the radiance equation <ref> [5, 32] </ref> L ( x ) = L ( x ) + L r ( x ) (1) Z f r ( x ; x )L ( x ) d x ; (2) where d x = cos x d! is the measure in ray-space and x = (y (x; ~!
Reference: [33] <author> SILLION, F. X., ARVO, J. R., WESTIN, S. H., AND GREENBERG, D. P. </author> <title> A global illumination solution for general reflectance distributions. </title> <booktitle> Computer Graphics (SIGGRAPH '91 Proceedings) 25, </booktitle> <month> 4 (July </month> <year> 1991), </year> <month> 187196. </month>
Reference-contexts: Some them algorithms make use of coherence separately in the spatial domain (e.g. projection of radiosity into piecewise smooth basis functions [10, 4, 15, 12, 43]) and in the directional domain (e.g. using directional basis functions <ref> [33, 28, 3] </ref>). However, few algorithms can exploit coherence explicitly in the combined spatial and directional space (often called ray-space). Yet, the coherence in ray-space is often much larger than the coherence in both the spatial and directional domain.
Reference: [34] <author> SMITS, B., ARVO, J., AND GREENBERG, D. </author> <title> A clustering algorithm for radiosity in complex environments. </title> <booktitle> Computer Graphics (SIG-GRAPH '94 Proceedings) (July 1994), </booktitle> <pages> 435442. </pages>
Reference-contexts: More recent approaches explicitly estimate or bound the range of radiosity values across a receiver [9, 35], refining only in areas with large variations. Radiosity algorithms that use hierarchical clustering <ref> [30, 34] </ref> abstract from the geometric complexity of a cluster's content, thus making use of spatial coherence.
Reference: [35] <author> STAMMINGER, M., SLUSALLEK, P., AND SEIDEL, H.-P. </author> <title> Bounded radiosity illumination on general surfaces and clusters. </title> <booktitle> Computer Graphics Forum (EUROGRAPHICS '97 Proceedings) 16, </booktitle> <address> 3 (Sept. </address> <year> 1997). </year>
Reference-contexts: However, most adaptive subdivision criteria are based mainly on the amount of light transfer, which is not directly related to the coherence of the light field. More recent approaches explicitly estimate or bound the range of radiosity values across a receiver <ref> [9, 35] </ref>, refining only in areas with large variations. Radiosity algorithms that use hierarchical clustering [30, 34] abstract from the geometric complexity of a cluster's content, thus making use of spatial coherence.
Reference: [36] <author> TELLER, S., BALA, K., AND DORSEY, J. </author> <title> Conservative radiance interpolants for ray tracing. </title> <booktitle> In Eurographics Rendering Workshop 1996 (June 1996), </booktitle> <publisher> Springer, </publisher> <pages> pp. 257268. </pages>
Reference-contexts: Additionally, we use the terms coherence or smoothness to denote the degree to which the radiance field and the geometry exhibit local similarities (also see <ref> [36] </ref>). Our primary goal is to identify and exploit these local similarities in order to speed up the lighting simulation. 3.1.1 Geometric Complexity There are several aspects of geometric complexity with respect to illumination computations. Firstly, the computational complexity depends on the size of the scene database.
Reference: [37] <author> VEACH, E., AND GUIBAS, L. J. </author> <title> Optimally combining sampling techniques for Monte Carlo rendering. </title> <booktitle> Computer Graphics (SIGGRAPH '95 Proceedings) (August 1995), </booktitle> <pages> 419428. </pages>
Reference-contexts: Brute force subdivision in 4D is much too costly, yet a separate adaptive subdivision in each of the spatial and the directional domains destroys the tree structure required by most hierarchical approaches. 3.2.2 Monte-Carlo and Hybrid Techniques Pure Monte-Carlo techniques such as path-tracing [17] and bidirectional path-tracing <ref> [37, 18] </ref> explicitly avoid taking advantage of coherence in order not to add bias to the solution. Variance reduction techniques such as importance sampling [20, 16, 2] or control variates [19, 20] can exploit information about the radiance field but do not make use of coherence.
Reference: [38] <author> VEACH, E., AND GUIBAS, L. J. </author> <title> Metropolis light transport. </title> <booktitle> Computer Graphics (SIGGRAPH '97 Proceedings) (August 1997), </booktitle> <pages> 6576. </pages>
Reference-contexts: Variance reduction techniques such as importance sampling [20, 16, 2] or control variates [19, 20] can exploit information about the radiance field but do not make use of coherence. Even Metropolis sampling <ref> [38] </ref> explores the neighborhood of a light path only to achieve variance reduction. In hybrid approaches, Monte-Carlo techniques are often used to provide the raw data that is then processed and used by finite element style parts of the algorithm.
Reference: [39] <author> WALTER, B., HUBBARD, P. M., SHIRLEY, P., AND GREENBERG, D. F. </author> <title> Global illumination using local linear density estimation. </title> <journal> ACM Transactions on Graphics 16, </journal> <month> 3 (July </month> <year> 1997), </year> <month> 217259. </month>
Reference-contexts: These data structures are subsequently used to control Monte-Carlo algorithms through importance sampling. Illumination samples from photon tracing have also been stored on individual surfaces in order to reconstruct of irradiance via density estimation, but this only exploits spatial coherence in the final result <ref> [29, 39] </ref>. 3.2.3 Image-Based Rendering Images generated from several views of an environment can be used to synthesize new images from other views by reprojec-tion [1, 25, 23, 13], thereby making use of coherence in ray-space and local visibility. Therefore, these approaches are well suited for our purposes.
Reference: [40] <author> WARD, G. J. </author> <title> The RADIANCE lighting simulation and rendering system. </title> <booktitle> Computer Graphics (SIGGRAPH '94 Proceedings) (July 1994), </booktitle> <pages> 459472. </pages>
Reference-contexts: Even Metropolis sampling [38] explores the neighborhood of a light path only to achieve variance reduction. In hybrid approaches, Monte-Carlo techniques are often used to provide the raw data that is then processed and used by finite element style parts of the algorithm. Ward <ref> [42, 41, 40] </ref> computes irradiance values at selected points by directionally sampling the incident radiance field by ray-casting. Spatial coherence of indirect irradiance is used to interpolate between samples based on gradient information computed from the sampled illumination.
Reference: [41] <author> WARD, G. J., AND HECKBERT, P. S. </author> <title> Irradiance gradients. </title> <booktitle> In Third Eurographics Workshop on Rendering (May 1992), </booktitle> <pages> pp. 8598. </pages>
Reference-contexts: At the lowest level, the spatial coherence of irradiance (radiance integrated over all directions) is exploited by interpolating it from previously computed nearby irradiance samples using available gradient information. This part is based on previous work by Ward <ref> [42, 41] </ref>. However, we use the information and the flexibility directional domain, the coherence in ray-space can be much larger. are arranged in layers, each of which uses a different kind of coherence. <p> Even Metropolis sampling [38] explores the neighborhood of a light path only to achieve variance reduction. In hybrid approaches, Monte-Carlo techniques are often used to provide the raw data that is then processed and used by finite element style parts of the algorithm. Ward <ref> [42, 41, 40] </ref> computes irradiance values at selected points by directionally sampling the incident radiance field by ray-casting. Spatial coherence of indirect irradiance is used to interpolate between samples based on gradient information computed from the sampled illumination. <p> In order to reduce this cost, Ward <ref> [42, 41] </ref> samples indirect illumination only at a set of discrete points in the scene and interpolates irradiance in between those samples. <p> A method that comes close to these requirements is the interpolation of irradiance from a selected set of nearby samples, as introduced by Ward's Irradiance Gradients algorithm <ref> [42, 41] </ref>. Irradiance Gradients rely on a smooth spatial distribution of irra-diance, which is often a reasonable assumption since only indirect illumination is considered. <p> In the third layer, we use this gradient information for interpolating the smooth part of the irradiance ~ E at points of interest in the scene in the same way as described in <ref> [41] </ref>. Additionally, the discontinuous part is sampled using ray-casting. To this end, we reproject critical pixels from all secondary RMs used for interpolation onto a hemisphere around our point of interest. Afterwards, we cast rays through any pixel in which any of the critical points is visible. <p> k ; where N is the total number of pixels in an RM, n is the number of marked pixels, and E k is the differential irradiance obtained by tracing a ray through a marked pixel k. 6.2 Avoiding Light Leaks The standard Irradiance Gradients algorithm as proposed by Ward <ref> [41] </ref> selects the set of gradients used for interpolation by simple geometric considerations. Each gradient (corresponding to our secondary RMs) has a certain radius of validity, which is determined through a simple heuristic on the distances of the visible objects [41]. <p> Leaks The standard Irradiance Gradients algorithm as proposed by Ward <ref> [41] </ref> selects the set of gradients used for interpolation by simple geometric considerations. Each gradient (corresponding to our secondary RMs) has a certain radius of validity, which is determined through a simple heuristic on the distances of the visible objects [41]. Clearly, if a large percentage of the geometry is very close to the sample point, the gradient information available at the sample location quickly becomes invalid as we move away from the point.
Reference: [42] <author> WARD, G. J., AND RUBINSTEIN, F. </author> <title> A ray tracing solution for diffuse interreflection. </title> <booktitle> Computer Graphics (SIGGRAPH '88 Proceedings) 22, </booktitle> <month> 4 (Aug. </month> <year> 1988), </year> <month> 8592. </month>
Reference-contexts: At the lowest level, the spatial coherence of irradiance (radiance integrated over all directions) is exploited by interpolating it from previously computed nearby irradiance samples using available gradient information. This part is based on previous work by Ward <ref> [42, 41] </ref>. However, we use the information and the flexibility directional domain, the coherence in ray-space can be much larger. are arranged in layers, each of which uses a different kind of coherence. <p> Even Metropolis sampling [38] explores the neighborhood of a light path only to achieve variance reduction. In hybrid approaches, Monte-Carlo techniques are often used to provide the raw data that is then processed and used by finite element style parts of the algorithm. Ward <ref> [42, 41, 40] </ref> computes irradiance values at selected points by directionally sampling the incident radiance field by ray-casting. Spatial coherence of indirect irradiance is used to interpolate between samples based on gradient information computed from the sampled illumination. <p> Using a hemicube could somewhat alleviate the problems but introduces the need to handle five separate projections per RM. We use a parameterization that maps the unit square onto the hemisphere while maintaining a constant projected solid angle <ref> [42] </ref>: (; ) = (arccos ( p where and are the polar coordinates. <p> For each RM, we also store the mean depth of all visible geometry, which provides an estimate of the size of the visible part of the environment. For fast access, we keep primary RMs in a data structure based on spatial subdivision similar to <ref> [42] </ref>, which is independent of the representation of geometry. 4.3 Recursion The incident radiance field at the location of a primary RM is given by the outgoing radiance values at all visible surfaces, which in turn depend on the incident radiance fields at these locations. <p> In order to reduce this cost, Ward <ref> [42, 41] </ref> samples indirect illumination only at a set of discrete points in the scene and interpolates irradiance in between those samples. <p> A method that comes close to these requirements is the interpolation of irradiance from a selected set of nearby samples, as introduced by Ward's Irradiance Gradients algorithm <ref> [42, 41] </ref>. Irradiance Gradients rely on a smooth spatial distribution of irra-diance, which is often a reasonable assumption since only indirect illumination is considered.

References-found: 42

