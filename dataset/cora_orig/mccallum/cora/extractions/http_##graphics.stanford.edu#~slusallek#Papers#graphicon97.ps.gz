URL: http://graphics.stanford.edu/~slusallek/Papers/graphicon97.ps.gz
Refering-URL: http://graphics.stanford.edu/~slusallek/cv.html
Root-URL: http://www.cs.stanford.edu
Title: Decoupling Propagation and Reflection for Radiance Computations  
Author: Marc Stamminger, Philipp Slusallek and Hans-Peter Seidel, 
Keyword: CR Descriptors: I.3.7 [Computer Graphics]: Three-dimensional Graphics and Realism radiosity; virtual reality;  
Affiliation: Universitat Erlangen  
Abstract: Although significant success has been made in the improvement of radiosity algorithms, the methods to solve the general global illumination problem with arbitrarily reflecting surfaces still require unreasonable computing times. In this paper, we describe an extension of the well-known hierarchical radiosity algorithm, which is able to cope with non-diffuse surfaces, without the explosion of computation times known from other algorithms. Results of the algorithm are presented and compared with other global illumination methods. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> James Arvo, Kenneth Torrance, and Brian Smits. </author> <title> A framework for the analysis of error in global illumination algorithms. </title> <editor> In Andrew Glassner, editor, </editor> <booktitle> Proceedings of SIGGRAPH '94 (Orlando, </booktitle> <address> Florida, </address> <month> July 2429, </month> <year> 1994), </year> <pages> pages 7584, </pages> <year> 1994. </year>
Reference-contexts: This equation describes the equilibrium of light exchange in a virtual world of two dimensional surfaces in a vacuum, neglecting wave optics effects such as interference. In the following, we present this equation in the operator form as suggested by Arvo <ref> [1] </ref>, mainly to introduce the notation. Precise definitions can be found in [1]. <p> In the following, we present this equation in the operator form as suggested by Arvo <ref> [1] </ref>, mainly to introduce the notation. Precise definitions can be found in [1]. For every surface point y in the scene, a surface emission function L e (y; !) and a bidirectional reflectance distribution function (BRDF) f r (! 0 ; y; !) are given, describing the point's self-emission and its reflectance behavior. <p> So, in practice, only low order wavelets are suitable, which exhibit similar artefacts as a linearily interpolated constant basis function solution. The major problem is to find a good parameterization P (t) of the space of directions: P : <ref> [0; 1] </ref> 2 ! . P maps the unit square into the set of hemisphere directions around the surface normal. The use of a directional parameter t 2 [0; 1] 2 allows for a simple quadtree subdivision scheme in the direction domain. <p> The major problem is to find a good parameterization P (t) of the space of directions: P : <ref> [0; 1] </ref> 2 ! . P maps the unit square into the set of hemisphere directions around the surface normal. The use of a directional parameter t 2 [0; 1] 2 allows for a simple quadtree subdivision scheme in the direction domain. For global illumination purposes integrations of radiance functions over directions have to be weighted by the cosine of the angle between the direction and the surface normal. <p> For global illumination purposes integrations of radiance functions over directions have to be weighted by the cosine of the angle between the direction and the surface normal. Following Arvo <ref> [1] </ref>, this weighting can be hidden by using a measure , such that d (!) = cos d!. <p> This means that numerical integration can be done by uniformly sampling the integrand in parameter space with constant weights. Equation (4) is equivalent to demanding that for any parameter region R <ref> [0; 1] </ref> 2 the form factor of an infinitesimal surface area to a surface covering P (R) is equal to the area of R in parameter space. So the problem to find such a parameterization is similar to finding a hemicube subdivision with subcells of equal form factor [13]. <p> Similar to the solution to this problem in [20, 9, 12], our proposed parameterization describes a direction by a point on a single plane perpendicular to the surface normal with distance one from the patch (see In order to find a good mapping of <ref> [0; 1] </ref> 2 to the plane coordinates IR 2 , we search for a function f : [0; 1] ! IR, such that the parameterization P (t) = (f (t 1 ); f (t 2 ); 1) best meets Equation (4). <p> our proposed parameterization describes a direction by a point on a single plane perpendicular to the surface normal with distance one from the patch (see In order to find a good mapping of <ref> [0; 1] </ref> 2 to the plane coordinates IR 2 , we search for a function f : [0; 1] ! IR, such that the parameterization P (t) = (f (t 1 ); f (t 2 ); 1) best meets Equation (4). <p> The parameterization does not meet Equation (4) exactly, but as can be seen in Figure 3, the quotient d (!(t))=dt is approximately one, except at the four corners of parameter space. If all patches are spatially parameterized by the unit square <ref> [0; 1] </ref> 2 , the radiance L o p (y; !) of a patch p can be reparameterized as L o p (s; t), where (s; t) 2 [0; 1] 4 . <p> If all patches are spatially parameterized by the unit square <ref> [0; 1] </ref> 2 , the radiance L o p (y; !) of a patch p can be reparameterized as L o p (s; t), where (s; t) 2 [0; 1] 4 . Using the traditional subdivision scheme in parameter space, a hierarchical repre sentation of the radiance functions can easily be defined. This radiance representation is different from those usually used in image based rendering [9, 12]. <p> For determining a list of basis functions see ing another patch, consider Figure 7, showing the same situation as in the example above. The figure shows five 2D basis functions as examples for the five cases distinguished in the following algorithm: Starting at the root basis function with support <ref> [0; 1] </ref> 4 the overlap of the current basis function with the parameter bounding box is determined. If the basis is completely outside the box (1), nothing has to be done, if it is completely or almost completely inside it is appended to the result set (2).
Reference: [2] <author> L. Aupperle and Pat Hanrahan. </author> <title> A hierarchical illumination algorithm for surfaces with glossy reflection. </title> <booktitle> In Computer Graphics Proceedings, Annual Conference Series, </booktitle> <year> 1993, </year> <pages> pages 155162, </pages> <year> 1993. </year>
Reference: [3] <author> Per H. Christensen. </author> <title> Hierarchical Techniques for Glossy Global Illumination. </title> <type> PhD thesis, </type> <institution> University of Washing-ton, </institution> <year> 1995. </year>
Reference-contexts: Furthermore, the algorithm can produce incoming radiance distributions, which allows for the use of special reconstruction techniques and special shaders [21]. An interesting point for future work will be the development of reconstruction techniques, maybe based on the incoming radiance distribution, and the introduction of a clustering scheme <ref> [19, 3] </ref> into the algorithm in order to be able to handle more complex scenes in a reasonable time.
Reference: [4] <author> Per H. Christensen, Eric J. Stollnitz, David H. Salesin, and Tony D. DeRose. </author> <title> Wavelet radiance. </title> <booktitle> In Fifth Euro-graphics Workshop on Rendering, </booktitle> <pages> pages 287302, </pages> <address> Darm-stadt, Germany, </address> <month> June </month> <year> 1994. </year>
Reference-contexts: The problem of the three-point approach is that for k patches in the scene potentially k 2 radiance functions L p;q have to be computed. The directional parameterization used by Chris-tensen <ref> [4] </ref> describes the radiance of a patch p by a single 4D-function L p (x; !). Unfortunately, there is no matching parameter when radiance L p (x; !) interacts with radiance L q (y; ! 0 ). <p> We then present first results of our implementation and compare them with results obtained by the Wavelet Radiance algorithms of Schroder [15] and Christensen <ref> [4] </ref>. The last section contains a conclusion and pointers to future work. 2 The Algorithm Our algorithm is an extension to the well-known hierarchical radiosity algorithm, that is, the interaction between diffuse surfaces is handled as in HR.
Reference: [5] <author> Michael Cohen, Shenchang E. Chen, John R. Wallace, and Donald P. Greenberg. </author> <title> A progressive refinement approach to fast radiosity image generation. </title> <booktitle> In Computer Graphics (SIGGRAPH '88 Proceedings), </booktitle> <pages> pages 7584, </pages> <month> August </month> <year> 1988. </year>
Reference-contexts: Many methods have been presented to solve the global illumination problem with the restriction to diffuse surfaces. The probably most important publications are Progressive Refinement <ref> [5] </ref>, Hierarchical Radiosity (HR) [10] and Wavelet Radiosity (WR) [8, 16]. In the following, fundamental knowledge, in particular about the HR method, is assumed. The aim of all of these methods is to find an approximate solution to the Rendering Equation of Kajiya [11].
Reference: [6] <author> Alain Fournier. </author> <title> From local to global illumination and back. </title> <booktitle> In Sixth Eurographics Workshop on Rendering, </booktitle> <pages> pages 393402, </pages> <address> Dublin, Ireland, </address> <month> June </month> <year> 1995. </year>
Reference-contexts: There is no reason, why the more general concept of bidirectional room reflectance distribution functions (BRRDFs), as suggested by Fournier <ref> [6] </ref>, could not be used in our algorithm. Using these BRRDFs, the point of incidence and the point of reflection do not have to be the same.
Reference: [7] <author> Cindy M. Goral, Kenneth E. Torrance, Donald P. Green-berg, and Bennett Battaile. </author> <title> Modelling the interaction of light between diffuse surfaces. </title> <booktitle> In Computer Graphics (SIGGRAPH '84 Proceedings), </booktitle> <pages> pages 21222, </pages> <month> July </month> <year> 1984. </year>
Reference: [8] <author> Steven J. Gortler, Peter Schroder, Michael F. Cohen, and Pat Hanrahan. </author> <title> Wavelet radiosity. </title> <booktitle> In Computer Graphics (SIGGRAPH '93 Proceedings), </booktitle> <pages> pages 221230, </pages> <year> 1993. </year>
Reference-contexts: Many methods have been presented to solve the global illumination problem with the restriction to diffuse surfaces. The probably most important publications are Progressive Refinement [5], Hierarchical Radiosity (HR) [10] and Wavelet Radiosity (WR) <ref> [8, 16] </ref>. In the following, fundamental knowledge, in particular about the HR method, is assumed. The aim of all of these methods is to find an approximate solution to the Rendering Equation of Kajiya [11]. <p> The linear operator RffiG is represented as a matrix that describes the transformation of the projection coefficients of the input representation into the coefficients of the output representation <ref> [8] </ref>. If a wavelet basis is used as function space for diffuse environments (HR, WR), the operator matrix becomes sparse. The number of relevant entries in the matrix is O (n), where n is the number of function coefficients, and they can be computed in the time O (n) [15].
Reference: [9] <author> Steven J. Gortler, Radek Grzeszczuk, Richard Szelinski, and Michael F. Cohen. </author> <booktitle> The lumigraph. Computer Graphics (SIGGRAPH '96 Proceedings), </booktitle> <pages> pages 4354, </pages> <month> August </month> <year> 1996. </year>
Reference-contexts: The computed representations of incoming and outgoing light are closely related to image based representations of the light field of objects <ref> [9, 12] </ref>. So, we can interpret our task as computing the incoming light field of an object (propagation), and reflect it according to the objects reflectance properties to obtain an outgoing lightfield. <p> So the problem to find such a parameterization is similar to finding a hemicube subdivision with subcells of equal form factor [13]. Similar to the solution to this problem in <ref> [20, 9, 12] </ref>, our proposed parameterization describes a direction by a point on a single plane perpendicular to the surface normal with distance one from the patch (see In order to find a good mapping of [0; 1] 2 to the plane coordinates IR 2 , we search for a function <p> Using the traditional subdivision scheme in parameter space, a hierarchical repre sentation of the radiance functions can easily be defined. This radiance representation is different from those usually used in image based rendering <ref> [9, 12] </ref>. For a fixed surface parameter s, the function L i p;s (t) = L i p (s; t) describes a distorted view of the surface point into the scene, because f is not linear.
Reference: [10] <author> Pat Hanrahan, David Salzman, and Larry Aupperle. </author> <title> A rapid hierarchical radiosity algorithm. </title> <booktitle> In Computer Graphics (SIGGRAPH '91 Proceedings), </booktitle> <pages> pages 197206, </pages> <month> July </month> <year> 1991. </year>
Reference-contexts: Many methods have been presented to solve the global illumination problem with the restriction to diffuse surfaces. The probably most important publications are Progressive Refinement [5], Hierarchical Radiosity (HR) <ref> [10] </ref> and Wavelet Radiosity (WR) [8, 16]. In the following, fundamental knowledge, in particular about the HR method, is assumed. The aim of all of these methods is to find an approximate solution to the Rendering Equation of Kajiya [11]. <p> Otherwise the error that is made by linking the two hierarchies at this level is assumed to be small and the two nodes are linked <ref> [10] </ref>. In the following we will describe the crucial parts of our algorithm, in particular the representation of radiance and its underlying parameterization of directions, and the computation of propagation and reflection operator.
Reference: [11] <author> James T. Kajiya. </author> <title> The rendering equation. </title> <booktitle> In Computer Graphics (SIGGRAPH '86 Proceedings), </booktitle> <pages> pages 143150, </pages> <month> August </month> <year> 1986. </year>
Reference-contexts: In the following, fundamental knowledge, in particular about the HR method, is assumed. The aim of all of these methods is to find an approximate solution to the Rendering Equation of Kajiya <ref> [11] </ref>. This equation describes the equilibrium of light exchange in a virtual world of two dimensional surfaces in a vacuum, neglecting wave optics effects such as interference. In the following, we present this equation in the operator form as suggested by Arvo [1], mainly to introduce the notation.
Reference: [12] <author> Marc Levoy and Pat Hanrahan. </author> <title> Light field rendering. </title> <booktitle> Computer Graphics (SIGGRAPH '96 Proceedings), </booktitle> <pages> pages 3145, </pages> <month> August </month> <year> 1996. </year>
Reference-contexts: The computed representations of incoming and outgoing light are closely related to image based representations of the light field of objects <ref> [9, 12] </ref>. So, we can interpret our task as computing the incoming light field of an object (propagation), and reflect it according to the objects reflectance properties to obtain an outgoing lightfield. <p> So the problem to find such a parameterization is similar to finding a hemicube subdivision with subcells of equal form factor [13]. Similar to the solution to this problem in <ref> [20, 9, 12] </ref>, our proposed parameterization describes a direction by a point on a single plane perpendicular to the surface normal with distance one from the patch (see In order to find a good mapping of [0; 1] 2 to the plane coordinates IR 2 , we search for a function <p> Using the traditional subdivision scheme in parameter space, a hierarchical repre sentation of the radiance functions can easily be defined. This radiance representation is different from those usually used in image based rendering <ref> [9, 12] </ref>. For a fixed surface parameter s, the function L i p;s (t) = L i p (s; t) describes a distorted view of the surface point into the scene, because f is not linear.
Reference: [13] <author> Nelson Max and Roy Troutman. </author> <title> Optimal hemicube sampling. </title> <booktitle> In Fourth Eurographics Workshop on Rendering, </booktitle> <pages> pages 185200, </pages> <address> Paris, France, </address> <month> June </month> <year> 1993. </year>
Reference-contexts: So the problem to find such a parameterization is similar to finding a hemicube subdivision with subcells of equal form factor <ref> [13] </ref>.
Reference: [14] <author> Annette Scheel. </author> <title> Physikalisch basierte Beleuchtungsrech-nung mit Wavelet Radiance. </title> <type> Master's thesis, </type> <institution> Universitat Erlangen, </institution> <year> 1996. </year>
Reference-contexts: The third image (c) was computed by a modification of the wavelet radiance method of Christensen <ref> [14] </ref>.
Reference: [15] <author> Peter Schroder. </author> <title> Wavelet Algorithms for Illumination Computations. </title> <type> PhD thesis, </type> <institution> Princeton University, </institution> <year> 1994. </year>
Reference-contexts: If a wavelet basis is used as function space for diffuse environments (HR, WR), the operator matrix becomes sparse. The number of relevant entries in the matrix is O (n), where n is the number of function coefficients, and they can be computed in the time O (n) <ref> [15] </ref>. To solve the general global illumination problem with non-diffuse surfaces, two approaches are possible, which differ in the way radiance is described. <p> To solve the general global illumination problem with non-diffuse surfaces, two approaches are possible, which differ in the way radiance is described. The three-point-form used in <ref> [15, 17] </ref> parameterizes radiance by two points x and y on two patches p, q in the scene, so that L p;q (x; y) is the radiance at x in the direction to y. <p> In the following section we describe our algorithm, in particular the representation of the radiance function and the computation of the propagation and the reflection operator. We then present first results of our implementation and compare them with results obtained by the Wavelet Radiance algorithms of Schroder <ref> [15] </ref> and Christensen [4]. The last section contains a conclusion and pointers to future work. 2 The Algorithm Our algorithm is an extension to the well-known hierarchical radiosity algorithm, that is, the interaction between diffuse surfaces is handled as in HR. <p> We decided to use a simple multiresolution representation with constant basis functions as in plain HR. This implies that postprocessing for obtaining smooth radiance distributions becomes necessary. Higher order wavelets as used in <ref> [15] </ref> have the advantage of a sparser operator matrix, but the number of coefficients per link grows dramatically with the number of vanishing moments. So, in practice, only low order wavelets are suitable, which exhibit similar artefacts as a linearily interpolated constant basis function solution. <p> With these BRRDFs the reflectance behavior of a complete room, wrapped into a virtual hull, can be described. 3 Results To test our implementation we used a similar scene as in <ref> [15, 17] </ref>. The scene consist of a small sender P lighting a small reflector Q. <p> The third image (c) was computed by a modification of the wavelet radiance method of Christensen [14]. For the last image (d) the wavelet radiance technique of Schroder <ref> [15, 17] </ref> with a bilinear multi-wavelets was used. (a) Purely diffuse reflec tor (b) Specular reflector, decoupled propagation and reflection (c) Specular reflector, wavelet radiance (Christensen) (d) Specular reflector, wavelet radiance (Schr oder) The computation time with our implementation was about one tenth of the time of (c).
Reference: [16] <author> Peter Schroder, Steven J. Gortler, Michael F. Cohen, and Pat Hanrahan. </author> <title> Wavelet projections for radiosity. </title> <booktitle> In Fourth Eurographics Workshop on Rendering, </booktitle> <pages> pages 177184, </pages> <year> 1993. </year>
Reference-contexts: Many methods have been presented to solve the global illumination problem with the restriction to diffuse surfaces. The probably most important publications are Progressive Refinement [5], Hierarchical Radiosity (HR) [10] and Wavelet Radiosity (WR) <ref> [8, 16] </ref>. In the following, fundamental knowledge, in particular about the HR method, is assumed. The aim of all of these methods is to find an approximate solution to the Rendering Equation of Kajiya [11].
Reference: [17] <author> Peter Schroder and Pat Hanrahan. </author> <title> Wavelet methods for radiance computations. </title> <booktitle> In Fifth Eurographics Workshop on Rendering, </booktitle> <pages> pages 303311, </pages> <address> Darmstadt, Ger-many, </address> <month> June </month> <year> 1994. </year>
Reference-contexts: To solve the general global illumination problem with non-diffuse surfaces, two approaches are possible, which differ in the way radiance is described. The three-point-form used in <ref> [15, 17] </ref> parameterizes radiance by two points x and y on two patches p, q in the scene, so that L p;q (x; y) is the radiance at x in the direction to y. <p> With these BRRDFs the reflectance behavior of a complete room, wrapped into a virtual hull, can be described. 3 Results To test our implementation we used a similar scene as in <ref> [15, 17] </ref>. The scene consist of a small sender P lighting a small reflector Q. <p> The third image (c) was computed by a modification of the wavelet radiance method of Christensen [14]. For the last image (d) the wavelet radiance technique of Schroder <ref> [15, 17] </ref> with a bilinear multi-wavelets was used. (a) Purely diffuse reflec tor (b) Specular reflector, decoupled propagation and reflection (c) Specular reflector, wavelet radiance (Christensen) (d) Specular reflector, wavelet radiance (Schr oder) The computation time with our implementation was about one tenth of the time of (c).
Reference: [18] <author> Francois X. Sillion, James R. Arvo, Stephen H. Westin, and Donald P. Greenberg. </author> <title> A global illumination solution for general reflectance distributions. </title> <editor> In Thomas W. Sederberg, editor, </editor> <booktitle> Computer Graphics (SIGGRAPH '91 Proceedings), </booktitle> <volume> volume 25, </volume> <pages> pages 187196, </pages> <month> July </month> <year> 1991. </year>
Reference: [19] <author> Francois X. Sillion, George Drettakis, and Cyril Soler. </author> <title> A clustering algorithm for radiance calculation in general environments. </title> <booktitle> In Sixth Eurographics Workshop on Rendering, </booktitle> <pages> pages 159171, </pages> <address> Dublin, Ireland, </address> <month> June </month> <year> 1995. </year>
Reference-contexts: Furthermore, the algorithm can produce incoming radiance distributions, which allows for the use of special reconstruction techniques and special shaders [21]. An interesting point for future work will be the development of reconstruction techniques, maybe based on the incoming radiance distribution, and the introduction of a clustering scheme <ref> [19, 3] </ref> into the algorithm in order to be able to handle more complex scenes in a reasonable time.
Reference: [20] <author> Francois X. Sillion and Claude Puech. </author> <title> A general two-pass method integrating specular and diffuse reflection. </title> <editor> In Jeffrey Lane, editor, </editor> <booktitle> Computer Graphics (SIGGRAPH '89 Proceedings), </booktitle> <volume> volume 23, </volume> <pages> pages 335344, </pages> <month> July </month> <year> 1989. </year>
Reference-contexts: So the problem to find such a parameterization is similar to finding a hemicube subdivision with subcells of equal form factor [13]. Similar to the solution to this problem in <ref> [20, 9, 12] </ref>, our proposed parameterization describes a direction by a point on a single plane perpendicular to the surface normal with distance one from the patch (see In order to find a good mapping of [0; 1] 2 to the plane coordinates IR 2 , we search for a function
Reference: [21] <author> Philipp Slusallek, Thomas Pflaum, and Hans-Peter Sei-del. </author> <title> Using procedural RenderMan shaders for global illumination. </title> <booktitle> In Computer Graphics Forum (Proc. </booktitle> <volume> EURO-GRAPHICS '95), </volume> <year> 1995. </year>
Reference-contexts: The separation of light propagation and reflection leads to improved performance compared to other radiance methods. Furthermore, the algorithm can produce incoming radiance distributions, which allows for the use of special reconstruction techniques and special shaders <ref> [21] </ref>. An interesting point for future work will be the development of reconstruction techniques, maybe based on the incoming radiance distribution, and the introduction of a clustering scheme [19, 3] into the algorithm in order to be able to handle more complex scenes in a reasonable time.
Reference: [22] <author> John R. Wallace, Kells A. Elmquist, and Eric A. Haines. </author> <title> A ray tracing algorithm for progressive radiosity. </title> <editor> In Jef-frey Lane, editor, </editor> <booktitle> Computer Graphics (SIGGRAPH '89 Proceedings), </booktitle> <volume> volume 23, </volume> <pages> pages 315324, </pages> <month> July </month> <year> 1989. </year> <institution> Authors: Marc Stamminger, Philipp Slusallek and Hans-Peter Seidel, Universitat Erlangen, Graphische Datenverarbeitung, Am Weichselgar ten 9, D-91058 Erlangen, </institution> <address> Germany. E-mail: fstamminger,slusallek,seidelg @ informatik.uni erlangen.de </address>
Reference-contexts: The goal is to find an f for which the form factor of the square grows linearily with the region in parameter space, that is, with 4t 2 . Approximating the form factor by the differential area to disk form factor <ref> [22] </ref>, using a centered disk of equal area delivers a form factor F F = 4d 2 =(4d 2 + ).
References-found: 22

