URL: http://www.cs.berkeley.edu/~culler/hoti97/choi.ps
Refering-URL: http://www.cs.berkeley.edu/~culler/hoti97/
Root-URL: 
Phone: Tel: +1-213-740-4482 Fax: +1-213-740-4418  
Title: Architecture and Optoelectronic Implementation of the WARRP Router  
Author: Timothy Mark Pinkston Yungho Choi Mongkol Raksapatcharawong 
Web: ftpink,yunghoc,mraksapag.usc.edu; http://www.usc.edu/dept/ceng/pinkston/SMART.html  
Address: Los Angeles, CA 90089-2562  
Affiliation: SMART Interconnects Group  EE-Systems Dept., University of Southern California,  
Abstract: The WARRP router implements progressive deadlock recovery-based true-fully-adaptive routing in an efficient architecture designed to maximize flexibility as well as speed. The WARRP II version addresses the I/O pin-out problem by integrating dense high-bandwidth optoelectronic transceivers onto the router chip capable of providing over 300 GBytes/sec per square centimeter [7]. To our knowledge, this is the first fully-functional optoelectronic network router implemented to-date. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> Bolding, K. </author> <title> Non-Uniformities Introduced by Virtual Channel Deadlock Prevention, </title> <type> Technical Report UW-CSE-92-07-07, </type> <institution> University of Washington, </institution> <address> Seattle, WA, </address> <month> July </month> <year> 1992. </year>
Reference-contexts: Previous network routers based on avoiding deadlock restrict routing freedom and do not efficiently utilize scarce network bandwidth, resulting in lower overall network performance and fault-tolerance capabilities. Restricting routing can cause unbalanced traffic loads <ref> [1] </ref> and can place constraints on design optimizations that could increase the speed of the internal router architecture [2].
Reference: [2] <author> Yungho Choi and Timothy Mark Pinkston. </author> <title> Crossbar Analysis for Optimal Deadlock Recovery Router Architecture. </title> <booktitle> In Proceedings of the 10th International Parallel Processing Symposium, </booktitle> <pages> pages 583-588, </pages> <publisher> IEEE Computer Society, </publisher> <month> April </month> <year> 1997. </year>
Reference-contexts: Restricting routing can cause unbalanced traffic loads [1] and can place constraints on design optimizations that could increase the speed of the internal router architecture <ref> [2] </ref>. Moreover, deadlock avoidance-based routers including the SGI SPIDER [3] (a static router) and the Cray T3E network router [4] (an adaptive router) preallocate considerable network resources in the form of virtual channel buffers to avoid deadlock anomalies which have empirically been shown to occur very rarely [5]. <p> Each can then be optimized separately to achieve maximum flexibility and efficient recovery. The internal router architecture is further optimized by employing a partitioned crossbar structure organized by virtual channel network <ref> [2] </ref>. This allows the WARRP router to implement the highest degree of adaptivity while not sacrificing router speed, regardless of the number of virtual channels per physical link. <p> By partitioning the internal architecture into smaller units based on virtual network, routing arbitration complexity and crossbar size is considerably reduced without sacrificing routing freedom <ref> [2] </ref>. The virtual network modules are identical, and each has complete routing functionality implemented by the input modules, output modules, crossbar, and router and arbitration module, as shown in Figure 5.
Reference: [3] <author> Mike Galles. </author> <title> Scalable Pipelined Interconnect for Distributed Endpoint Routing: The SGI SPIDER Chip. </title> <booktitle> Proceedings of the Symposium on Hot Interconnects, </booktitle> <pages> pages 141-146, </pages> <publisher> IEEE Computer Society, </publisher> <month> August </month> <year> 1996. </year>
Reference-contexts: Restricting routing can cause unbalanced traffic loads [1] and can place constraints on design optimizations that could increase the speed of the internal router architecture [2]. Moreover, deadlock avoidance-based routers including the SGI SPIDER <ref> [3] </ref> (a static router) and the Cray T3E network router [4] (an adaptive router) preallocate considerable network resources in the form of virtual channel buffers to avoid deadlock anomalies which have empirically been shown to occur very rarely [5].
Reference: [4] <author> Steven L. Scott and Gregory M. Thorson. </author> <title> The Cray T3E Network: Adaptive Routing in a High Performance 3D Torus. </title> <booktitle> Proceedings of the Symposium on Hot Interconnects, </booktitle> <pages> pages 147-156, </pages> <publisher> IEEE Computer Society, </publisher> <month> August </month> <year> 1996. </year>
Reference-contexts: Restricting routing can cause unbalanced traffic loads [1] and can place constraints on design optimizations that could increase the speed of the internal router architecture [2]. Moreover, deadlock avoidance-based routers including the SGI SPIDER [3] (a static router) and the Cray T3E network router <ref> [4] </ref> (an adaptive router) preallocate considerable network resources in the form of virtual channel buffers to avoid deadlock anomalies which have empirically been shown to occur very rarely [5]. <p> In the illustration, we assume that the dateline <ref> [4] </ref> crosses the source router. <p> In addition to blockage and token capture, packet eligibility is also determined by two routing criteria: westward turns [13] and dateline <ref> [4] </ref> crossings. Previous work [4, 13] has shown that restricting turns made in routing and restricting routes over the dateline (e.g., wraparound links in tori) can prevent the formation of cyclic dependencies necessary for deadlock. <p> In addition to blockage and token capture, packet eligibility is also determined by two routing criteria: westward turns [13] and dateline [4] crossings. Previous work <ref> [4, 13] </ref> has shown that restricting turns made in routing and restricting routes over the dateline (e.g., wraparound links in tori) can prevent the formation of cyclic dependencies necessary for deadlock. It follows that, for deadlock to form, at least one packet involved must make a turn or dateline route.
Reference: [5] <author> Timothy Mark Pinkston and Sugath Warnakulasuriya. </author> <title> On Deadlocks in Interconnection Networks. </title> <booktitle> In Proceedings of the 24th International Symposium on Computer Architecture, </booktitle> <pages> pages 39-49, </pages> <publisher> IEEE Computer Society, </publisher> <month> April </month> <year> 1997. </year>
Reference-contexts: Moreover, deadlock avoidance-based routers including the SGI SPIDER [3] (a static router) and the Cray T3E network router [4] (an adaptive router) preallocate considerable network resources in the form of virtual channel buffers to avoid deadlock anomalies which have empirically been shown to occur very rarely <ref> [5] </ref>. The WARRP router (Wormhole Adaptive Recovery-based Routing via Preemption) implements a progressive deadlock recovery routing algorithm which allows unrestricted true fully adaptive routing [6]. <p> Recent empirical studies confirm that deadlocks are highly improbable when routing freedom abounds <ref> [5] </ref>. Due to this, the WARRP router implements the Disha-Sequential [9, 10] recovery-based routing algorithm which progressively redirects suspected deadlocked packets toward destinations rather than regressively aborting and later re-introducing these packets into the network from source nodes as in [8].
Reference: [6] <author> Timothy Mark Pinkston, </author> <title> Flexible and Efficient Routing Based on Progressive Deadlock Recovery, </title> <note> Submitted to IEEE Transactions on Computers. </note>
Reference-contexts: The WARRP router (Wormhole Adaptive Recovery-based Routing via Preemption) implements a progressive deadlock recovery routing algorithm which allows unrestricted true fully adaptive routing <ref> [6] </ref>. <p> As confirmed in previous work <ref> [6, 9] </ref>, this greater routing flexibility allows for significant improvement in network performance and fault-tolerance by increasing the utilization of available network bandwidth. 2.2 Recovery Eligibility Since only one of the packets involved in an impending deadlock needs to be removed to resolve deadlock, the WARRP router implements some amount of
Reference: [7] <author> K.W.Goossen, et al. </author> <title> GaAs MQW modulators integrated with silicon CMOS. </title> <journal> IEEE Photonic Technology Letters., </journal> <volume> 7 </volume> <pages> 360-362, </pages> <year> 1995. </year>
Reference-contexts: Further, the WARRP II version of the router addresses the pin-out problem by integrating dense high-bandwidth optoelectronic transceivers onto the router chip capable of providing over 300 GBytes/sec of optical I/O per square centimeter <ref> [7] </ref>. links directly connecting neighboring routers plus one bidirectional injection/reception link connecting its local processor node. Packets of arbitrary length can be routed but are divided into 8-bit flits. Each physical link implements three bidirectional virtual lanes.
Reference: [8] <author> J. Kim, Z. Liu, and A. Chien. </author> <title> Compressionless Routing: A Framework for Adaptive and Fault-tolerant Routing. </title> <booktitle> In Proceedings of the 21st International Symposium on Computer Architecture,IEEE Computer Society, </booktitle> <pages> pages 289-300, </pages> <month> April </month> <year> 1994. </year>
Reference-contexts: Section 4 presents the implementation of the router, and Section 5 concludes the paper with some performance figures. 2 Adaptive Recovery-based Routing Deadlock recovery routing is optimistic as it permits unrestricted routing of packets in the absence of deadlock and efficiently recovers from rare cases of impending deadlock <ref> [8, 9] </ref>. Recent empirical studies confirm that deadlocks are highly improbable when routing freedom abounds [5]. <p> Due to this, the WARRP router implements the Disha-Sequential [9, 10] recovery-based routing algorithm which progressively redirects suspected deadlocked packets toward destinations rather than regressively aborting and later re-introducing these packets into the network from source nodes as in <ref> [8] </ref>. Though highly improbable, multiple deadlocks can be resolved sequentially one after another. Progressive recovery from deadlocks is through a single flit-sized deadlock buffer central to each router accessible from all neighboring routers.
Reference: [9] <author> Anjan K. V. and Timothy Mark Pinkston. DISHA: </author> <title> A Deadlock Recovery Scheme for Fully Adaptive Routing. </title> <booktitle> In Proceedings of the 22nd International Symposium on Computer Architecture, </booktitle> <pages> pages 201-210, </pages> <publisher> IEEE Computer Society, </publisher> <month> June </month> <year> 1995. </year>
Reference-contexts: Section 4 presents the implementation of the router, and Section 5 concludes the paper with some performance figures. 2 Adaptive Recovery-based Routing Deadlock recovery routing is optimistic as it permits unrestricted routing of packets in the absence of deadlock and efficiently recovers from rare cases of impending deadlock <ref> [8, 9] </ref>. Recent empirical studies confirm that deadlocks are highly improbable when routing freedom abounds [5]. <p> Recent empirical studies confirm that deadlocks are highly improbable when routing freedom abounds [5]. Due to this, the WARRP router implements the Disha-Sequential <ref> [9, 10] </ref> recovery-based routing algorithm which progressively redirects suspected deadlocked packets toward destinations rather than regressively aborting and later re-introducing these packets into the network from source nodes as in [8]. Though highly improbable, multiple deadlocks can be resolved sequentially one after another. <p> System wide, these buffers form what is collectively a recovery path which is essentially a floating channel buffer shared by all physical dimensions of a router. Mutually exclusive access to deadlock buffers implemented by a circulating token ensures that the recovery path remains deadlock-free <ref> [9, 10] </ref>. Turn selection criteria is also used to limit the eligibility of packets to recover. <p> chips is compared to that of the recovery-based routing algorithm implemented by the WARRP router: static dimension order routing [11] (used in the MRC, SPIDER, and Cray T3D routers), adaptive Duato Protocol routing [12] (used in the MIT Reliable Router and Cray T3E router), and true fully adaptive Disha routing <ref> [9] </ref> (used in the WARRP router). In the illustration, we assume that the dateline [4] crosses the source router. <p> As confirmed in previous work <ref> [6, 9] </ref>, this greater routing flexibility allows for significant improvement in network performance and fault-tolerance by increasing the utilization of available network bandwidth. 2.2 Recovery Eligibility Since only one of the packets involved in an impending deadlock needs to be removed to resolve deadlock, the WARRP router implements some amount of
Reference: [10] <author> Anjan K.V. and Timothy M. Pinkston, DISHA: </author> <title> A Deadlock Recovery Scheme for Fully Adaptive Routing, </title> <booktitle> In Proceedings of The 9th International Parallel Processing Symposium, </booktitle> <pages> pages 537-543, </pages> <address> Santa Barbara, CA, </address> <month> April </month> <year> 1995. </year>
Reference-contexts: Recent empirical studies confirm that deadlocks are highly improbable when routing freedom abounds [5]. Due to this, the WARRP router implements the Disha-Sequential <ref> [9, 10] </ref> recovery-based routing algorithm which progressively redirects suspected deadlocked packets toward destinations rather than regressively aborting and later re-introducing these packets into the network from source nodes as in [8]. Though highly improbable, multiple deadlocks can be resolved sequentially one after another. <p> System wide, these buffers form what is collectively a recovery path which is essentially a floating channel buffer shared by all physical dimensions of a router. Mutually exclusive access to deadlock buffers implemented by a circulating token ensures that the recovery path remains deadlock-free <ref> [9, 10] </ref>. Turn selection criteria is also used to limit the eligibility of packets to recover.
Reference: [11] <author> W. Dally and C. Seitz. </author> <title> Deadlock-free Message Routing in Multiprocessor Interconnection Networks. </title> <journal> IEEE Transactions on Computers, </journal> <volume> 36(5) </volume> <pages> 547-553, </pages> <month> May </month> <year> 1987. </year>
Reference-contexts: The routing freedom allowed by two well-known avoidance-based routing algorithms implemented by current router chips is compared to that of the recovery-based routing algorithm implemented by the WARRP router: static dimension order routing <ref> [11] </ref> (used in the MRC, SPIDER, and Cray T3D routers), adaptive Duato Protocol routing [12] (used in the MIT Reliable Router and Cray T3E router), and true fully adaptive Disha routing [9] (used in the WARRP router). In the illustration, we assume that the dateline [4] crosses the source router.
Reference: [12] <author> J. Duato. </author> <title> A New Theory of Deadlock-free Adaptive Routing in Wormhole Networks. </title> <journal> IEEE Transactions on Parallel and Distributed Systems, </journal> <volume> 4(12):1320, </volume> <month> 1331 </month> <year> 1993. </year>
Reference-contexts: The routing freedom allowed by two well-known avoidance-based routing algorithms implemented by current router chips is compared to that of the recovery-based routing algorithm implemented by the WARRP router: static dimension order routing [11] (used in the MRC, SPIDER, and Cray T3D routers), adaptive Duato Protocol routing <ref> [12] </ref> (used in the MIT Reliable Router and Cray T3E router), and true fully adaptive Disha routing [9] (used in the WARRP router). In the illustration, we assume that the dateline [4] crosses the source router.
Reference: [13] <author> C. Glass and L. Ni, </author> <title> The turn model for adaptive routing, </title> <booktitle> in Proceedings of the 19th Int'l Symposium on Computer Architecture, </booktitle> <pages> pages 278-287, </pages> <month> May </month> <year> 1992. </year>
Reference-contexts: In addition to blockage and token capture, packet eligibility is also determined by two routing criteria: westward turns <ref> [13] </ref> and dateline [4] crossings. Previous work [4, 13] has shown that restricting turns made in routing and restricting routes over the dateline (e.g., wraparound links in tori) can prevent the formation of cyclic dependencies necessary for deadlock. <p> In addition to blockage and token capture, packet eligibility is also determined by two routing criteria: westward turns [13] and dateline [4] crossings. Previous work <ref> [4, 13] </ref> has shown that restricting turns made in routing and restricting routes over the dateline (e.g., wraparound links in tori) can prevent the formation of cyclic dependencies necessary for deadlock. It follows that, for deadlock to form, at least one packet involved must make a turn or dateline route.
Reference: [14] <author> Kevin Bolding. </author> <title> Chaotic Routing Design and Implementation of an Adaptive Multicomputer Network Router. </title> <type> Ph.D Thesis, </type> <institution> Department of Computer Science and Engineering, University of Washington. </institution> <month> July </month> <year> 1993. </year>
Reference-contexts: True fully adaptive routing permits a broad number of routing choices. However, previous studies have indicated that allowing the input module to make multiple output link requests does not significantly improve performance <ref> [14, 15] </ref>. This is primarily due to the fact that the probability of multiple headers residing in the same router and in the same virtual network is usually very low, obviating the need for this parallelism.
Reference: [15] <author> Yungho Choi and Timothy Mark Pinkston. </author> <title> Router Design Analysis for Optimal Deadlock Recovery Router Architecture. </title> <type> CENG Technical Report, </type> <institution> Department of Electrical Engineering Systems, University of Southern California, </institution> <address> Los Angeles, CA 90089-2562, </address> <month> September </month> <year> 1996. </year>
Reference-contexts: True fully adaptive routing permits a broad number of routing choices. However, previous studies have indicated that allowing the input module to make multiple output link requests does not significantly improve performance <ref> [14, 15] </ref>. This is primarily due to the fact that the probability of multiple headers residing in the same router and in the same virtual network is usually very low, obviating the need for this parallelism.
Reference: [16] <author> Andrew A. Chien and J. H. Kim. </author> <title> Planar-Adaptive Routing: Low-Cost Adaptive Networks for Multiprocessors. </title> <booktitle> In Proceedings of the 19th Symposium on Computer Architecture, </booktitle> <pages> pages 268-277. </pages> <publisher> IEEE Computer Society, </publisher> <month> May </month> <year> 1992. </year>
Reference-contexts: This two-cycle arbitration delay for the recovery lane does not degrade router performance since recovery lane access delay is dominated by token capture (see Section 3.6) which serves as a time-out mechanism. 3.5 Flow Controller Module The WARRP router uses a source-synchronous signaling scheme <ref> [16, 17] </ref> to control asynchronous flit flow externally Timing Diagram. between routers. Two external flow control signals are required as shown in Figure 8. The Send Strobe pulse is sent along with each packet flit to indicate that the receiving input module is to latch in the data.
Reference: [17] <author> Joseph Carbonaro, Frank Verhoorn. Cavallino: </author> <title> The Ter--aflops Router and NIC. </title> <booktitle> Hot Interconnects IV Symposium Record, </booktitle> <pages> pages 157-160, </pages> <month> August </month> <year> 1996. </year>
Reference-contexts: This two-cycle arbitration delay for the recovery lane does not degrade router performance since recovery lane access delay is dominated by token capture (see Section 3.6) which serves as a time-out mechanism. 3.5 Flow Controller Module The WARRP router uses a source-synchronous signaling scheme <ref> [16, 17] </ref> to control asynchronous flit flow externally Timing Diagram. between routers. Two external flow control signals are required as shown in Figure 8. The Send Strobe pulse is sent along with each packet flit to indicate that the receiving input module is to latch in the data.
Reference: [18] <author> T. K. Woodward, A. L. Lentine, K. W. Goossen, J. A. Walker, B. T. Tseng, S. P. Hui, J. Lothian, R. E. Leibenguth, </author> <title> Demultiplexing 2.48 Gb/s Optical Signals with a Lower-Speed Clocked-Sense-Amplifier- Based Hybrid CMOS/MQW Receiver Array, In Spatial Light Modulators Technical Digest, </title> <booktitle> 1997 Spring Topical Meeting, </booktitle> <pages> pages 52-54, </pages> <month> March </month> <year> 1997. </year>
Reference-contexts: Each diode is 20fi60m 2 with a separation of 62:5m and 125m from neighboring devices. Hence, this technology is capable of supporting approximately 5,000 optical I/Os per cm 2 with each I/O capable of modulating/receiving data at more than 2 Gb/s <ref> [18] </ref> using only 300W of optical power, for an aggregate capacity on the order order of 100s of GBytes per sec per cm 2 (even with differential signal mode assumed).
Reference: [19] <author> Yungho Choi and Timothy Mark Pinkston. </author> <title> The Architecture of the WARRP router. </title> <type> CENG Technical Report, </type> <institution> Department of Electrical Engineering Systems, University of Southern California, </institution> <address> Los Angeles, CA 90089-2562, </address> <month> August </month> <year> 1997. </year>
Reference-contexts: more data flits are ready to be transmitted by the deadlock module if a bubble occurs in deadlock packet transmission. 4 Router Implementation The WARRP router architecture described in this paper was designed at the behavior level using a VHDL hardware description language and implemented in RAM-based FPGA technology (see <ref> [19] </ref> for a fully detailed specification of the router design). This allowed us to quickly simulate and verify our design at the gate and architecture levels to further optimize the design and estimate performance prior to fabrication in optoelectronic technology.
Reference: [20] <author> Timothy Mark Pinkston, Mongkol Raksapatcharawong, and Yungho Choi. </author> <title> Smart-Pixel Implementation of Network Router Deadlock Handling Mechanisms. </title> <booktitle> In Optics in Computing Technical Digest, Optical Society of America, </booktitle> <pages> pages 159-161, </pages> <month> March </month> <year> 1997. </year>
Reference-contexts: Network routers can benefit from this high bandwidth I/O capability in several ways including realizing implementations with wider channels (data and control), higher node degree, full duplex links, redundant channels (for fault-tolerance), etc., to reduce latency and increase throughput. In previous work <ref> [20] </ref>, WARRP's core deadlock handling mechanisms were implemented in monolithic GaAs MESFET VLSI technology integrated with GaAs OPFET photodetec-tors and GaAs/InGaP double heterostructure LEDs. Here, we implement a fully-functional router.
References-found: 20

