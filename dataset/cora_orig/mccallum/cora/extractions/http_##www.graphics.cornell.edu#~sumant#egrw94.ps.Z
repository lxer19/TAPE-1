URL: http://www.graphics.cornell.edu/~sumant/egrw94.ps.Z
Refering-URL: http://www.graphics.cornell.edu/~sumant/cv.html
Root-URL: 
Title: Haar Wavelet A Solution to Global Illumination With General Surface Properties  
Author: Sumanta N. Pattanaik and Kadi Bouatouch 
Date: February 28, 1996  
Address: 35042 Rennes Cedex, France  
Affiliation: IRISA, Campus de Beaulieu,  
Abstract: This paper presents a method for solving the problem of global illumination for general environments, using projection of the radiance function on a set of orthonormal basis functions. Wavelet scaling functions form this basis set. The highlights of the paper are : it (i) points out the difficulty associated with the straightforward projection of the integral operator associated with the radiance equation and proposes a method for overcoming this difficulty, (ii) gives the data structure and algorithm for illumination solution in environments containing diffuse and non-diffuse reflecting surfaces, and (iii) proposes the use of bi-orthogonal wavelet for the radiance function reconstruction at the time of rendering. Actual implementation has been carried out using the Haar wavelet basis. The main reason for using Haar basis is that it makes the projection of the integral operator, as well as the computation of the inner product of the integral kernel with its basis functions much simpler. However, the algorithm and data structures presented are not restricted to the Haar basis alone. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> L. M. Delves and J. L. Mohamed. </author> <title> Computational Methods for Integral Equations. </title> <publisher> Cambridge University Press, </publisher> <year> 1985. </year>
Reference-contexts: 1 Introduction Computation of global illumination in an environment requires the solution of linear integral equations. In general, closed form solution does not exist for such equations. So, one resorts to numerical solution methods. Projection method <ref> [1] </ref> is one such numerical solution method. One comes across the very first explicit use of this method for the global illumination solution in [2]. Much recently [3, 4, 5] there has been a greater surge of interest in application of this method to the illumination problem. <p> surface there will be n such structures where n is the number of surfaces visible to the specular surface. /* Structure to hold relevant 2 point interaction informations.*/ typedef struct f int J pr ; /* Resolution of interaction.*/ int p, k; l; /* p : surface-id, k; l 2 <ref> [1; 2 J pr ] </ref> its indices.*/ int r, i; j; /* r : surface-id, i; j 2 [1; 2 J pr ] its indices.*/ float K J pr i;j;k;l ; /* Coeff of 2 point interaction p $ r */ g2Point; /* = hK (); J;i () J;j () J;k <p> surface. /* Structure to hold relevant 2 point interaction informations.*/ typedef struct f int J pr ; /* Resolution of interaction.*/ int p, k; l; /* p : surface-id, k; l 2 <ref> [1; 2 J pr ] </ref> its indices.*/ int r, i; j; /* r : surface-id, i; j 2 [1; 2 J pr ] its indices.*/ float K J pr i;j;k;l ; /* Coeff of 2 point interaction p $ r */ g2Point; /* = hK (); J;i () J;j () J;k () J;l ()i.*/ /* Structure to hold relevant 3 point interaction informations.*/ typedef struct f int J rpq <p> /* Coeff of 2 point interaction p $ r */ g2Point; /* = hK (); J;i () J;j () J;k () J;l ()i.*/ /* Structure to hold relevant 3 point interaction informations.*/ typedef struct f int J rpq ; /* Resolution of interaction.*/ int k, l; /* k; l 2 <ref> [1; 2 J rpq ] </ref> indices of p.*/ int q, m; n; /* q : receiver, m; n 2 [1; 2 J rpq ] its indices.*/ int r, i; j; /* r : emitter, i; j 2 [1; 2 J rpq ] its indices.*/ float K J rpq i;j;k;l;m;n ; /* <p> J;k () J;l ()i.*/ /* Structure to hold relevant 3 point interaction informations.*/ typedef struct f int J rpq ; /* Resolution of interaction.*/ int k, l; /* k; l 2 <ref> [1; 2 J rpq ] </ref> indices of p.*/ int q, m; n; /* q : receiver, m; n 2 [1; 2 J rpq ] its indices.*/ int r, i; j; /* r : emitter, i; j 2 [1; 2 J rpq ] its indices.*/ float K J rpq i;j;k;l;m;n ; /* Coeff of 3 point interaction r ! p ! q */ g3Point; /* =hK (); J;i () J;j () <p> rpq ; /* Resolution of interaction.*/ int k, l; /* k; l 2 <ref> [1; 2 J rpq ] </ref> indices of p.*/ int q, m; n; /* q : receiver, m; n 2 [1; 2 J rpq ] its indices.*/ int r, i; j; /* r : emitter, i; j 2 [1; 2 J rpq ] its indices.*/ float K J rpq i;j;k;l;m;n ; /* Coeff of 3 point interaction r ! p ! q */ g3Point; /* =hK (); J;i () J;j () J;k () J;l () J;m () J;n ()i.*/ 1 As we shall see later, though in principle there
Reference: [2] <author> Paul Heckbert. </author> <title> Simulating Global Illumination Using Adaptive Meshing. </title> <type> PhD thesis, </type> <month> June </month> <year> 1991. </year>
Reference-contexts: In general, closed form solution does not exist for such equations. So, one resorts to numerical solution methods. Projection method [1] is one such numerical solution method. One comes across the very first explicit use of this method for the global illumination solution in <ref> [2] </ref>. Much recently [3, 4, 5] there has been a greater surge of interest in application of this method to the illumination problem. These methods defer in their choice and the number of basis functions for carrying out the projection.
Reference: [3] <author> Steven Gortler, Peter Schroder, Michel F. Cohen, and Pat Hanrahan. </author> <title> Wavelet radiosity. </title> <booktitle> Computer Graphics (SIGGRAPH '93 Proceedings), </booktitle> <volume> 27(4) </volume> <pages> 221-230, </pages> <year> 1993. </year>
Reference-contexts: In general, closed form solution does not exist for such equations. So, one resorts to numerical solution methods. Projection method [1] is one such numerical solution method. One comes across the very first explicit use of this method for the global illumination solution in [2]. Much recently <ref> [3, 4, 5] </ref> there has been a greater surge of interest in application of this method to the illumination problem. These methods defer in their choice and the number of basis functions for carrying out the projection. <p> These methods defer in their choice and the number of basis functions for carrying out the projection. Of the various choices of fl To appear in 1994 EG Rendering Workshop Proceedings 1 basis functions the wavelets seem to have the edge over others <ref> [3, 6] </ref> because (i) the hierarchical decomposition and reconstruction characteristics [7] of wavelets allows the use of variable number of basis functions in the projection of functions involved in the same integral equation, (ii) they provide a handle [8] for adaptively deciding on the number of basis functions. <p> L J K J However, unlike in the case of diffuse radiance equation <ref> [3, 6] </ref>, such straightforward expansion of the integral operator in equation (2) is difficult. This difficulty arises because the integration is over one variable where as the radi ance function inside is a function of two variables.
Reference: [4] <author> Harold R. Zatz. </author> <title> Galerkin radiosity. </title> <booktitle> Computer Graphics (SIGGRAPH '93 Proceedings), </booktitle> <volume> 27(4) </volume> <pages> 213-220, </pages> <year> 1993. </year>
Reference-contexts: In general, closed form solution does not exist for such equations. So, one resorts to numerical solution methods. Projection method [1] is one such numerical solution method. One comes across the very first explicit use of this method for the global illumination solution in [2]. Much recently <ref> [3, 4, 5] </ref> there has been a greater surge of interest in application of this method to the illumination problem. These methods defer in their choice and the number of basis functions for carrying out the projection.
Reference: [5] <author> Roy Troutman and Nelson L. Max. </author> <title> Radiosity algorithms using higher order finite element methods. </title> <booktitle> Computer Graphics (SIGGRAPH '93 Proceedings), </booktitle> <volume> 27(4) </volume> <pages> 209-212, </pages> <year> 1993. </year>
Reference-contexts: In general, closed form solution does not exist for such equations. So, one resorts to numerical solution methods. Projection method [1] is one such numerical solution method. One comes across the very first explicit use of this method for the global illumination solution in [2]. Much recently <ref> [3, 4, 5] </ref> there has been a greater surge of interest in application of this method to the illumination problem. These methods defer in their choice and the number of basis functions for carrying out the projection.
Reference: [6] <author> Sumanta N. Pattanaik and Kadi Bouatouch. </author> <title> Fast wavelet radiosity method. </title> <booktitle> Computer Graphics Forum, Special Eurographics '94 Conference Proceedings Issue, </booktitle> <month> Sept. </month> <year> 1994. </year> <month> 13 </month>
Reference-contexts: These methods defer in their choice and the number of basis functions for carrying out the projection. Of the various choices of fl To appear in 1994 EG Rendering Workshop Proceedings 1 basis functions the wavelets seem to have the edge over others <ref> [3, 6] </ref> because (i) the hierarchical decomposition and reconstruction characteristics [7] of wavelets allows the use of variable number of basis functions in the projection of functions involved in the same integral equation, (ii) they provide a handle [8] for adaptively deciding on the number of basis functions. <p> L J K J However, unlike in the case of diffuse radiance equation <ref> [3, 6] </ref>, such straightforward expansion of the integral operator in equation (2) is difficult. This difficulty arises because the integration is over one variable where as the radi ance function inside is a function of two variables. <p> k;l;m L J rpq m for p nondiffuse: (13) We now proceed to give a solution method for the global illumination in an environment, using equations (12) and (13). 4 Solution The data structure and algorithm given in this section are the extensions to our earlier work for diffuse environment <ref> [6] </ref>. 6 4.1 Data Structure We start with the data structure for the surface. typedef struct f Geom geometric information; Opt optical information; typedef struct INTERACTIONf void *kernel; /* Pointer to 2P oint=3P oint struct.*/ struct INTERACTION *next; gInteraction *interaction; structf int J pq ; /* Max interaction resolution.*/ float *[L <p> The resolution computation is carried out adaptively starting with J = 0 and progressively incrementing the J till the kernel smoothness condition is satisfied <ref> [6] </ref>.
Reference: [7] <author> Stephane G. Mallat. </author> <title> A theory for multiresolution signal decomposition: The wavelet representation. </title> <journal> IEEE Transactions on PAMI, </journal> <volume> 11(7) </volume> <pages> 674-693, </pages> <year> 1989. </year>
Reference-contexts: Of the various choices of fl To appear in 1994 EG Rendering Workshop Proceedings 1 basis functions the wavelets seem to have the edge over others [3, 6] because (i) the hierarchical decomposition and reconstruction characteristics <ref> [7] </ref> of wavelets allows the use of variable number of basis functions in the projection of functions involved in the same integral equation, (ii) they provide a handle [8] for adaptively deciding on the number of basis functions.
Reference: [8] <author> G. Beylkin, R. Coifman, and V. Rokhlin. </author> <title> Fast wavelet transforms and numerical algorithms i. </title> <journal> Communications on Pure and Applied Mathematics, </journal> <volume> XLIV:141-183, </volume> <year> 1991. </year>
Reference-contexts: 1 basis functions the wavelets seem to have the edge over others [3, 6] because (i) the hierarchical decomposition and reconstruction characteristics [7] of wavelets allows the use of variable number of basis functions in the projection of functions involved in the same integral equation, (ii) they provide a handle <ref> [8] </ref> for adaptively deciding on the number of basis functions. So far, the application of wavelets (or for that matter of projection methods) to the illumination problem has been limited to the solution of radiosity equation.
Reference: [9] <author> Dave S. Immel, Michael Cohen, and Donald P. Greenberg. </author> <title> A radiosity method for non-diffuse environments. </title> <booktitle> Computer Graphics (SIGGRAPH '86 Proceedings), </booktitle> <volume> 20(4) </volume> <pages> 133-142, </pages> <month> Aug. </month> <year> 1986. </year>
Reference-contexts: In this paper we have attempted to use wavelet projection method for solution of the general radiance equations. The work presented here may be seen as bringing the brute-force discretisation method of <ref> [9] </ref> and hierarchical discreti-sation method of [10] into the framework of functional projection technique. It thus opens up scopes of using higher order basis functions for use in projection-based illumination computation methods. The organisation of the paper is as follows. We first describe the general radiance equation.
Reference: [10] <author> Larry Aupperle and Pat Hanrahan. </author> <title> A hierarchical illumination algorithm for surfaces with glossy reflections. </title> <booktitle> Computer Graphics (SIGGRAPH '93 Proceedings), </booktitle> <volume> 24(4) </volume> <pages> 155-162, </pages> <month> August </month> <year> 1993. </year>
Reference-contexts: In this paper we have attempted to use wavelet projection method for solution of the general radiance equations. The work presented here may be seen as bringing the brute-force discretisation method of [9] and hierarchical discreti-sation method of <ref> [10] </ref> into the framework of functional projection technique. It thus opens up scopes of using higher order basis functions for use in projection-based illumination computation methods. The organisation of the paper is as follows. We first describe the general radiance equation. <p> All these linear equations can be solved together by using an iterative method discussed in the following section. We have come across similar linear equation formulations for the global illumination involving glossy surfaces in <ref> [10] </ref>. However, there is a significant difference between the formulations. The linear expression of [10] has been derived by multiplying both sides of equation (2) by a term G (x 0 ; x 00 )dx 00 dx 0 and integrating the resulting equation over the surface p and surface q. i.e.: <p> All these linear equations can be solved together by using an iterative method discussed in the following section. We have come across similar linear equation formulations for the global illumination involving glossy surfaces in <ref> [10] </ref>. However, there is a significant difference between the formulations. The linear expression of [10] has been derived by multiplying both sides of equation (2) by a term G (x 0 ; x 00 )dx 00 dx 0 and integrating the resulting equation over the surface p and surface q. i.e.: Z Z L pq (x 0 ; x 00 )G (x 0 ; x <p> Thus, in <ref> [10] </ref> the linear equations represent the expressions for the pre-assumed constant radiance over a small patch towards another small patch in an prediscretised environment; whereas in our derivation the linear equations represent the expression for the coefficients of expansion of the radiance function projected over the wavelet basis functions. 3 Environment <p> However, if one is interested in rendering only one or a few number of particular view (s), then the enclosure requirement can be avoided by introducing the eye piece as a hypothetical surface into the environment <ref> [11, 10] </ref>. This hypothetical surface is capable of receiving illumination, so takes part in the 3 point interactions, but does not obstruct or reflect the illumination. The algorithm discussed above is still not fast enough for a general environment.
Reference: [11] <author> Christian Bouville, Kadi Bouatouch, Pierre Tellier, and Xavier Pueyo. </author> <title> A theoretical analysis of global illumination models. </title> <booktitle> Proceedings Eurographics Workshop on Photosimulation, Realism and Physics in Computer Graphics, </booktitle> <pages> pages 53-66, </pages> <month> June </month> <year> 1990. </year>
Reference-contexts: provide the data structure and algorithm for the solution of radiance equation using this projection. 2 Three Point Radiance Equation Radiance from a point x 0 of a surface p towards the point x 00 of surface q, L pq (x 0 ; x 00 ), can be written as <ref> [11] </ref> : L pq (x 0 ; x 00 ) = * pq (x 0 ; x 00 ) + r A r where * pq (x 0 ; x 00 ) is the radiance due to emission from x 0 along x 00 , x is a point on the <p> However, if one is interested in rendering only one or a few number of particular view (s), then the enclosure requirement can be avoided by introducing the eye piece as a hypothetical surface into the environment <ref> [11, 10] </ref>. This hypothetical surface is capable of receiving illumination, so takes part in the 3 point interactions, but does not obstruct or reflect the illumination. The algorithm discussed above is still not fast enough for a general environment.
Reference: [12] <author> Ingrid Daubechies. </author> <title> Orthonormal bases of compactly supported wavelets. </title> <journal> Communications on Pure and Applied Mathematics, </journal> <volume> XLI:909-996, </volume> <year> 1988. </year>
Reference-contexts: Solution of equation (1) using projection method will require the expansion of the functions and the integral operator involved in the equation in some basis. Orthonormal wavelet scaling functions J;k with compact support <ref> [12] </ref> 2 at some appropriate resolution J can form such basis. For the convenience of explanation, in the following discussions of this section, we shall assume the environment to be 2D (flatland).
Reference: [13] <author> Bernard Delyon and Anatoli Juditsy. </author> <type> personal communication, </type> <institution> IRISA, </institution> <year> 1994. </year>
Reference-contexts: Luckily, it is possible to express each of the J;k (u 0 ) J;k 0 (u 0 ) terms in the above equation as a linear combination of J;n (u 0 )'s <ref> [13] </ref>.
Reference: [14] <author> Gregory J. Ward. </author> <title> Measuring and modeling anisotropic reflection. </title> <booktitle> Computer Graphics (SIGGRAPH '92 Proceedings), </booktitle> <volume> 26(4) </volume> <pages> 265-272, </pages> <year> 1992. </year>
Reference-contexts: Images have been created to show the direction independent radiance distribution over the receiving surface due to the changing reflecting property of the reflector. The specular surface has been modeled as rolled aluminum using Ward's reflection model <ref> [14] </ref>. Figure 4 is created by associating diffuse reflection property with the reflector. For this the algorithm generated 4616 two point nodes and 205346 two point interactions. Figure 5 is created by associating specular reflection property to the reflector.
Reference: [15] <author> Albert Cohen, Ingrid Daubechies, and J.-C. Feauveau. </author> <title> Biorthogonal bases of compactly supported wavlets. </title> <journal> Communications on Pure and Applied Mathematics, </journal> <volume> XLV:485-560, </volume> <year> 1992. </year>
Reference-contexts: However, the same is not true when the reflector is specular (Figure 5). So for a better rendering of the computed image, smoothing in some form or other is necessary. Instead of choosing some extraneous smoothing procedure, we propose to carry out the function reconstruction using bi-orthogonal wavelets <ref> [15] </ref>, with which smoothing comes naturally.
Reference: [16] <author> Bernard Delyon. </author> <title> Ondelettes orthogonales et biorthogonales. </title> <type> Technical report, </type> <institution> IRISA, Rennes, </institution> <note> No. 732, </note> <month> November </month> <year> 1993. </year> <month> 14 </month>
Reference-contexts: At present we are experimenting with spline wavelet basis, which is orthogonal to Haar <ref> [16] </ref>, as the f 0 J;k g for the radiance reconstruction during rendering. The radiance function computed by the method discussed in this paper is defined from a point on a surface to a point on another surface.
References-found: 16

