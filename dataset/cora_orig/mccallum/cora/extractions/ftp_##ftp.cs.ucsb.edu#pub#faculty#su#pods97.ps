URL: ftp://ftp.cs.ucsb.edu/pub/faculty/su/pods97.ps
Refering-URL: ftp://ftp.cs.ucsb.edu/pub/faculty/su/pods97.html
Root-URL: http://www.cs.ucsb.edu
Email: ibarra@cs.ucsb.edu  su@cs.ucsb.edu  
Title: On the Containment and Equivalence of Database Queries with Linear Constraints (Extended Abstract)  
Author: Oscar H. Ibarra Jianwen Su 
Address: Santa Barbara, California 93106  Santa Barbara, California 93106  
Affiliation: Department of Computer Science University of California  Department of Computer Science University of California  
Abstract: Copyright c fl1997 by the Association for Computing Machinery, Inc. Permission to make digital or hard copies of part or all of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or direct commercial advantage and that copies bear this notice and the full citation on the first page. Copyrights for components of this work owned by others than ACM must be honored. Abstracting with credit is permitted. To copy otherwise, to republish, to post on servers, or to redistribute to lists, requires prior specific permission and/or a fee. Request permissions from Publications Dept., ACM Inc., fax +1 (212) 869-0481, or (permissions@acm.org). Abstract We develop a new technique based on counter machines to study the containment and equivalence of queries with linear constraints over integers Z, natural numbers N, rational numbers Q, and real numbers R. We show that the problems are decidable in double exponential time with an exponential time lower bound for conjunctive queries with linear constraints over Z and N, decidable in double exponential time for constant-free conjunctive queries with linear constraints over Q and R. For the general classes of conjunctive queries with linear constraints over Q and R, the problems are decidable in double exponential space using reductions to the first-order theory of reals with addition. We also use the counter machine technique to show that for connected first-order queries with linear constraints over Z and N, the containment and equivalence problems are decidable over bounded-degree databases. 
Abstract-found: 1
Intro-found: 1
Reference: [AHV95] <author> S. Abiteboul, R. Hull, and V. Vianu. </author> <title> Foundations of Databases. </title> <publisher> Addison-Wesley, </publisher> <year> 1995. </year>
Reference-contexts: For example, for relational databases [Cod70], a result by Trahtenbrot [Tra50] implies that the containment and equivalence of two relational algebra (or calculus) fl Work supported in part by NSF grant IRI94-11330, NASA grant NAGW-3888, and a faculty research grant from UCSB. queries are undecidable (see also <ref> [Fag93, AHV95] </ref>). A fortunate exception here is the class of conjunctive queries, whose containment and equivalence were shown decidable by Chandra and Merlin [CM77]. Conjunctive queries, which are relational algebra queries without union and difference, have received renewed interest because of their potential use in web-related applications [LRU96]. <p> The results extend to databases satisfying simple integrity constraints [ASU79a, ASU79b]; but the complexity goes up to PSPACE-hard when the integrity constraints are defined in Datalog [DS96]. The fundamental technique for the decidability proof is to use homomorphisms <ref> [Ull88, AHV95] </ref>, which are mappings that embed one query into the other. When the domain has an order, 1 the technique fails although the containment is in P p [Klu88] and, in fact, is P p 2 -complete [vdM92]. <p> Finite databases are essentially relational databases (under the context structure A). We study two classes of query languages: conjunctive and first-order queries extended with arithmetic. The query languages are briefly described below. For simplicity, we adopt a rule-based framework <ref> [AHV95] </ref>. An atom is a formula of form p (y 1 ; : : : ; y k ) where p is a k-ary relation name in P and y 1 ; : : : ; y k are variables. <p> A (conjunctive, first-order) A-query is safe (connected) if all of its rules are safe (resp. connected). The safety notion is a generalization of safe-range restriction in <ref> [AHV95] </ref>. The connectivity notion is a syntactic restriction necessary in proving the decidabil-ity results in Section 5. Although constant-free Boolean queries are not connected, each (safe) first-order query is equivalent to the projection of some (resp. safe) connected first-order query with an appropriate padding on the schema. Proposition 2.2 1. <p> Theorem 5.1 The CE problems for connected first-order Z- (N -) queries are undecidable, even for finite databases. 8 Since the problems for first-order queries are undecidable for finite databases [Tra50] (see also <ref> [AHV95] </ref>) and in general [GS94], it is easy to extend these results to connected queries.
Reference: [ASU79a] <author> A. V. Aho, Y. Sagiv, and J. D. Ullman. </author> <title> Efficient optimization of a class of relational expressions. </title> <journal> ACM Transactions on Database Systems, </journal> <volume> 4(4) </volume> <pages> 435-454, </pages> <month> December </month> <year> 1979. </year>
Reference-contexts: For relational or finite databases, the CE problems for conjunctive relational queries (without arithmetic) are NP-complete [CM77]. The results extend to databases satisfying simple integrity constraints <ref> [ASU79a, ASU79b] </ref>; but the complexity goes up to PSPACE-hard when the integrity constraints are defined in Datalog [DS96]. The fundamental technique for the decidability proof is to use homomorphisms [Ull88, AHV95], which are mappings that embed one query into the other.
Reference: [ASU79b] <author> A. V. Aho, Y. Sagiv, and J. D. Ullman. </author> <title> Equivalence among relational expressions. </title> <journal> SIAM Journal on Computing, </journal> <volume> 8(2) </volume> <pages> 218-246, </pages> <month> May </month> <year> 1979. </year>
Reference-contexts: For relational or finite databases, the CE problems for conjunctive relational queries (without arithmetic) are NP-complete [CM77]. The results extend to databases satisfying simple integrity constraints <ref> [ASU79a, ASU79b] </ref>; but the complexity goes up to PSPACE-hard when the integrity constraints are defined in Datalog [DS96]. The fundamental technique for the decidability proof is to use homomorphisms [Ull88, AHV95], which are mappings that embed one query into the other.
Reference: [BB74] <author> B. Baker and R. </author> <title> Book. </title> <journal> Reversal-bounded multipushdown machines. Journal of Computer and System Sciences, </journal> <volume> 8 </volume> <pages> 315-332, </pages> <year> 1974. </year>
Reference-contexts: Theorem 3.2 fails for nondeterministic machines. In fact, the containment and equivalence problems are undecidable for nondeterministic one-way 1-reversal 1-counter machines <ref> [BB74] </ref>. However, when the machines accept bounded languages, the problems are decidable [Iba78, GI81]. Definition: A language L is bounded if it is a subset of a fl k , for distinct symbols a 1 ; : : : ; a k . Actually, the notion can be relaxed.
Reference: [BDLW96] <author> M. Benedikt, G. Dong, L. Libkin, and L. Wong. </author> <title> Relational expressive power of constraint query languages. </title> <booktitle> In Proc. ACM Symp. on Principles of Database Systems, </booktitle> <year> 1996. </year>
Reference-contexts: Intuitively, a constraint database is represented by formulas in a first-order logic language and interpreted in the context of a first-order structure (usually some arithmetic domain). Constraint query languages are defined based on first-order logic. Although their expressive power and complexity have been studied extensively <ref> [Rev93, Kup93, KG94, GS95, GS96, PVV95, ST96, BDLW96, BL96] </ref>, the query containment and equivalence problems are mostly unanswered even for conjunctive queries, except for some expected negative results reported in [GS94].
Reference: [BL96] <author> M. Benedikt and L. Libkin. </author> <title> On the structure of queries in constraint query languages. </title> <booktitle> In Proc. IEEE Symposium on Logic In Computer Science, </booktitle> <year> 1996. </year>
Reference-contexts: Intuitively, a constraint database is represented by formulas in a first-order logic language and interpreted in the context of a first-order structure (usually some arithmetic domain). Constraint query languages are defined based on first-order logic. Although their expressive power and complexity have been studied extensively <ref> [Rev93, Kup93, KG94, GS95, GS96, PVV95, ST96, BDLW96, BL96] </ref>, the query containment and equivalence problems are mostly unanswered even for conjunctive queries, except for some expected negative results reported in [GS94].
Reference: [Che76] <author> P.P.-S. Chen. </author> <title> The entity-relationship model toward a unified view of data. </title> <journal> ACM Transactions on Database Systems, </journal> <volume> 1(1) </volume> <pages> 9-36, </pages> <year> 1976. </year>
Reference-contexts: Such restrictions correspond to the cardinality constraints found in object-oriented data models and the ER model <ref> [Che76] </ref>. Recall that A is a structure of L with universe A. Let be a database schema and I a finite database of .
Reference: [CK73] <author> C. C. Chang and H. J. Keisler. </author> <title> Model Theory, </title> <booktitle> volume 73 of Studies in Logic. </booktitle> <publisher> North-Holland, </publisher> <year> 1973. </year>
Reference-contexts: Both are over the language L Q = f=; &lt;g [ Q. 1 x k y iff x mod k = y mod k. We note here that (the theories of) the above structures admit quantifier elimination <ref> [End72, CK73] </ref>, which is essential in evaluating (first-order) queries in closed form [KKR95]. Formally, we assume the existence of a countably infinite set P of relation names, each having an associated arity.
Reference: [CM77] <author> A. K. Chandra and P.M. Merlin. </author> <title> Optimal implementation of conjunctive queries in relational data bases. </title> <booktitle> In Proc. ACM SIGACT Symp. on the Theory of Computing, </booktitle> <pages> pages 77-90, </pages> <year> 1977. </year>
Reference-contexts: A fortunate exception here is the class of conjunctive queries, whose containment and equivalence were shown decidable by Chandra and Merlin <ref> [CM77] </ref>. Conjunctive queries, which are relational algebra queries without union and difference, have received renewed interest because of their potential use in web-related applications [LRU96]. Extending databases and query languages with arithmetic constraints has been an interesting research issue since the seminal paper by Kanellakis, Kuper, and Revesz [KKR95]. <p> The purpose of this paper is to investigate the containment and equivalence (CE) problems for constraint queries or queries with arithmetic constraints in both relational and constraint database settings. For relational or finite databases, the CE problems for conjunctive relational queries (without arithmetic) are NP-complete <ref> [CM77] </ref>. The results extend to databases satisfying simple integrity constraints [ASU79a, ASU79b]; but the complexity goes up to PSPACE-hard when the integrity constraints are defined in Datalog [DS96].
Reference: [Cod70] <author> E. F. Codd. </author> <title> A relational model of data for large shared data banks. </title> <journal> Communications of the ACM, </journal> <volume> 13(6) </volume> <pages> 377-387, </pages> <year> 1970. </year>
Reference-contexts: Although query languages typically have very limited expressive power (compared to programming languages), the existence of such decision procedures is still rare. For example, for relational databases <ref> [Cod70] </ref>, a result by Trahtenbrot [Tra50] implies that the containment and equivalence of two relational algebra (or calculus) fl Work supported in part by NSF grant IRI94-11330, NASA grant NAGW-3888, and a faculty research grant from UCSB. queries are undecidable (see also [Fag93, AHV95]).
Reference: [CV93] <author> S. Chaudhuri and M. Y. Vardi. </author> <title> Optimization of real conjunctive queries. </title> <booktitle> In Proc. ACM Symp. on Principles of Database Systems, </booktitle> <pages> pages 59-70, </pages> <year> 1993. </year>
Reference-contexts: On the other hand, it is known that the CE problems under the bag semantics are P p 2 -hard but it is not known whether they are decidable <ref> [CV93] </ref>. For constraint databases, the picture is less clear. <p> Finally, it seems promising to apply this technique to (relational) conjunctive queries under bag semantics which might solve the decidability questions raised in <ref> [CV93] </ref>. Acknowledgment The authors thank Moshe Vardi for his comments on an earlier version of the paper which lead to Theorem 4.9.
Reference: [DS96] <author> G. Dong and J. Su. </author> <title> Conjunctive query containment with respect to views and constraints. </title> <journal> Information Processing Letters, </journal> <volume> 57 </volume> <pages> 95-102, </pages> <year> 1996. </year>
Reference-contexts: For relational or finite databases, the CE problems for conjunctive relational queries (without arithmetic) are NP-complete [CM77]. The results extend to databases satisfying simple integrity constraints [ASU79a, ASU79b]; but the complexity goes up to PSPACE-hard when the integrity constraints are defined in Datalog <ref> [DS96] </ref>. The fundamental technique for the decidability proof is to use homomorphisms [Ull88, AHV95], which are mappings that embed one query into the other.
Reference: [End72] <author> H. B. Enderton. </author> <title> A Mathematical Introduction to Logic. </title> <publisher> Academic Press, Inc., </publisher> <year> 1972. </year>
Reference-contexts: Both are over the language L Q = f=; &lt;g [ Q. 1 x k y iff x mod k = y mod k. We note here that (the theories of) the above structures admit quantifier elimination <ref> [End72, CK73] </ref>, which is essential in evaluating (first-order) queries in closed form [KKR95]. Formally, we assume the existence of a countably infinite set P of relation names, each having an associated arity.
Reference: [Fag93] <author> R. Fagin. </author> <title> Finite model theory a personal perspective. </title> <journal> Theoretical Computer Science, </journal> <volume> 116(1) </volume> <pages> 3-31, </pages> <month> August </month> <year> 1993. </year>
Reference-contexts: For example, for relational databases [Cod70], a result by Trahtenbrot [Tra50] implies that the containment and equivalence of two relational algebra (or calculus) fl Work supported in part by NSF grant IRI94-11330, NASA grant NAGW-3888, and a faculty research grant from UCSB. queries are undecidable (see also <ref> [Fag93, AHV95] </ref>). A fortunate exception here is the class of conjunctive queries, whose containment and equivalence were shown decidable by Chandra and Merlin [CM77]. Conjunctive queries, which are relational algebra queries without union and difference, have received renewed interest because of their potential use in web-related applications [LRU96].
Reference: [FR74] <author> M. J. Fischer and M. O. Rabin. </author> <title> Super-exponential complexity of Presburger arithmetic. </title> <booktitle> SIAM-AMS Proceedings, </booktitle> <volume> 7 </volume> <pages> 27-41, </pages> <year> 1974. </year>
Reference-contexts: This provides an interesting contrast to the undecidability result in the general case. In the remainder of the section, we discuss the proof of Theorem 5.2. The lower bound is implied by the lower bound of Presburger arithmetic <ref> [FR74] </ref>. The idea for proving the upper bound is the same as that used in the proof of Theorem 4.2. The proof (for the containment problem) is based on a reduction to the containment problem for languages accepted by deterministic bounded-reversal counter machines.
Reference: [FR75] <author> J. Ferrante and C. W. Rackoff. </author> <title> A decision procedure for the first order theory of real addition with order. </title> <journal> SIAM Journal on Computing, </journal> <volume> 4(1) </volume> <pages> 69-76, </pages> <month> March </month> <year> 1975. </year>
Reference-contexts: Since ff i has to consider all assignments and K is linear in the size of the input queries, the sentence ' is exponential in the size of queries. Ferrante and Rackoff <ref> [FR75] </ref> showed that deciding the truth of a sentence of length n over reals with addition is in 2 cn SPACE. Hence the upper bound follows.
Reference: [F ur82] <author> M. F urer. </author> <title> The complexity of Presburger arithmetic with bounded quantifier alternation depth. </title> <journal> Theoretical Computer Science, </journal> <volume> 18(1) </volume> <pages> 105-111, </pages> <month> April </month> <year> 1982. </year>
Reference-contexts: Proof: (Sketch) The lower bound is implied by the lower bounds of Presburger Arithmetic for the case of bounded quantifier alternations F urer <ref> [F ur82] </ref> proved that there is no 2 (n=m) cm TIME bounded nondeterministic Turing machine that can decide the truth of sentences of m quantifier alternations. Note that arbitrary quantifier-free formulas are permitted in (conjunctive) rules. <p> Proof: (Sketch) The lower bound follows from that of the first-order theory of reals with addition in the bounded quantifier alternation case <ref> [F ur82] </ref>. For the upper bound, suppose Q 1 ; Q 2 are two Q-queries. By Lemma 4.1, it is sufficient to consider only K-bounded databases for some K 2 N n . For simplicity, we assume that n = 1 and K = (k).
Reference: [Gai81] <author> H. Gaifman. </author> <title> On local and non local properties. </title> <editor> In J. Stern, editor, </editor> <booktitle> Proc. Herbrand Symposium 11 Logic Colloquium, </booktitle> <pages> pages 105-135. </pages> <publisher> North Holland, </publisher> <year> 1981. </year>
Reference-contexts: Such restrictions correspond to the cardinality constraints found in object-oriented data models and the ER model [Che76]. Recall that A is a structure of L with universe A. Let be a database schema and I a finite database of . We define the Gaifman graph <ref> [Gai81] </ref> of I, G I , to be the undirected graph (V; E) where V is the set of all elements of A occurring in I, and (a; b) 2 E if a and b occur in the same tuple in a relation in I.
Reference: [GI81] <author> E. M. Gurari and O. H. Ibarra. </author> <title> The complexity of decision problems for finite-turn multicounter machines. </title> <journal> Journal of Computer and System Sciences, </journal> <volume> 22 </volume> <pages> 220-229, </pages> <year> 1981. </year>
Reference-contexts: The situation is different when we restrict both the input and counter. It is known that the ECE problems are decidable for counter machines with a finite-turn input and a reversal-bounded counter. In fact, stronger results are known <ref> [Iba78, GI81] </ref>. <p> The second and third counters are used in a similar way to compare x with z and y with z. We begin with the decidability of the emptiness problem. The following result is from <ref> [GI81] </ref>: Theorem 3.1 The emptiness problem for nondeterministic k-crossing r-reversal m-counter machines is decidable in nondeterministic (mkr log n)-SPACE and in deterministic n mkr TIME, where n is the length of the binary representation of the counter machine being tested. <p> Theorem 3.2 fails for nondeterministic machines. In fact, the containment and equivalence problems are undecidable for nondeterministic one-way 1-reversal 1-counter machines [BB74]. However, when the machines accept bounded languages, the problems are decidable <ref> [Iba78, GI81] </ref>. Definition: A language L is bounded if it is a subset of a fl k , for distinct symbols a 1 ; : : : ; a k . Actually, the notion can be relaxed.
Reference: [GI82] <author> E. M. Gurari and O. H. Ibarra. </author> <title> Two-way counter machines and diophantine equations. </title> <journal> Journal of the ACM, </journal> <volume> 29(3) </volume> <pages> 863-873, </pages> <month> July </month> <year> 1982. </year>
Reference-contexts: In the results above, the restriction that the input head is finite-crossing is crucial as it is known that the emptiness problem for deterministic finite-reversal 2-counter machines (with unrestricted input, i.e. not finite-crossing) is undecidable [Iba78]. However, it has recently been shown in [IJTW95] (also <ref> [GI82] </ref>) that Theorem 3.5 The ECE problems for deterministic finite-reversal 1-counter machines (with unrestricted input) are decidable. Deterministic finite-reversal 1-counter machines accept fairly complex languages. For example, such a machine can recognize the language consisting of strings of the form a i b j where i divides j.
Reference: [GS94] <author> S. Grumbach and J. Su. </author> <title> Finitely representable databases (extended abstract). </title> <booktitle> In Proc. ACM Symp. on Principles of Database Systems, </booktitle> <year> 1994. </year>
Reference-contexts: Constraint query languages are defined based on first-order logic. Although their expressive power and complexity have been studied extensively [Rev93, Kup93, KG94, GS95, GS96, PVV95, ST96, BDLW96, BL96], the query containment and equivalence problems are mostly unanswered even for conjunctive queries, except for some expected negative results reported in <ref> [GS94] </ref>. The purpose of this paper is to investigate the containment and equivalence (CE) problems for constraint queries or queries with arithmetic constraints in both relational and constraint database settings. For relational or finite databases, the CE problems for conjunctive relational queries (without arithmetic) are NP-complete [CM77]. <p> Theorem 5.1 The CE problems for connected first-order Z- (N -) queries are undecidable, even for finite databases. 8 Since the problems for first-order queries are undecidable for finite databases [Tra50] (see also [AHV95]) and in general <ref> [GS94] </ref>, it is easy to extend these results to connected queries.
Reference: [GS95] <author> S. Grumbach and J. Su. </author> <title> Dense order constraint databases. </title> <booktitle> In Proc. ACM Symp. on Principles of Database Systems, </booktitle> <month> May </month> <year> 1995. </year>
Reference-contexts: Intuitively, a constraint database is represented by formulas in a first-order logic language and interpreted in the context of a first-order structure (usually some arithmetic domain). Constraint query languages are defined based on first-order logic. Although their expressive power and complexity have been studied extensively <ref> [Rev93, Kup93, KG94, GS95, GS96, PVV95, ST96, BDLW96, BL96] </ref>, the query containment and equivalence problems are mostly unanswered even for conjunctive queries, except for some expected negative results reported in [GS94].
Reference: [GS96] <author> S. Grumbach and J. Su. </author> <title> Queries with arithmetical constraints. </title> <booktitle> Theoretical Computer Science, </booktitle> <year> 1996. </year> <note> To appear. </note>
Reference-contexts: Intuitively, a constraint database is represented by formulas in a first-order logic language and interpreted in the context of a first-order structure (usually some arithmetic domain). Constraint query languages are defined based on first-order logic. Although their expressive power and complexity have been studied extensively <ref> [Rev93, Kup93, KG94, GS95, GS96, PVV95, ST96, BDLW96, BL96] </ref>, the query containment and equivalence problems are mostly unanswered even for conjunctive queries, except for some expected negative results reported in [GS94].
Reference: [Iba78] <author> O.H. Ibarra. </author> <title> Reversal-bounded multicounter machines and their decision problems. </title> <journal> Journal of the ACM, </journal> <volume> 25 </volume> <pages> 116-133, </pages> <year> 1978. </year>
Reference-contexts: If one restricts the machines to make only a finite number of turns on the input tape, the ECE problems are still undecidable, even for the case when the input head makes only one turn <ref> [Iba78] </ref>. However, for one-way counter machines, it is known that the equivalence (hence the emptiness) problem is decidable, but the containment problem is undecidable [VP75]. The situation is different when we restrict both the input and counter. <p> The situation is different when we restrict both the input and counter. It is known that the ECE problems are decidable for counter machines with a finite-turn input and a reversal-bounded counter. In fact, stronger results are known <ref> [Iba78, GI81] </ref>. <p> Theorem 3.2 fails for nondeterministic machines. In fact, the containment and equivalence problems are undecidable for nondeterministic one-way 1-reversal 1-counter machines [BB74]. However, when the machines accept bounded languages, the problems are decidable <ref> [Iba78, GI81] </ref>. Definition: A language L is bounded if it is a subset of a fl k , for distinct symbols a 1 ; : : : ; a k . Actually, the notion can be relaxed. <p> We believe that the upper bound could be improved to 2 p (mn) , and are currently working on proving it. The following result can also be shown using the techniques in <ref> [Iba78] </ref>: Theorem 3.4 Every nondeterministic finite-crossing finite-reversal multi-counter machine which accepts a bounded language can effectively be converted to an equivalent deterministic finite-crossing finite-reversal multi-counter machine. The result also holds for the case of one-way instead of finite-crossing. <p> The result also holds for the case of one-way instead of finite-crossing. In the results above, the restriction that the input head is finite-crossing is crucial as it is known that the emptiness problem for deterministic finite-reversal 2-counter machines (with unrestricted input, i.e. not finite-crossing) is undecidable <ref> [Iba78] </ref>. However, it has recently been shown in [IJTW95] (also [GI82]) that Theorem 3.5 The ECE problems for deterministic finite-reversal 1-counter machines (with unrestricted input) are decidable. Deterministic finite-reversal 1-counter machines accept fairly complex languages. <p> There are other more general machines for which the emptiness problem is decidable. Augment a nondeterministic one-way pushdown automaton with a finite number of reversal-bounded counters. The emptiness problem for these machines is decidable <ref> [Iba78] </ref>. 4 Linear Conjunctive Queries In this section, we show that the CE problems for conjunctive N and Z-queries are decidable in double exponential time with an exponential lower bound. The proofs use a new technique based on finite-reversal counter machines.
Reference: [IJTW95] <author> O. H. Ibarra, T. Jiang, N. Tran, and H. Wang. </author> <title> New decidability results concerning two-way counter machines. </title> <journal> SIAM Journal on Computing, </journal> <volume> 24 </volume> <pages> 123-137, </pages> <year> 1995. </year>
Reference-contexts: In the results above, the restriction that the input head is finite-crossing is crucial as it is known that the emptiness problem for deterministic finite-reversal 2-counter machines (with unrestricted input, i.e. not finite-crossing) is undecidable [Iba78]. However, it has recently been shown in <ref> [IJTW95] </ref> (also [GI82]) that Theorem 3.5 The ECE problems for deterministic finite-reversal 1-counter machines (with unrestricted input) are decidable. Deterministic finite-reversal 1-counter machines accept fairly complex languages. For example, such a machine can recognize the language consisting of strings of the form a i b j where i divides j.
Reference: [KG94] <author> P. C. Kanellakis and D. Q. Goldin. </author> <title> Constraint programming and database query languages. </title> <booktitle> In Proc. 2nd Conference on Theoretical Aspects of Computer Software (TACS), volume 789 of Lecture notes in computer science. </booktitle> <publisher> Springer-Verlag, </publisher> <year> 1994. </year>
Reference-contexts: Intuitively, a constraint database is represented by formulas in a first-order logic language and interpreted in the context of a first-order structure (usually some arithmetic domain). Constraint query languages are defined based on first-order logic. Although their expressive power and complexity have been studied extensively <ref> [Rev93, Kup93, KG94, GS95, GS96, PVV95, ST96, BDLW96, BL96] </ref>, the query containment and equivalence problems are mostly unanswered even for conjunctive queries, except for some expected negative results reported in [GS94].
Reference: [KKR95] <author> P. Kanellakis, G. Kuper, and P. Revesz. </author> <title> Constraint query languages. </title> <journal> Journal of Computer and System Sciences, </journal> <volume> 51(1) </volume> <pages> 26-52, </pages> <year> 1995. </year>
Reference-contexts: Conjunctive queries, which are relational algebra queries without union and difference, have received renewed interest because of their potential use in web-related applications [LRU96]. Extending databases and query languages with arithmetic constraints has been an interesting research issue since the seminal paper by Kanellakis, Kuper, and Revesz <ref> [KKR95] </ref>. Intuitively, a constraint database is represented by formulas in a first-order logic language and interpreted in the context of a first-order structure (usually some arithmetic domain). Constraint query languages are defined based on first-order logic. <p> On the other hand, it is known that the CE problems under the bag semantics are P p 2 -hard but it is not known whether they are decidable [CV93]. For constraint databases, the picture is less clear. In <ref> [KKR95] </ref>, it was shown that the containment of conjunctive queries with (a conjunction of) real linear equations is NP-complete, and that of conjunctive queries with (a conjunction of) real quadratic equations is P p 2 -hard and not known to be decidable. <p> Both are over the language L Q = f=; &lt;g [ Q. 1 x k y iff x mod k = y mod k. We note here that (the theories of) the above structures admit quantifier elimination [End72, CK73], which is essential in evaluating (first-order) queries in closed form <ref> [KKR95] </ref>. Formally, we assume the existence of a countably infinite set P of relation names, each having an associated arity. <p> Let D A () be the set of all databases of (over A). Databases defined here correspond to constraint databases over arithmetic domains originally introduced in <ref> [KKR95] </ref>. We also consider finite databases. A database I 2 D A () is finite if I (p) is a finite relation for each p 2 . Let D A fin () denote the family of all finite databases in D A ().
Reference: [Klu88] <author> A. Klug. </author> <title> On conjunctive queries containing inequalities. </title> <journal> Journal of the ACM, </journal> <volume> 35(1) </volume> <pages> 146-160, </pages> <month> January </month> <year> 1988. </year>
Reference-contexts: The fundamental technique for the decidability proof is to use homomorphisms [Ull88, AHV95], which are mappings that embed one query into the other. When the domain has an order, 1 the technique fails although the containment is in P p <ref> [Klu88] </ref> and, in fact, is P p 2 -complete [vdM92]. On the other hand, it is known that the CE problems under the bag semantics are P p 2 -hard but it is not known whether they are decidable [CV93]. For constraint databases, the picture is less clear.
Reference: [Kup93] <author> G. M. Kuper. </author> <title> Aggregation in constraint databases. </title> <booktitle> In Proc. Workshop on the Principles and Practice of Constraint Programming, </booktitle> <pages> pages 176-183, </pages> <month> April </month> <year> 1993. </year>
Reference-contexts: Intuitively, a constraint database is represented by formulas in a first-order logic language and interpreted in the context of a first-order structure (usually some arithmetic domain). Constraint query languages are defined based on first-order logic. Although their expressive power and complexity have been studied extensively <ref> [Rev93, Kup93, KG94, GS95, GS96, PVV95, ST96, BDLW96, BL96] </ref>, the query containment and equivalence problems are mostly unanswered even for conjunctive queries, except for some expected negative results reported in [GS94].
Reference: [LRU96] <author> A. Y. Levy, A. Rajaraman, and J. D. Ullman. </author> <title> Answering queries using limited external query processors. </title> <booktitle> In Proc. ACM Symp. on Principles of Database Systems, </booktitle> <pages> pages 227-237, </pages> <year> 1996. </year>
Reference-contexts: A fortunate exception here is the class of conjunctive queries, whose containment and equivalence were shown decidable by Chandra and Merlin [CM77]. Conjunctive queries, which are relational algebra queries without union and difference, have received renewed interest because of their potential use in web-related applications <ref> [LRU96] </ref>. Extending databases and query languages with arithmetic constraints has been an interesting research issue since the seminal paper by Kanellakis, Kuper, and Revesz [KKR95].
Reference: [LW94] <author> L. Libkin and L. Wong. </author> <title> New techniques for studying set languages, bag languages and aggregate functions. </title> <booktitle> In Proc. ACM Symp. on Principles of Database Systems, </booktitle> <year> 1994. </year>
Reference-contexts: Motivated by the bounded degree property of query languages studied in <ref> [LW94] </ref>, we introduce a class of finite databases having the bounded degree properties which intuitively states that the connections between constants in a database is bounded by a fixed number. Such restrictions correspond to the cardinality constraints found in object-oriented data models and the ER model [Che76]. <p> Since rules in Q are connected, there is a fixed bound on the number of subroutine calls. In fact, we can establish the following property, which is similar to the bounded-degree property of Libkin and Wong <ref> [LW94] </ref>. Lemma 5.4 Let k be a nonnegative integer. For each k-degree database I and each connected first-order Z (N -)query Q, Q (I) is k 0 -degree relation for some k 0 .
Reference: [Min61] <author> M. Minsky. </author> <title> Recursive unsolvability of Post's problem of Tag and other topics in the theory of Turing machines. </title> <journal> Ann. of Math., </journal> <volume> 74 </volume> <pages> 437-455, </pages> <year> 1961. </year>
Reference-contexts: When a two-way finite automaton is augmented with a storage device, such as a counter, a pushdown stack or a Turing machine tape, the ECE problems become undecidable (no algorithms exist). In fact, it follows from a result in <ref> [Min61] </ref> that the emptiness problem is undecidable for two-way counter machines even over a unary input alphabet.
Reference: [PVV95] <author> J. Paredaens, J. Van den Bussche, and D. Van Gucht. </author> <title> First-order queries on finite structures over the reals. </title> <booktitle> In Proc. IEEE Symposium on Logic In Computer Science, </booktitle> <year> 1995. </year>
Reference-contexts: Intuitively, a constraint database is represented by formulas in a first-order logic language and interpreted in the context of a first-order structure (usually some arithmetic domain). Constraint query languages are defined based on first-order logic. Although their expressive power and complexity have been studied extensively <ref> [Rev93, Kup93, KG94, GS95, GS96, PVV95, ST96, BDLW96, BL96] </ref>, the query containment and equivalence problems are mostly unanswered even for conjunctive queries, except for some expected negative results reported in [GS94].
Reference: [Ren92] <author> J. Renegar. </author> <title> On the computational complexity and geometry of the first-order theory of the reals. </title> <journal> Journal of Symbolic Computation, </journal> <volume> 13 </volume> <pages> 255-352, </pages> <year> 1992. </year>
Reference-contexts: Ferrante and Rackoff [FR75] showed that deciding the truth of a sentence of length n over reals with addition is in 2 cn SPACE. Hence the upper bound follows. Since the first-order theory of real closed fields is decidable in double exponential time <ref> [Tar51, Ren92] </ref>, the above reduction technique applies to conjunctive queries with polynomial constraints over the reals. It follows that the CE problems are decidable in triple exponential time. Remark: The reduction technique may also be applied to conjunctive Z- and N -queries.
Reference: [Rev93] <author> P. Z. Revesz. </author> <title> A closed form for datalog queries with integer (gap)-order constraints. </title> <journal> Theoretical Computer Science, </journal> <volume> 116(1) </volume> <pages> 117-149, </pages> <year> 1993. </year>
Reference-contexts: Intuitively, a constraint database is represented by formulas in a first-order logic language and interpreted in the context of a first-order structure (usually some arithmetic domain). Constraint query languages are defined based on first-order logic. Although their expressive power and complexity have been studied extensively <ref> [Rev93, Kup93, KG94, GS95, GS96, PVV95, ST96, BDLW96, BL96] </ref>, the query containment and equivalence problems are mostly unanswered even for conjunctive queries, except for some expected negative results reported in [GS94].
Reference: [RL78] <author> C. R. Reddy and D. W. Loveland. </author> <title> Presburger arithmetic with bounded quantifier alternation. </title> <booktitle> In Proc. ACM SIGACT Symp. on the Theory of Computing, </booktitle> <pages> pages 320-325, </pages> <year> 1978. </year>
Reference-contexts: Remark: The reduction technique may also be applied to conjunctive Z- and N -queries. However, the complexity will be triple exponential time and double exponential space, since deciding the truth of a sentence with constant quantifier alternation in Presburger arithmetic is in exponential space and double exponential time <ref> [RL78] </ref>. This is exponentially higher than our upper bound stated in Theorem 4.6. The upper and lower bounds for the containment of conjunctive query with linear constraints are at least exponential apart. As mentioned in Section 3, we believe the upper bounds can be reduced to a single exponential.
Reference: [ST96] <author> A. P. Stolboushkin and M. A. Taitslin. </author> <title> Linear vs. order constrained queries over rational databases. </title> <booktitle> In Proc. ACM Symp. on Principles of Database Systems, </booktitle> <year> 1996. </year>
Reference-contexts: Intuitively, a constraint database is represented by formulas in a first-order logic language and interpreted in the context of a first-order structure (usually some arithmetic domain). Constraint query languages are defined based on first-order logic. Although their expressive power and complexity have been studied extensively <ref> [Rev93, Kup93, KG94, GS95, GS96, PVV95, ST96, BDLW96, BL96] </ref>, the query containment and equivalence problems are mostly unanswered even for conjunctive queries, except for some expected negative results reported in [GS94].
Reference: [Tar51] <author> A. Tarski. </author> <title> A Decision Method for Elementary Algebra and Geometry. </title> <institution> University of California Press, Berkeley, California, </institution> <year> 1951. </year>
Reference-contexts: For the general classes of conjunctive Rand Q-queries, we can reduce their CE problems to the decision problem of the first-order theory of real numbers with addition. The latter is known decidable <ref> [Tar51] </ref>. Theorem 4.9 The CE problems of conjunctive Q- (or R-) queries are decidable in 2 2 cn SPACE but not in nondeterministic n c 0 TIME for some c; c 0 &gt; 0. <p> Since ' is a sentence in L Q , the decidability follows from that of the first-order theory of real closed fields <ref> [Tar51] </ref>. Since ff i has to consider all assignments and K is linear in the size of the input queries, the sentence ' is exponential in the size of queries. <p> Ferrante and Rackoff [FR75] showed that deciding the truth of a sentence of length n over reals with addition is in 2 cn SPACE. Hence the upper bound follows. Since the first-order theory of real closed fields is decidable in double exponential time <ref> [Tar51, Ren92] </ref>, the above reduction technique applies to conjunctive queries with polynomial constraints over the reals. It follows that the CE problems are decidable in triple exponential time. Remark: The reduction technique may also be applied to conjunctive Z- and N -queries.
Reference: [Tra50] <author> B. A. Trakhtenbrot. </author> <title> The impossibilty of an algorithm for the decision problem for finite models. </title> <journal> Doklady Akademii Nauk SSR, </journal> <volume> 70 </volume> <pages> 569-572, </pages> <year> 1950. </year>
Reference-contexts: Although query languages typically have very limited expressive power (compared to programming languages), the existence of such decision procedures is still rare. For example, for relational databases [Cod70], a result by Trahtenbrot <ref> [Tra50] </ref> implies that the containment and equivalence of two relational algebra (or calculus) fl Work supported in part by NSF grant IRI94-11330, NASA grant NAGW-3888, and a faculty research grant from UCSB. queries are undecidable (see also [Fag93, AHV95]). <p> Theorem 5.1 The CE problems for connected first-order Z- (N -) queries are undecidable, even for finite databases. 8 Since the problems for first-order queries are undecidable for finite databases <ref> [Tra50] </ref> (see also [AHV95]) and in general [GS94], it is easy to extend these results to connected queries.
Reference: [Ull88] <author> J. D. Ullman. </author> <title> Database and Knowledge-Base Systems, volume 1. </title> <publisher> Computer Science Press, </publisher> <year> 1988. </year>
Reference-contexts: The results extend to databases satisfying simple integrity constraints [ASU79a, ASU79b]; but the complexity goes up to PSPACE-hard when the integrity constraints are defined in Datalog [DS96]. The fundamental technique for the decidability proof is to use homomorphisms <ref> [Ull88, AHV95] </ref>, which are mappings that embed one query into the other. When the domain has an order, 1 the technique fails although the containment is in P p [Klu88] and, in fact, is P p 2 -complete [vdM92].
Reference: [vdM92] <author> R. van der Meyden. </author> <title> The complexity of querying indefinite data about linearly ordered domains. </title> <booktitle> In Proc. ACM Symp. on Principles of Database Systems, </booktitle> <pages> pages 331-345, </pages> <year> 1992. </year>
Reference-contexts: The fundamental technique for the decidability proof is to use homomorphisms [Ull88, AHV95], which are mappings that embed one query into the other. When the domain has an order, 1 the technique fails although the containment is in P p [Klu88] and, in fact, is P p 2 -complete <ref> [vdM92] </ref>. On the other hand, it is known that the CE problems under the bag semantics are P p 2 -hard but it is not known whether they are decidable [CV93]. For constraint databases, the picture is less clear.
Reference: [VP75] <author> L. Valiant and M. Patterson. </author> <title> Deterministic one-counter automata. </title> <journal> Journal of Computer and System Sciences, </journal> <volume> 10 </volume> <pages> 340-350, </pages> <year> 1975. </year> <month> 12 </month>
Reference-contexts: However, for one-way counter machines, it is known that the equivalence (hence the emptiness) problem is decidable, but the containment problem is undecidable <ref> [VP75] </ref>. The situation is different when we restrict both the input and counter. It is known that the ECE problems are decidable for counter machines with a finite-turn input and a reversal-bounded counter. In fact, stronger results are known [Iba78, GI81].
References-found: 42

