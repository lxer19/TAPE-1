URL: http://robotics.eecs.berkeley.edu/~godbole/p1train.ps
Refering-URL: http://robotics.eecs.berkeley.edu/~godbole/sae.html
Root-URL: 
Phone: Tel: 408-980-1500  
Title: Automotive Powertrain Modeling, Simulation and Control using Integrated System's CASE Tools  
Author: Datta Godbole Sinan Karahan 
Address: 3260 Jay Street, Santa Clara, CA 95054  
Affiliation: Integrated Systems, Inc.  
Abstract: Detailed model of the longitudinal dynamics of a typical automobile is developed. A nonlinear controller is designed for speed control of the automobile. Integrated System's CACSD tool SystemBuild is used to simulate and test the controller. A complete automotive control design package is developed using SystemBuild and Xmath. 1 The modular design can work as a software/simulation test platform for new designs of various subsystems of the automotive pow-ertrain. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> J.J.Moskwa and J. K. Hedrick, </author> <title> "Modelling and validation of automotive engines for control algorithm development," </title> <journal> ASME Journal of Mechanisms, Transmissions, and Automation in Design, </journal> <volume> vol. 114, no. 2, </volume> <pages> pp. 278-285, </pages> <year> 1992. </year>
Reference-contexts: 1 INTRODUCTION The purpose of this paper is to demonstrate use of computer aided engineering tools for modeling, simulation and control of automotive systems. Automotive control has always been an area of active research. In recent years, various subproblems have been studied in detail. (e.g. Engine modeling & control <ref> [1, 2] </ref>, Dynamic modeling of gear shifts [3], Dynamic modeling of torque converter [4] etc.) The emphasis has been on physically based modeling and control of the individual subsystem. Here, we consider detailed model of the longitudinal dynamics of an automobile. <p> The next section develops the model of each subsystem in detail. 2.1 ENGINE DYNAMICS The engine model for a four stroke spark ignition engine was developed by Moskwa and Hedrick <ref> [1] </ref>. It was subsequently refined and used for different studies in ([3],[6],[5]). <p> Therefore a sliding mode controller was designed for speed control of the powertrain model. It should be noted that the most challenging part of this design is the engine rpm control. This is evident from the amount of effort devoted to this area of research (See e.g. <ref> [1, 10, 2, 11] </ref>). In our case, with simple models of clutches and tires, the relationship from engine rpm ! e to vehicle speed V is mostly kinematic and hence easy to invert.
Reference: [2] <author> J. J. Moskwa and J. Hedrick, </author> <title> "Sliding mode control of automotive engines," </title> <booktitle> in American Control Conference, </booktitle> <pages> pp. 1040-1045, </pages> <year> 1989. </year>
Reference-contexts: 1 INTRODUCTION The purpose of this paper is to demonstrate use of computer aided engineering tools for modeling, simulation and control of automotive systems. Automotive control has always been an area of active research. In recent years, various subproblems have been studied in detail. (e.g. Engine modeling & control <ref> [1, 2] </ref>, Dynamic modeling of gear shifts [3], Dynamic modeling of torque converter [4] etc.) The emphasis has been on physically based modeling and control of the individual subsystem. Here, we consider detailed model of the longitudinal dynamics of an automobile. <p> Therefore a sliding mode controller was designed for speed control of the powertrain model. It should be noted that the most challenging part of this design is the engine rpm control. This is evident from the amount of effort devoted to this area of research (See e.g. <ref> [1, 10, 2, 11] </ref>). In our case, with simple models of clutches and tires, the relationship from engine rpm ! e to vehicle speed V is mostly kinematic and hence easy to invert.
Reference: [3] <author> D. Cho and J. K. Hedrick, </author> <title> "Automotive power-train modelling for control," </title> <journal> ASME Journal of Mechanisms, Transmissions, and Automation in Design, </journal> <volume> vol. 111, no. 4, </volume> <pages> pp. 568-576, </pages> <year> 1989. </year>
Reference-contexts: Automotive control has always been an area of active research. In recent years, various subproblems have been studied in detail. (e.g. Engine modeling & control [1, 2], Dynamic modeling of gear shifts <ref> [3] </ref>, Dynamic modeling of torque converter [4] etc.) The emphasis has been on physically based modeling and control of the individual subsystem. Here, we consider detailed model of the longitudinal dynamics of an automobile. <p> Usually T C (ff) will be determined by an experiment and a data table will be used in the simulation. We use a curve fit obtained in <ref> [3] </ref> ( 1 for ff &gt; 79:46 PRI = Normalized Pressure Influence function as a function of manifold to atmospheric pressure ratio. 2 Similar to TC, we use a curve fit from [3]; PRI = 1 exp (9 ( P atm The intake manifold pressure P m and m a are <p> We use a curve fit obtained in <ref> [3] </ref> ( 1 for ff &gt; 79:46 PRI = Normalized Pressure Influence function as a function of manifold to atmospheric pressure ratio. 2 Similar to TC, we use a curve fit from [3]; PRI = 1 exp (9 ( P atm The intake manifold pressure P m and m a are related by ideal gas law, m a = R T m The flow of air from intake manifold to combustion chamber is given by _m ao = c 1 vol m a <p> The volumetric efficiency vol represents the effectiveness of engine's induction process. It is a complex function of engine geometry and many engine parameters. It is normally modeled by experimental data. We use the empirical formula given in <ref> [3] </ref>, a + (8:10 fi 10 4 ! e + 0:352) (4) Thus, the air flow rate into the intake manifold (and subsequently into the combustion chamber) is controlled by the throttle. <p> We use the following curve fit relation from <ref> [3] </ref> AFI = cos (7:3834 (A=F 13:5)) where, A=F is the actual air fuel ratio of the mixture in combustion chamber. With the simplifying assumptions stated above, it will be given by A=F = _m fi SI = Normalized spark influence function. We use the following curve fit relation from [3] <p> <ref> [3] </ref> AFI = cos (7:3834 (A=F 13:5)) where, A=F is the actual air fuel ratio of the mixture in combustion chamber. With the simplifying assumptions stated above, it will be given by A=F = _m fi SI = Normalized spark influence function. We use the following curve fit relation from [3] SI = (cos (SA MBT)) 2:875 where SA is tuning parameter representing the spark advance from Top Dead Center and MBT represents the minimum spark advance from TDC for best torque. c T represents the maximum torque produc tion capacity of an engine for AFI = 1 and SI = <p> the spark advance from Top Dead Center and MBT represents the minimum spark advance from TDC for best torque. c T represents the maximum torque produc tion capacity of an engine for AFI = 1 and SI = 1. 3 The engine friction torque is curve fitted from exper-imental data <ref> [3] </ref> as T f = 0:1056 ! e + 15:10 The accessory torque T a is used to test the effect of various accessories on engine performance. <p> The torque converter pump torque T p acts as a load on the engine. 2.2 AUTOMATIC TRANSMISSION A detailed model of automatic transmission (including dynamic modeling of clutches and bands) is developed by Cho and Hedrick in <ref> [3] </ref>. A typical automatic transmission consists of two parts: * Torque Converter: A torque converter is used as a fluid coupling device between engine and the gear box. <p> The detailed operational principle (including a dynamic model) can be found in [4]. We use a static model which is a quadratic fit for an input output experiment from <ref> [3] </ref>. T p = 3:4325 fi 10 3 ! 2 4:6041 fi 10 3 ! 2 T t = 5:7656 fi 10 3 ! 2 5:4323 fi 10 3 ! 2 when ! t ! p &lt; 0:9. <p> In <ref> [3] </ref>, dynamic model of a clutch is used to model 1-2 gear shift. The same technique can be used to model all gear shifts. For the sake of simplicity, clutches are not modeled dynamically in this work. We use the following kinematic relationships to model the transmission mechanicals. <p> A drivetrain model which includes the axle stiffness, wheel inertia and the tire slip is developed in <ref> [3, 5] </ref>. The limited slip mechanism of the differential, the unequal lengths of the axle shaft, the geometric changes of suspension and the engine vibration can alter the drive train dynamics but are not modeled to keep the model simple. <p> The tire slip is defined as 5 V (17) A widely accepted analytical model that predicts tire force from tire slip has not been developed, but the book by Wong [7] contains good introductory material on this subject. For control purposes, we can use experimental data (as in <ref> [3] </ref>) to derive force-slip relationship. At relatively low tire slip rate (15 - 20 percent), tire force increases linearly with slip. As slip increases, the relationship becomes nonlinear. <p> At relatively low tire slip rate (15 - 20 percent), tire force increases linearly with slip. As slip increases, the relationship becomes nonlinear. The 5 Some authors define two expressions for slip, one while driving and one while braking so that the slip is always positive <ref> [3] </ref>. In that case, we have to change the equations (14,15) explicitly when the car switches between driving and braking mode.
Reference: [4] <author> A. J. Kotwicki, </author> <title> "Dynamic models for torque converter equipped vehicles," </title> <journal> Society of Automotive Engineers, </journal> <volume> no. 820393, </volume> <pages> pp. 1595-1609, </pages> <year> 1983. </year>
Reference-contexts: Automotive control has always been an area of active research. In recent years, various subproblems have been studied in detail. (e.g. Engine modeling & control [1, 2], Dynamic modeling of gear shifts [3], Dynamic modeling of torque converter <ref> [4] </ref> etc.) The emphasis has been on physically based modeling and control of the individual subsystem. Here, we consider detailed model of the longitudinal dynamics of an automobile. <p> The torque multiplying characteristics of the torque converter are very useful during vehicle accelerations. A torque converter consists of a pump attached to the engine, a turbine attached to the input of the transmission and a stator. The detailed operational principle (including a dynamic model) can be found in <ref> [4] </ref>. We use a static model which is a quadratic fit for an input output experiment from [3].
Reference: [5] <author> D. H. Mcmahon, J. Hedrick, and S. Shladover, </author> <title> "Vehicle modelling and control for automated highway systems," </title> <booktitle> in American Control Conference, </booktitle> <pages> pp. 297-303, </pages> <year> 1990. </year>
Reference-contexts: An introductory section on sliding mode technique is included for the sake of completeness. Section 4 describes the modeling and control design using SystemBuild. Simulation results are presented in the end. 1 2 POWERTRAIN MODEL Following definition of powertrain is used in the literature (eg. see <ref> [5] </ref>). A powertrain system includes an engine, a transmission (including a torque converter), a drivetrain (including rubber tires) and all other components that can influence the longitudinal dynamics of an automobile (such as throttle, fuel control, spark control, EGR system, clutches, brakes, accessories etc). <p> A drivetrain model which includes the axle stiffness, wheel inertia and the tire slip is developed in <ref> [3, 5] </ref>. The limited slip mechanism of the differential, the unequal lengths of the axle shaft, the geometric changes of suspension and the engine vibration can alter the drive train dynamics but are not modeled to keep the model simple. <p> We assume the front to rear brake distribution to be 60-40; i.e. 60 percent of the brake force is applied to front wheel and 40 percent to rear wheel. 7 The brake torque dynamics are modeled by a simple first order time lag as in <ref> [5] </ref>: t b _ T b + T b = ff max 6 Note that we can not use this model to study ABS 7 This distribution depends on many factors including the type of suspensions and anti lock braking systems. 60-40 is a typical distribution 5 where ff b = <p> In such cases, one of the modifications of the standard sliding mode technique is to define synthetic inputs (see <ref> [5] </ref>). Let us define ! wf as a synthetic input at this step. Now, we continue the design as a standard sliding mode design with the assumption that ! wf is the input.
Reference: [6] <author> J. J. Moskwa and J. Hedrick, </author> <title> "Automotive engine modeling for real time control application," </title> <booktitle> in American Control Conference, </booktitle> <pages> pp. 341-346, </pages> <year> 1987. </year>
Reference: [7] <author> J. Y. Wong, </author> <title> Theory of Groung Vehicles. </title> <publisher> John Wiley and Sons, </publisher> <year> 1979. </year>
Reference-contexts: The tire slip is defined as 5 V (17) A widely accepted analytical model that predicts tire force from tire slip has not been developed, but the book by Wong <ref> [7] </ref> contains good introductory material on this subject. For control purposes, we can use experimental data (as in [3]) to derive force-slip relationship. At relatively low tire slip rate (15 - 20 percent), tire force increases linearly with slip. As slip increases, the relationship becomes nonlinear.
Reference: [8] <author> D. Godbole, </author> <title> "Automotive demos for Xmath: Automotive suspension design and powertrain speed control," </title> <type> tech. rep., </type> <institution> Integrated Systems Inc, </institution> <address> Santa Clara, </address> <year> 1993. </year>
Reference-contexts: Thus the overall powertrain model has nine states, two control inputs (ff; ff b ) and the controlled variable V . The values of various parameters used in this design can be found in <ref> [8] </ref>. 3 SPEED CONTROL The objective is to design control laws for ff and ff b such that the vehicle velocity V can track any reasonable 8 smooth trajectory. This is more general than the set point control which is employed by present day automobiles for cruise control. <p> We need 8 braking force when S 1 &gt; 0. The engine can pro-vide some braking force when ff = 0. This particular model with the parameter values from <ref> [8] </ref> can provide upto 0:5m=s 2 deceleration with ff = ff b = 0. Using this knowledge of engine braking and _ V d , one can find out a desired value of brake torque T b 11 .
Reference: [9] <author> A. Isidori, </author> <title> Nonlinear Control Systems. </title> <publisher> Springer-Verlag, </publisher> <editor> 2nd ed., </editor> <year> 1989. </year>
Reference-contexts: A fuzzy logic controller may be implemented, which can emulate human driving behaviors, but it has the same disadvantages as the PID control law. We can use the exact nonlinear cancellation laws such as feedback linearization (cf. <ref> [9] </ref>) or sliding mode control. Many parameter values used in modeling are the nominal parameter values.
Reference: [10] <author> J.H.Green and J.K.Hedrick, </author> <title> "Nonlinear speed control for automotive engines," </title> <booktitle> in American Control Conference, </booktitle> <pages> pp. 2891-2897, </pages> <year> 1990. </year>
Reference-contexts: Therefore a sliding mode controller was designed for speed control of the powertrain model. It should be noted that the most challenging part of this design is the engine rpm control. This is evident from the amount of effort devoted to this area of research (See e.g. <ref> [1, 10, 2, 11] </ref>). In our case, with simple models of clutches and tires, the relationship from engine rpm ! e to vehicle speed V is mostly kinematic and hence easy to invert.
Reference: [11] <author> G. Vachtsevanos, S. Farinwata, and D. Pirovolou, </author> <title> "Fuzzy logic control of an automotive engine," </title> <booktitle> in IEEE Control and Decision Conference, </booktitle> <year> 1992. </year>
Reference-contexts: Therefore a sliding mode controller was designed for speed control of the powertrain model. It should be noted that the most challenging part of this design is the engine rpm control. This is evident from the amount of effort devoted to this area of research (See e.g. <ref> [1, 10, 2, 11] </ref>). In our case, with simple models of clutches and tires, the relationship from engine rpm ! e to vehicle speed V is mostly kinematic and hence easy to invert.
Reference: [12] <author> J.-J. E. Slotine and W. Li, </author> <title> Applied Nonlinear Control. </title> <publisher> Prentice Hall, </publisher> <editor> 2nd ed., </editor> <year> 1991. </year> <pages> 11 12 </pages>
Reference-contexts: The following is a simple introduction to sliding mode control method (for details refer to <ref> [12] </ref>) Consider the following single input dynamical system x (n) = f (x) + b (x)u (22) where x is the output of interest, u is the control and x = x _x x (n1) is the state vector. <p> High frequency chattering is undesirable as it needs large bandwidth actuators and reduces the life of the components. To avoid high frequency chattering, one might alter equation (26) to make the desired _s follow the equation, _s = Ks (28) 9 Refer to <ref> [12] </ref> for the proof of this claim With this choice, the Lyapunov proof is still valid and the control is a linear function of s. If s (0) is large, then this design needs enormous control effort.
References-found: 12

