URL: http://www.neci.nj.nec.com/homepages/sebastien/papers/icip95/paper.ps.Z
Refering-URL: http://www.neci.nj.nec.com/homepages/sebastien/papers/
Root-URL: 
Title: An Evaluation of the Constant Image Brightness Assumption and its Correction by Dynamic Histogram Warping  
Author: Ingemar J. Cox, Sebastien Roy tel:() - fax:() - Sunita L. Hingorani 
Keyword: EDICS Category IP 1.4 (Restoration)  
Address: 4 Independence Way Princeton, NJ 08540, U.S.A.  184 Liberty Corner Road Warren, NJ 07059  C.P. 6128, Succ. Centre-Ville, Montreal, Quebec, Canada, H3C 3J7  
Affiliation: NEC Research Institute  AT&T Bell Laboratories  Universite de Montreal, Departement d'informatique et de recherche operationnelle  
Note: c flNEC Research Institute  Visiting from  
Email: ingemar|sebastien@research.nj.nec.com  sunita@cartoon.lc.att.com  
Date: 1995  
Abstract: The constant image brightness (CIB) assumption assumes that the intensities of corresponding points (or planar patches) in two (or more) images are equal. This assumption is central to bodies of work in optical flow estimation, motion and structure, stereo and recognition based on color histograms. However, surprisingly little work has been performed to support this assumption, despite the fact the many of these algorithms are very sensitive to deviations from CIB. While it is commonly believed that the image brightness assumption is false, it is usually assumed that this deviation can be modelled by a simple global spatially-invariant additive constant and/or a global spatially-invariant scaling of the image intensities (contrast). An examination of the images contained in the SRI JISCT stereo database revealed that the constant image brightness assumption is indeed often false. Moreover, the simple additive and linear models do not adequately represent the observed deviations. A comprehensive physical model of the observed deviations is difficult to develop. However, many potential sources of deviations might be represented by a non-linear monotonically increasing function of intensities. Under these conditions, we believe that an expansion/contraction matching of the intensity histograms represents the best method to both measure the degree of validity of constant image brightness assumption and correct for it. The dynamic histogram warping (DHW) is performed via dynamic programming and is closely related to histogram specification. However, while histogram specification produces good matches, the local matching of cumulative histograms introduces artifacts (spikes in the matched histograms) because matching errors propogate and accumulate and must periodically be corrected. This problem does not occur with dynamic histogram warping, in which a global minimum is found. Experimental results show that image histograms are closely matched after DHW. A further reason for this is that while histogram specification only modifies one histogram DHW can modify both histograms simulatenously. This is especially useful when expansion of an intensity bin of one histogram is not possible but a corresponding compression of the other histogram is. DHW is also capable of removing simple constant additive and multiplicative biases without derivative operations, thereby avoiding amplification of high frequency noise. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> H. H. Baker and T. O. Binford. </author> <title> Depth from edge and intensity based stereo. </title> <booktitle> In Int. Joint Conf. on Artificial Intelligence, </booktitle> <pages> pages 631-636, </pages> <year> 1981. </year>
Reference-contexts: Such a warping should consist entirely of expansion/contraction of the intensity levels in a manner analagous to the dynamic time warping of speech waveforms [11]. These algorithms are related to the dynamic programming algorithms for stereo <ref> [1] </ref>, but differ by replacing deletions/occlusions with expansion/contractions that allow non-unique matches. Section (3) develops what we have called the dynamic histogram warping. The work described here is very closely related to work in histogram specification [8].
Reference: [2] <author> R. C. Bolles, H. H. Baker, and M. J. Hannah. </author> <title> The JISCT stereo evaluation. </title> <booktitle> In Proc. of DARPA Image Understanding Workshop, </booktitle> <pages> pages 263-274, </pages> <year> 1993. </year>
Reference-contexts: The work described here is simpler but restricted to the case where a global, spatially invariant, non-linear, monotonically increasing relationship exists between the intensities of the two images. This paper first examines the images contained in the SRI JISCT stereo database <ref> [2] </ref>. Section (2) reveals that the constant image brightness assumption is often false. Moreover, neither a DC bias nor a linear model adequately represents the observed relationships. A comprehensive 2 physical model of the observed deviations is difficult to develop.
Reference: [3] <author> I. J. Cox. </author> <title> A maximum likelihood N -camera stereo algorithm. </title> <booktitle> In IEEE Conf. on Computer Vision and Pattern Recognition, </booktitle> <pages> pages 733-739, </pages> <year> 1994. </year>
Reference-contexts: For pixel-based stereo, Gennert [7] provided a detailed model of the intensity relationship between corresponding pixels, showing that corresponding intensities in the left and right images differ by a spatially varying multiplicative factor due to surface orientation and reflectance models. Later work by Cox et al <ref> [4, 3] </ref>, however, suggested that this relationship was over shadowed by global changes in illumination conditions and differences in camera responses that were probably the principal source of errors to the constant image brightness assumption. <p> The dynamic histogram warping (in black) always yield a smaller error then regular normalisation or specification. As an example of the type of correction achieved, Figure (20) shows the original pair of images, "IROAD2", from the JISCT database. We applied a stereo algorithm <ref> [4, 3] </ref> to this pair (1) with no correction, (2) correction using a linear model of the intensity relationship, (3) correction using regular histogram specification and (4) correction using dynamic histograms warping. The corresponding disparity maps are shown in Figure (21).
Reference: [4] <author> I. J. Cox, S. Hingorani, B. M. Maggs, and S. B. Rao. </author> <title> Stereo without disparity gradient smoothing: a Bayesian sensor fusion solution. </title> <editor> In D. Hogg and R. Boyle, editors, </editor> <booktitle> British Machine Vision Conference, </booktitle> <pages> pages 337-346. </pages> <publisher> Springer-Verlag, </publisher> <year> 1992. </year>
Reference-contexts: For pixel-based stereo, Gennert [7] provided a detailed model of the intensity relationship between corresponding pixels, showing that corresponding intensities in the left and right images differ by a spatially varying multiplicative factor due to surface orientation and reflectance models. Later work by Cox et al <ref> [4, 3] </ref>, however, suggested that this relationship was over shadowed by global changes in illumination conditions and differences in camera responses that were probably the principal source of errors to the constant image brightness assumption. <p> The dynamic histogram warping (in black) always yield a smaller error then regular normalisation or specification. As an example of the type of correction achieved, Figure (20) shows the original pair of images, "IROAD2", from the JISCT database. We applied a stereo algorithm <ref> [4, 3] </ref> to this pair (1) with no correction, (2) correction using a linear model of the intensity relationship, (3) correction using regular histogram specification and (4) correction using dynamic histograms warping. The corresponding disparity maps are shown in Figure (21).
Reference: [5] <author> B. V. Funt and G. D. Finlayson. </author> <title> Color constant color indexing. </title> ??, <year> 1994. </year>
Reference-contexts: 1 Introduction The constant image brightness assumption assumes that the intensities of corresponding points (or planar patches) in two (or more) images are equal. This assumption is central to bodies of work in optical flow estimation, motion and structure, stereo and recognition based on color histograms <ref> [14, 9, 5] </ref>. However, surprisingly little experimental work has been performed to support this hypothesis, despite the fact the many of these algorithms are very sensitive to deviations from this assumption.
Reference: [6] <author> W. A. Gale and K. W. Church. </author> <title> A program for aligning sentences in bilingual corpora. </title> <booktitle> In 29th Annual Meeting of the Association for Computational Linguistics, </booktitle> <pages> pages 177-184, </pages> <year> 1991. </year>
Reference-contexts: However, since the maximum size of a compression or expansion is always finite 1 , then such a cost function can be accomodated <ref> [6] </ref>. In general, the cost of a k-to-l mapping is d k;l (m; n) = fi fi fi i=0 mi j=0 nj fi fi fi fi fi (H A mk ) (H B nl ) fi Finally then, it is necessary to define the total cost of a matching.
Reference: [7] <author> M. A. Gennert. </author> <title> A Computational Framework for Understanding Problems in Stereo Vision. </title> <type> PhD thesis, </type> <institution> MIT, </institution> <year> 1987. </year>
Reference-contexts: In this case, image contrast is conserved and the DC bias is usually removed by applying a first derivative operation to both images. Any derivative operation does, of course, amplify high frequency noise and this can pose a problem for noisy images. For pixel-based stereo, Gennert <ref> [7] </ref> provided a detailed model of the intensity relationship between corresponding pixels, showing that corresponding intensities in the left and right images differ by a spatially varying multiplicative factor due to surface orientation and reflectance models.
Reference: [8] <author> R. C. Gonzalez and R. E. Woods. </author> <title> Digital Image Processing. </title> <publisher> Addison-Wesley, </publisher> <year> 1993. </year> <month> 28 </month>
Reference-contexts: These algorithms are related to the dynamic programming algorithms for stereo [1], but differ by replacing deletions/occlusions with expansion/contractions that allow non-unique matches. Section (3) develops what we have called the dynamic histogram warping. The work described here is very closely related to work in histogram specification <ref> [8] </ref>. Traditionally, this has been a two step process in which the two histograms are first equalized. The final mapping is computed by mapping intensities in the first histogram to their equalized value and then inverse mapping from the equalized value to the corresponding intensity value of the second histogram.
Reference: [9] <author> G. Healey and D. Slater. </author> <title> Global color constancy: recognition of objects by use of illumination-invariant properties of color distributions. </title> <journal> J. Optical Society of America A, </journal> <volume> 1(11) </volume> <pages> 3003-3010, </pages> <year> 1994. </year>
Reference-contexts: 1 Introduction The constant image brightness assumption assumes that the intensities of corresponding points (or planar patches) in two (or more) images are equal. This assumption is central to bodies of work in optical flow estimation, motion and structure, stereo and recognition based on color histograms <ref> [14, 9, 5] </ref>. However, surprisingly little experimental work has been performed to support this hypothesis, despite the fact the many of these algorithms are very sensitive to deviations from this assumption.
Reference: [10] <author> K. Horn and B. Schunck. </author> <title> Determining optical flow. </title> <journal> Artificial intelligence, </journal> <volume> 17 </volume> <pages> 185-203, </pages> <year> 1981. </year>
Reference-contexts: Figure (22) shows the image of an office ceiling, courtesy of S. Negahdaripour. "After the first image was taken, the camera aperture was increased before taking the second image" [12]. The optical flow obtained using the method of Horn & Schunk <ref> [10] </ref> is shown in Figure (23a) and is heavily corrupted because the constant brightness assumption is not satisfied.
Reference: [11] <author> J. B. Kruskal and M. Lieberman. </author> <title> The symmetric time-warping problem: From continuous to discrete. </title> <editor> In D. Sankoff and J. B. Kruskal, editors, </editor> <title> Time Warps, String Edits, and Macromolecules: The Theory and Practice of Sequence Comparison. </title> <publisher> Addison Wesley, </publisher> <year> 1983. </year>
Reference-contexts: Such a warping should consist entirely of expansion/contraction of the intensity levels in a manner analagous to the dynamic time warping of speech waveforms <ref> [11] </ref>. These algorithms are related to the dynamic programming algorithms for stereo [1], but differ by replacing deletions/occlusions with expansion/contractions that allow non-unique matches. Section (3) develops what we have called the dynamic histogram warping. The work described here is very closely related to work in histogram specification [8]. <p> Such a comparison and correction is strongly related to work in sequence comparison [13] and especially to dynamic time warping (DTW), commonly used in speech recognition to minimize variations in the rate of speech between speakers <ref> [11] </ref>. In dynamic time warping, two speech signals are compressed and/or expanded to best match one another. Signal samples can be matched one-to-one, one-to-many (expansion) or many-to-one (contraction), as illustrated in Figure (10a). However, the many-to-many mappings of Figure (10b) are illegal.
Reference: [12] <author> Shahriar Negahdaripour and Chih-Ho Yu. </author> <title> A generalized brightness change model for computing optical flow. </title> <booktitle> In Proc. 4th Int. Conference on Computer Vision, </booktitle> <pages> pages 2-11, </pages> <address> Berlin, </address> <year> 1993. </year>
Reference-contexts: These changes in illumination and or camera responses were modeled by constant multiplicative and additive factors, i.e. I A = fiI B + ff, that were automatically estimated by a simple analysis of the image histograms. Negahdaripour and Yu <ref> [12] </ref> have recently proposed a "generalized brightness change" model for optical flow in which the additive and multiplicative terms are spatially varying. <p> Optical flow estimation can also benefit from dynamic histogram warping. Figure (22) shows the image of an office ceiling, courtesy of S. Negahdaripour. "After the first image was taken, the camera aperture was increased before taking the second image" <ref> [12] </ref>. The optical flow obtained using the method of Horn & Schunk [10] is shown in Figure (23a) and is heavily corrupted because the constant brightness assumption is not satisfied.
Reference: [13] <author> D. Sankoff and J. B. Kruskal. </author> <title> Time Warps, String Edits, and Macromolecules: The Theory and Practice of Sequence Comparison. </title> <publisher> Addison Wesley, </publisher> <year> 1983. </year>
Reference-contexts: Such a comparison and correction is strongly related to work in sequence comparison <ref> [13] </ref> and especially to dynamic time warping (DTW), commonly used in speech recognition to minimize variations in the rate of speech between speakers [11]. In dynamic time warping, two speech signals are compressed and/or expanded to best match one another.
Reference: [14] <author> M. J. Swain and D. H. Ballard. </author> <title> Color indexing. </title> <booktitle> volume 7, </booktitle> <pages> pages 11-32, </pages> <year> 1991. </year>
Reference-contexts: 1 Introduction The constant image brightness assumption assumes that the intensities of corresponding points (or planar patches) in two (or more) images are equal. This assumption is central to bodies of work in optical flow estimation, motion and structure, stereo and recognition based on color histograms <ref> [14, 9, 5] </ref>. However, surprisingly little experimental work has been performed to support this hypothesis, despite the fact the many of these algorithms are very sensitive to deviations from this assumption.
Reference: [15] <author> X-D Yang, Q. Xiao, and H. Raafat. </author> <title> Direct mapping between histograms: An improved interactive image enhancement method. </title> <booktitle> In IEEE Int. Conf. on Systems, Man and Cybernetics, </booktitle> <pages> pages 243-247, </pages> <year> 1991. </year>
Reference-contexts: The final mapping is computed by mapping intensities in the first histogram to their equalized value and then inverse mapping from the equalized value to the corresponding intensity value of the second histogram. Yang et al <ref> [15] </ref> point out that because of quantization errors, this two-step algorithm can produce contouring artifacts.
Reference: [16] <author> Y. J. Zhang. </author> <title> Improving the accuracy of direct histogram specification. </title> <journal> Electronics Letters, </journal> <volume> 28(3) </volume> <pages> 213-214, </pages> <year> 1992. </year>
Reference-contexts: This approach significantly reduces artifacts due to contouring. Zhang <ref> [16] </ref> showed that the direct method (called SML) can produce poor results because each source intensity is independently mapped to a destination intensity. <p> However, the local search for matches introduces artifacts (spikes in the matched histograms) because matching errors accumulate. The simple example of Figure (1) illustrates 3 A 0 ) Resulting histogram using SML histogram specification as in <ref> [16] </ref>. Using GML also gives erroneous results for this case. the effect. Here, intensity values 1 through 4 occur more frequently in image A while intensity values 7 through 10 occur more frequently in image B. Clearly though, the mapping should be one to one, i.e. I A i .
References-found: 16

