URL: http://vlsicad.cs.ucla.edu/~abk/papers/conference/c38.ps
Refering-URL: http://vlsicad.cs.ucla.edu/~abk/publications.html
Root-URL: http://www.cs.ucla.edu
Title: Low-Cost Single-Layer Clock Trees With Exact Zero Elmore Delay Skew  
Author: Andrew B. Kahng and Chung-Wen Albert Tsao 
Address: Los Angeles, CA 90024-1596 USA  
Affiliation: UCLA Computer Science Dept.,  
Abstract: We give the first single-layer clock tree construction with exact zero skew according to the Elmore delay model. The previous Linear-Planar-DME method [11] guarantees a planar solution under the linear delay model. In this paper, we use a Linear-Planar-DME variant connection topology to construct a low-cost zero skew tree (ZST) according to the Elmore delay model. While a linear-delay ZST is trivially converted to an Elmore-delay ZST by "detouring" wires, the key idea is to defer this detouring as much as possible to reduce tree cost. Costs of our planar ZST solutions are comparable to those of the best previous non-planar ZST solutions, and substantially improve over previous planar clock routing methods. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> T. Asano, T, Asano, L. Guibas, J. Hershberger, and H. Imai, </author> <title> "Visibility-polygon search and Euclidean shortest paths", </title> <booktitle> Proc. IEEE Symp. on Foundations of Computer Science, </booktitle> <year> 1985, </year> <pages> pp. 155-164. </pages>
Reference-contexts: Since the detouring points must be located at the endpoints of planar edges, a general approach based on visibility graphs (e.g., <ref> [1, 15] </ref>) can be used.
Reference: [2] <author> K. D. Boese and A. B. Kahng, </author> <title> "Zero-Skew Clock Routing Trees With Minimum Wirelength," </title> <booktitle> Proc. IEEE Intl. Conf. on ASIC, </booktitle> <year> 1992, </year> <pages> pp. </pages> <address> 1.1.1 - 1.1.5. </address>
Reference-contexts: Several previous works achieve exact zero-skew routing. Tsay [14] recursively combines pairs of zero-skew trees at "tapping points" to induce the topology G as it is being embedded; exact zero El-more delay skew is maintained by elongating wires as necessary. The DME algorithm <ref> [2, 3, 7] </ref> embeds internal nodes of G via (i) bottom-up construction of a tree of merging segments, or merging tree, representing loci of possible placements of internal nodes in the ZST; and (ii) top-down determination of exact locations for the internal nodes of G. <p> Since DME requires an input topology, several works have studied topology constructions that lead to low-cost solutions when DME is applied <ref> [2, 3, 8] </ref>. Clock tree solutions given by the above algorithms may not be easily embedded in the layout plane. However, in practice clock nets are often routed with a single preferred layer, e.g., to reduce delay and attenuation through vias. <p> Note that this does not necessarily equal the sum of Manhattan distances d (s; v)+d (t; v), since sink delays must be balanced. The following discussion uses the same terminology as in <ref> [2, 4, 11] </ref> (e.g., Figures 1 and 2). In brief: A Manhattan arc is a line segment oriented at a 45-degree angle from the coordinate axes. <p> The complementary processes of merging tree reconstruc tion and top-down embedding are iterated until the entire ZST is planar. Note that the DME algorithm cannot guarantee optimal tree cost under the Elmore model <ref> [2] </ref>. <p> Note that Step 7 constructs the merging tree T S only for non-planar nodes in the upper part of the ZST; Step 8 calls the top-down embedding phase of DME ("Find-Exact-Placements (T S)" in <ref> [2, 4] </ref>) to embed the shrinking set of non-planar nodes. Algorithm Elmore-Planar-DME (G, S) Input: Topology G; set of sinks S Output: Planar ZST T having topology G 1.
Reference: [3] <author> T.-H. Chao, Y.-C. Hsu and J.-M. Ho, </author> <title> "Zero Skew Clock Net Routing," </title> <booktitle> Proc. ACM/IEEE Design Automation Conf., </booktitle> <year> 1992, </year> <pages> pp. 518-523. </pages>
Reference-contexts: Several previous works achieve exact zero-skew routing. Tsay [14] recursively combines pairs of zero-skew trees at "tapping points" to induce the topology G as it is being embedded; exact zero El-more delay skew is maintained by elongating wires as necessary. The DME algorithm <ref> [2, 3, 7] </ref> embeds internal nodes of G via (i) bottom-up construction of a tree of merging segments, or merging tree, representing loci of possible placements of internal nodes in the ZST; and (ii) top-down determination of exact locations for the internal nodes of G. <p> Since DME requires an input topology, several works have studied topology constructions that lead to low-cost solutions when DME is applied <ref> [2, 3, 8] </ref>. Clock tree solutions given by the above algorithms may not be easily embedded in the layout plane. However, in practice clock nets are often routed with a single preferred layer, e.g., to reduce delay and attenuation through vias.
Reference: [4] <author> T.-H. Chao, Y. C. Hsu, J. M. Ho, K. D. Boese and A. B. Kahng, </author> <title> "Zero Skew Clock Routing With Minimum Wirelength", </title> <journal> IEEE Trans. on Circuits and Systems 39(11) (1992), </journal> <pages> pp. 799-814. </pages>
Reference-contexts: Note that this does not necessarily equal the sum of Manhattan distances d (s; v)+d (t; v), since sink delays must be balanced. The following discussion uses the same terminology as in <ref> [2, 4, 11] </ref> (e.g., Figures 1 and 2). In brief: A Manhattan arc is a line segment oriented at a 45-degree angle from the coordinate axes. <p> Note that Step 7 constructs the merging tree T S only for non-planar nodes in the upper part of the ZST; Step 8 calls the top-down embedding phase of DME ("Find-Exact-Placements (T S)" in <ref> [2, 4] </ref>) to embed the shrinking set of non-planar nodes. Algorithm Elmore-Planar-DME (G, S) Input: Topology G; set of sinks S Output: Planar ZST T having topology G 1. <p> The same seven examples as in <ref> [4, 8, 16] </ref> were studied. Table 1 shows that our Elmore-Planar-DME implementation is relatively efficient, with runtimes dominated by the generation of a good topology in the call to Linear Planar-DME-3. <p> Finally, we are pursuing methods which construct single-layer clock routing trees with bounded, rather than exactly zero, skew. Naive Elmore- Test Case CL+I6 [8] Lin-Pln-DME Elm-Pln-DME KCR+DME <ref> [4] </ref> Planar-DME Zhu-Dai [16] P1 129.2 130.2 132.9 140.1 146.1 167.9 r1 1,253.3 1,351.3 1,393.2 1,487 1,686.2 1,778.3 r3 3,193.8 3,501.4 3,556.2 3,867 3,916.2 4,635.9 r5 9,723.7 10,556.2 10,808.1 11,606 12,823.3 14,119.4 Cost (ave) (+0.0%) +7.2% +9.9% +17.3% +28.1% +39.4% Planar No Yes Yes No Yes Yes Delay Model Elmore Linear <p> 4,635.9 r5 9,723.7 10,556.2 10,808.1 11,606 12,823.3 14,119.4 Cost (ave) (+0.0%) +7.2% +9.9% +17.3% +28.1% +39.4% Planar No Yes Yes No Yes Yes Delay Model Elmore Linear Elmore Elmore Elmore Linear Table 2: Comparison of Elmore-Planar-DME with other algorithms in terms of total wirelength, using the same benchmarks studied in <ref> [8, 4, 16] </ref>. No prescribed clock source location was assumed. Cost (ave) indicates the average percentage increase in wire length versus the results of CL+I6 [8]. (a) Greedy-DME [8] (b) Linear-Planar-DME (c) Elmore-Planar-DME (d) Zhu-Dai [16] dotted lines.
Reference: [5] <author> J. Cong, A. B. Kahng and G. Robins, </author> <title> "Matching-Based Methods for High-Performance Clock Routing", </title> <journal> IEEE Trans. on CAD 12(8), </journal> <month> August </month> <year> 1993, </year> <pages> pp. 1157-1169. </pages>
Reference: [6] <author> W. M. Dai, R. Kong, J. Jue, and M. Sato, </author> <title> "Rubber band routing and dynamic data representation", </title> <booktitle> Proc. IEEE Intl. Conf. on Computer-Aided Design, </booktitle> <year> 1990, </year> <pages> pp. 52-55. </pages>
Reference-contexts: Currently, we do not take routing capacity, cross-talk constraints, etc. into consideration (recall the example of Figure 4b). We hope to use such computational geometry techniques as those of Dai et al. <ref> [6] </ref> to enhance our current approach. Second, Find-Shortest-Planar-Path provides the main computational bottleneck in practice. Various heuristic speedups are possible, e.g., obstacles (planar edges) are actually connected as subtrees, and each subtree can be replaced by its convex hull to reduce the complexity of the path-finding instance.
Reference: [7] <author> M. Edahiro, </author> <title> "Minimum Skew and Minimum Path Length Routing in VLSI Layout Design", </title> <booktitle> NEC Research and Development 32(4), </booktitle> <month> October </month> <year> 1991, </year> <pages> pp. 569-575. </pages>
Reference-contexts: Several previous works achieve exact zero-skew routing. Tsay [14] recursively combines pairs of zero-skew trees at "tapping points" to induce the topology G as it is being embedded; exact zero El-more delay skew is maintained by elongating wires as necessary. The DME algorithm <ref> [2, 3, 7] </ref> embeds internal nodes of G via (i) bottom-up construction of a tree of merging segments, or merging tree, representing loci of possible placements of internal nodes in the ZST; and (ii) top-down determination of exact locations for the internal nodes of G.
Reference: [8] <author> M. Edahiro, </author> <title> "Clustering-Based Optimization Algorithm in Zero-Skew Routings", </title> <booktitle> Proc. ACM/IEEE Design Automation Conf., </booktitle> <month> June </month> <year> 1993, </year> <pages> pp. 612-616. </pages>
Reference-contexts: Since DME requires an input topology, several works have studied topology constructions that lead to low-cost solutions when DME is applied <ref> [2, 3, 8] </ref>. Clock tree solutions given by the above algorithms may not be easily embedded in the layout plane. However, in practice clock nets are often routed with a single preferred layer, e.g., to reduce delay and attenuation through vias. <p> First, any connection topology can be trivially embedded with exact zero skew onto a single routing layer; however, re-embedding the topology of a nonplanar ZST (e.g., from <ref> [8] </ref>) onto a single layer can drastically increase the tree cost. The correspondence between linear delay and Elmore delay suggests that the (optimum) Linear-Planar-DME solution can be re-embedded with zero Elmore delay skew and very little increase in tree cost. <p> The same seven examples as in <ref> [4, 8, 16] </ref> were studied. Table 1 shows that our Elmore-Planar-DME implementation is relatively efficient, with runtimes dominated by the generation of a good topology in the call to Linear Planar-DME-3. <p> In the last column, we also show the ZST height as a multiple of the minimum possible tree height, lg n. Table 2 compares our algorithms with two leading non-planar ZST algorithms in the literature - Greedy-DME <ref> [8] </ref> and KCR+DME [12] as well as the previous planar routing method of Zhu and Dai [16]. Our new planar ZST solutions are competitive with the best non-planar ZST solutions of Greedy-DME (having 10% greater wiring cost), and are superior to KCR+DME solutions in all cases. <p> Finally, we are pursuing methods which construct single-layer clock routing trees with bounded, rather than exactly zero, skew. Naive Elmore- Test Case CL+I6 <ref> [8] </ref> Lin-Pln-DME Elm-Pln-DME KCR+DME [4] Planar-DME Zhu-Dai [16] P1 129.2 130.2 132.9 140.1 146.1 167.9 r1 1,253.3 1,351.3 1,393.2 1,487 1,686.2 1,778.3 r3 3,193.8 3,501.4 3,556.2 3,867 3,916.2 4,635.9 r5 9,723.7 10,556.2 10,808.1 11,606 12,823.3 14,119.4 Cost (ave) (+0.0%) +7.2% +9.9% +17.3% +28.1% +39.4% Planar No Yes Yes No Yes Yes <p> 4,635.9 r5 9,723.7 10,556.2 10,808.1 11,606 12,823.3 14,119.4 Cost (ave) (+0.0%) +7.2% +9.9% +17.3% +28.1% +39.4% Planar No Yes Yes No Yes Yes Delay Model Elmore Linear Elmore Elmore Elmore Linear Table 2: Comparison of Elmore-Planar-DME with other algorithms in terms of total wirelength, using the same benchmarks studied in <ref> [8, 4, 16] </ref>. No prescribed clock source location was assumed. Cost (ave) indicates the average percentage increase in wire length versus the results of CL+I6 [8]. (a) Greedy-DME [8] (b) Linear-Planar-DME (c) Elmore-Planar-DME (d) Zhu-Dai [16] dotted lines. <p> No prescribed clock source location was assumed. Cost (ave) indicates the average percentage increase in wire length versus the results of CL+I6 <ref> [8] </ref>. (a) Greedy-DME [8] (b) Linear-Planar-DME (c) Elmore-Planar-DME (d) Zhu-Dai [16] dotted lines. <p> No prescribed clock source location was assumed. Cost (ave) indicates the average percentage increase in wire length versus the results of CL+I6 <ref> [8] </ref>. (a) Greedy-DME [8] (b) Linear-Planar-DME (c) Elmore-Planar-DME (d) Zhu-Dai [16] dotted lines.
Reference: [9] <author> W. C. </author> <title> Elmore, "The Transient Response of Damped Linear Networks With Particular Regard to Wide-Band Amplifiers," </title> <editor> J. </editor> <booktitle> Applied Physics 19(1) (1948), </booktitle> <pages> pp. 55-63. </pages>
Reference: [10] <author> M. A. B. Jackson, A. Srinivasan and E. S. Kuh, </author> <title> "Clock Routing for High Performance ICs," </title> <booktitle> Proc. ACM/IEEE Design Automation Conf., </booktitle> <year> 1990, </year> <pages> pp. 573-579. </pages>
Reference-contexts: Khan et al. [13] hybridized the fl Partial support for this work was provided by NSF MIP-9223740 and MIP-9257982. We thank Kenneth Boese and Masato Edahiro for use of their DME codes. top-down partitioning approach of <ref> [10] </ref> with the Zhu-Dai construction. Both [16, 13] rely on the linear delay model to achieve their results. 1.1 Single-Pass DME In [11], we showed that under linear delay the two-phase DME algorithm can be emulated by a top-down "Single-Pass DME".
Reference: [11] <author> A. B. Kahng and C.-W. A. Tsao. "Planar-DME: </author> <title> Improved Planar Zero-Skew Clock Routing With Minimum Path-length Delay," </title> <booktitle> Proc. ACM/IEEE European Design Automation Conf., </booktitle> <month> September </month> <year> 1994. </year>
Reference-contexts: We thank Kenneth Boese and Masato Edahiro for use of their DME codes. top-down partitioning approach of [10] with the Zhu-Dai construction. Both [16, 13] rely on the linear delay model to achieve their results. 1.1 Single-Pass DME In <ref> [11] </ref>, we showed that under linear delay the two-phase DME algorithm can be emulated by a top-down "Single-Pass DME". <p> Thus, Single-Pass DME allows the connection topology to be determined dynamically in a top-down fashion, and at the same time still finds a minimum-pathlength, minimum-cost embedding of whatever topology is eventually determined. 2 The Linear-Planar-DME algorithm <ref> [11] </ref> is Single-Pass DME with the top-down determination of node embeddings and connection topology guided by the embedding rules and partitioning rules illustrated in 1 Recall that the merging segment for node v is the locus of possible embedding points for v that are compatible with a minimum-cost ZST solution. <p> Note that this does not necessarily equal the sum of Manhattan distances d (s; v)+d (t; v), since sink delays must be balanced. The following discussion uses the same terminology as in <ref> [2, 4, 11] </ref> (e.g., Figures 1 and 2). In brief: A Manhattan arc is a line segment oriented at a 45-degree angle from the coordinate axes. <p> However, in our present implementation we simply select u. 6 Thus, Procedure Rebuild-Tree-of-Segments may iterate several times at each level. In our experience, no more than 56 iterations in total were necessary for any of the benchmarks tested. up to 10.9% wirelength reduction versus our previous results in <ref> [11] </ref>. We briefly describe two possible Linear-Planar-DME variants. Using a Splitting Path Consider a subset of sinks S 0 S that is being partitioned. Recall that the splitting path consists of line segment pv and ~v, a ray emanating from v.
Reference: [12] <author> A. B. Kahng, J. Cong, and G. Robins, </author> <title> "High-Performance Clock Routing Based on Recursive Geometric Matching," </title> <booktitle> Proc. ACM/IEEE Design Automation Conf., </booktitle> <year> 1991, </year> <pages> pp. 322-327. </pages>
Reference-contexts: In the last column, we also show the ZST height as a multiple of the minimum possible tree height, lg n. Table 2 compares our algorithms with two leading non-planar ZST algorithms in the literature - Greedy-DME [8] and KCR+DME <ref> [12] </ref> as well as the previous planar routing method of Zhu and Dai [16]. Our new planar ZST solutions are competitive with the best non-planar ZST solutions of Greedy-DME (having 10% greater wiring cost), and are superior to KCR+DME solutions in all cases.
Reference: [13] <author> W. Khan, X. He, L. Bangaru and N. Sherwani, </author> <title> "Combat: Zero Skew Minimal Delay Planar Clock Routing for High Performance Systems", </title> <institution> Western Michigan Univ. Computer Science Technical Report TR/93-08, </institution> <month> April 15, </month> <year> 1993 </year>
Reference-contexts: Single-layer routing also has more uniform electrical parameters, reducing sensitivity to process variation and simplifying buffering optimizations. Zhu and Dai [16] gave the first planar ZST con struction; their O (n 2 ) solution has minimum possible source-sink pathlength. Khan et al. <ref> [13] </ref> hybridized the fl Partial support for this work was provided by NSF MIP-9223740 and MIP-9257982. We thank Kenneth Boese and Masato Edahiro for use of their DME codes. top-down partitioning approach of [10] with the Zhu-Dai construction. <p> Khan et al. [13] hybridized the fl Partial support for this work was provided by NSF MIP-9223740 and MIP-9257982. We thank Kenneth Boese and Masato Edahiro for use of their DME codes. top-down partitioning approach of [10] with the Zhu-Dai construction. Both <ref> [16, 13] </ref> rely on the linear delay model to achieve their results. 1.1 Single-Pass DME In [11], we showed that under linear delay the two-phase DME algorithm can be emulated by a top-down "Single-Pass DME".
Reference: [14] <author> R. S. Tsay, </author> <title> "Exact Zero Skew", </title> <booktitle> Proc. IEEE Intl. Conference on Computer-Aided Design, </booktitle> <year> 1991, </year> <pages> pp. 336-339. </pages>
Reference-contexts: Several previous works achieve exact zero-skew routing. Tsay <ref> [14] </ref> recursively combines pairs of zero-skew trees at "tapping points" to induce the topology G as it is being embedded; exact zero El-more delay skew is maintained by elongating wires as necessary. <p> Linear-Planar-DME-Sub (S 0 1 ,P S 0 ,v) 10. Linear-Planar-DME-Sub (S 0 2 ,P S 0 ,v) Second, given a Linear-Planar-DME solution, it is simple to obtain a planar Elmore-ZST by elongating tree edges in a bottom-up fashion to balance differences in sink delays (see <ref> [14] </ref>). In the experimental comparisons of Section 4 below, we call such an approach "Naive-Elmore-Planar-DME". We find that unneeded detouring can be saved by iterating both the application of DME to the given topology, and the bottom-up modification of any resulting non-planar routing, based on a "principle of least commitment".
Reference: [15] <author> E. Welzl, </author> <title> "Constructing the Visibility Graph for n Line Segments in O(n 2 ) Time", </title> <booktitle> Information Processing Letters 20 (1985), </booktitle> <pages> pp. 167-171. </pages>
Reference-contexts: Since the detouring points must be located at the endpoints of planar edges, a general approach based on visibility graphs (e.g., <ref> [1, 15] </ref>) can be used.
Reference: [16] <author> Q. Zhu and W. W.-M. Dai, </author> <title> "Perfect-Balance Planar Clock Routing With Minimal Path-Length", </title> <booktitle> Proc. IEEE Intl. Conf. on Computer-Aided Design, </booktitle> <month> Nov. </month> <year> 1992, </year> <pages> pp. 473-476. </pages>
Reference-contexts: However, in practice clock nets are often routed with a single preferred layer, e.g., to reduce delay and attenuation through vias. Single-layer routing also has more uniform electrical parameters, reducing sensitivity to process variation and simplifying buffering optimizations. Zhu and Dai <ref> [16] </ref> gave the first planar ZST con struction; their O (n 2 ) solution has minimum possible source-sink pathlength. Khan et al. [13] hybridized the fl Partial support for this work was provided by NSF MIP-9223740 and MIP-9257982. <p> Khan et al. [13] hybridized the fl Partial support for this work was provided by NSF MIP-9223740 and MIP-9257982. We thank Kenneth Boese and Masato Edahiro for use of their DME codes. top-down partitioning approach of [10] with the Zhu-Dai construction. Both <ref> [16, 13] </ref> rely on the linear delay model to achieve their results. 1.1 Single-Pass DME In [11], we showed that under linear delay the two-phase DME algorithm can be emulated by a top-down "Single-Pass DME". <p> The same seven examples as in <ref> [4, 8, 16] </ref> were studied. Table 1 shows that our Elmore-Planar-DME implementation is relatively efficient, with runtimes dominated by the generation of a good topology in the call to Linear Planar-DME-3. <p> Table 2 compares our algorithms with two leading non-planar ZST algorithms in the literature - Greedy-DME [8] and KCR+DME [12] as well as the previous planar routing method of Zhu and Dai <ref> [16] </ref>. Our new planar ZST solutions are competitive with the best non-planar ZST solutions of Greedy-DME (having 10% greater wiring cost), and are superior to KCR+DME solutions in all cases. Elmore-Planar-DME also uses 22:5% less wire than the (linear delay based) method of [16]. <p> planar routing method of Zhu and Dai <ref> [16] </ref>. Our new planar ZST solutions are competitive with the best non-planar ZST solutions of Greedy-DME (having 10% greater wiring cost), and are superior to KCR+DME solutions in all cases. Elmore-Planar-DME also uses 22:5% less wire than the (linear delay based) method of [16]. It is interesting to note that the cost of our Elmore-Planar-DME solu tions is only slightly increased from the cost of the starting Linear-Planar-DME ZSTs. We believe this implies that better solutions can be obtained as we continue to improve Linear-Planar-DME. <p> Finally, we are pursuing methods which construct single-layer clock routing trees with bounded, rather than exactly zero, skew. Naive Elmore- Test Case CL+I6 [8] Lin-Pln-DME Elm-Pln-DME KCR+DME [4] Planar-DME Zhu-Dai <ref> [16] </ref> P1 129.2 130.2 132.9 140.1 146.1 167.9 r1 1,253.3 1,351.3 1,393.2 1,487 1,686.2 1,778.3 r3 3,193.8 3,501.4 3,556.2 3,867 3,916.2 4,635.9 r5 9,723.7 10,556.2 10,808.1 11,606 12,823.3 14,119.4 Cost (ave) (+0.0%) +7.2% +9.9% +17.3% +28.1% +39.4% Planar No Yes Yes No Yes Yes Delay Model Elmore Linear Elmore Elmore Elmore <p> 4,635.9 r5 9,723.7 10,556.2 10,808.1 11,606 12,823.3 14,119.4 Cost (ave) (+0.0%) +7.2% +9.9% +17.3% +28.1% +39.4% Planar No Yes Yes No Yes Yes Delay Model Elmore Linear Elmore Elmore Elmore Linear Table 2: Comparison of Elmore-Planar-DME with other algorithms in terms of total wirelength, using the same benchmarks studied in <ref> [8, 4, 16] </ref>. No prescribed clock source location was assumed. Cost (ave) indicates the average percentage increase in wire length versus the results of CL+I6 [8]. (a) Greedy-DME [8] (b) Linear-Planar-DME (c) Elmore-Planar-DME (d) Zhu-Dai [16] dotted lines. <p> No prescribed clock source location was assumed. Cost (ave) indicates the average percentage increase in wire length versus the results of CL+I6 [8]. (a) Greedy-DME [8] (b) Linear-Planar-DME (c) Elmore-Planar-DME (d) Zhu-Dai <ref> [16] </ref> dotted lines.
References-found: 16

