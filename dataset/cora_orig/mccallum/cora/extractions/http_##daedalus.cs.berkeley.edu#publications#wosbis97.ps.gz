URL: http://daedalus.cs.berkeley.edu/publications/wosbis97.ps.gz
Refering-URL: http://daedalus.cs.berkeley.edu/
Root-URL: 
Email: tomh,randy-@cs.berkeley.edu  
Title: Satellite Transport Protocol (STP): An SSCOP-based Transport Protocol for Datagram Satellite Networks  
Author: Thomas R. Henderson and Randy H. Katz 
Note: also with Hughes Research Laboratories, Malibu, CA  
Address: Berkeley  
Affiliation: University of California at  
Abstract: We describe the adaptation of an ATM-based protocol, the Service Specific Connection Oriented Protocol (SSCOP), for use as a transport protocol in a datagram-based satellite data network. This protocol operates with high throughput and efficiency over links with a large bandwidth-delay product, including those with a high bit error or packet loss rate. We discuss the modifications to SSCOP necessary for it to operate over an IP-based satellite network. We then compare the performance of the modified protocol (the Satellite Transport Protocol, or STP) with that of conventional TCP and TCP with selective acknowledgments (TCP-Sack). We find that STP performs comparably to TCP-Sack in terms of forward throughput over simulated satellite channels. However, STP uses significantly less bandwidth on the return path, and is relatively insensitive to variations in round trip delay, making it an attractive candidate for asymmetric networks. Finally, STP exhibits very good performance in a rate controlled environment, even when the bit error ratio is severely degraded. 
Abstract-found: 1
Intro-found: 1
Reference: [All96] <author> M. Allman, H. Kruse, and S. Ostermann, </author> <year> (1997). </year> <title> An Application-Level Solution to TCPs Satellite Inefficiencies, </title> <booktitle> Proceedings of the First International Workshop on Satellite-based Information Services (WOSBIS) , Rye, </booktitle> <address> NY, </address> <month> November. </month>
Reference-contexts: A second approach for improving TCP performance is known as striping. This technique, known to satellite operators for some time, has more recently been investigated in the context of TCP by Allman <ref> [All96] </ref> and 2 Balakrishnan [Bal97b]. The approach involves opening multiple simultaneous connections, coordinated by a session manager, in order to improve the throughput over what would be obtained by using a single connection.
Reference: [ANS94] <institution> American National Standard T1.637, </institution> <year> (1994). </year> <title> B-ISDN Signaling ATM Adaptation LayerService Specific Connection Oriented Protocol (SSCOP). </title>
Reference-contexts: In particular, we show that STP outperforms TCP in networks with a high BW*RTD product, and especially over connections which have constrained reverse channel bandwidths. 2. History and related work SSCOP is the result of an international standardization effort from the period 1990-1994 <ref> [ANS94, ITU94] </ref>. When originally conceived, SSCOP was intended to provide both a reliable link layer for ATM signaling and a reliable transport layer for user data over ATM networks.
Reference: [Bak95] <author> A. Bakre and B. Badrinath, </author> <year> (1995). </year> <title> ITCP: Indirect TCP for Mobile Hosts, </title> <booktitle> 15 th Intl Conference on Distributed Computing Systems (ICDCS) , May. </booktitle>
Reference: [Bal95] <author> H. Balakrishnan, S. Seshan, E. Amir, and R. Katz, </author> <year> (1995). </year> <title> Improving TCP Performance over Wireless Networks. </title> <booktitle> 1 st ACM International Conference on Mobile Computing and Networking (Mobicom) , November. </booktitle>
Reference-contexts: A related approach proposed for wireless systems, known as snooping, is implemented similarly but does not violate the end-to-end semantics of TCP <ref> [Bal95] </ref>. The final strategy is known as splitting. In this case, the end-to-end TCP connection is actually broken in two by an agent within the network, and this agent implements either a modified or a new protocol for transport over the difficult network segment ([Bak95] and [Dur96]).
Reference: [Bal97a] <author> H. Balakrishnan, V. Padmanabhan, and R. Katz, </author> <year> (1997). </year> <title> The Effects of Asymmetry on TCP Performance over Wide-Area Wireless Networks, to appear, </title> <booktitle> 3 rd ACM International Conference on Mobile Computing and Networking (Mobicom) , September. </booktitle>
Reference-contexts: The most popular unicast transport protocol in use today, the Transmission Control Protocol (TCP) [Pos81], is known to suffer from performance degradation in satellite and asymmetric environments <ref> [Dur96, Bal97a] </ref>. <p> Other problems with TCP, such as the bias inherent in the congestion avoidance algorithm [Hen97], an inability to resize the receiver resequencing buffer based on the observed round trip time (RTT), performance problems with widely varying round trip times, and the breakdown of self-clocking in an asymmetric environment <ref> [Bal97a] </ref>, have not been corrected in the standards. Since the latencies and asymmetries in satellite networking are not likely to disappear in the near future, it is important to consider what types of improvements are possible. <p> Some proposed enhancements to TCP require that both hosts involved in the connection implement the changes. For example, the ACK suppression strategy for asymmetric connections, described in <ref> [Bal97a] </ref>, requires that the sending TCP increase its window based on the amount of data acknowledged, and not on the physical number of ACKs. If the sender does not implement the change, however, the window growth can be seriously retarded by ACK suppression.
Reference: [Bal97b] <author> H. Balakrishnan, V. Padmanabhan, S. Seshan, M. Stemm, and R. Katz, </author> <year> (1997). </year> <title> TCP Behavior of a Busy Web ServerAnalysis and Improvements, </title> <note> submitted to IEEE Infocom 98 </note> . 
Reference-contexts: A second approach for improving TCP performance is known as striping. This technique, known to satellite operators for some time, has more recently been investigated in the context of TCP by Allman [All96] and 2 Balakrishnan <ref> [Bal97b] </ref>. The approach involves opening multiple simultaneous connections, coordinated by a session manager, in order to improve the throughput over what would be obtained by using a single connection.
Reference: [Bla93] <author> U. Black, </author> <year> (1993). </year> <title> Data Link Protocols , Prentice Hall, </title> <address> Englewood Cliffs, NJ. </address>
Reference-contexts: Basic operation of STP STP and SSCOP are examples of synchronous bit oriented protocols. Such protocols are responsible for flow control, sequencing and accounting of data, and response to error detection <ref> [Bla93] </ref>. The main function of the protocol is to reliably transfer data to its peer in variable length packets. The transmitter sends packets to the receiver, storing the packets for potential retransmission until the receiver has acknowledged them. STPs automatic repeat request (ARQ) mechanism uses selective acknowledgments only.
Reference: [Bra92] <author> R. Braden, </author> <year> (1992). </year> <title> Extending TCP for Transactions Concepts, Internet RFC 1379 </title> . 
Reference-contexts: It is possible to permit data transmission immediately after the first message. SSCOP incorporated the facility for data transmission during connection establishment, but the feature was never used. In STP, we make use of this capability. A similar capability exists in TCP for Transactions <ref> [Bra92] </ref>. One additional refinement for wireless networks which exhibit a high bit error ratio (BER) is distinguishing between lost and corrupted packets.
Reference: [Cla90] <author> D. Clark and D. Tennenhouse, </author> <year> (1990). </year> <title> Architectural Consideration for a New Generation of Protocols, </title> <booktitle> in Proceedings of ACM SIGCOMM 90 , Philadelphia, </booktitle> <address> PA, </address> <month> September. </month>
Reference-contexts: We would also like to encourage the use of similar protocol design principles for future applications which implement their own error recovery techniques, following the principles of Application Level Framing <ref> [Cla90] </ref>, so that such applications work well without modification in a satellite environment. We are working on a UNIX kernel implementation of STP and intend to perform experiments over actual satellite links. Of particular interest is the overhead associated with running a fine grained delayed send timer in the kernel.
Reference: [Chi94] <author> D. Chitre, D. Gokhale, T. Henderson, J. Lunsford, and N. Mathews, </author> <year> (1994). </year> <title> Asynchronous Transfer Mode (ATM) Operation via Satellite: Issues, Challenges, and Resolutions, </title> <journal> International Journal of Satellite Communications , Vol. </journal> <volume> 12, </volume> <pages> pp. 211-222. </pages>
Reference-contexts: It is suitable for both connection-oriented and connectionless satellite networks. This protocol is based heavily on one that has been implemented in ATM networks, called the Service Specific Connection Oriented Protocol (SSCOP). SSCOP was targeted for large BW*RTD networks, and hence performs quite well over satellite channels <ref> [Chi94] </ref>. As it was specified, SSCOP relies on insequence data delivery by the lower protocol layers. <p> If the underlying satellite link layer protocol does not incorporate a strong CRC, we recommend incorporating the AAL type 5 CRC into STP, since such a strong CRC is very important for error resilience over wireless networks which use FEC <ref> [Chi94] </ref>. Otherwise, a weaker checksum, such as the 16 bit IP checksum, can suffice.
Reference: [Dur96] <author> R. Durst, G. Miller, and E. Travis, </author> <year> (1996). </year> <title> TCP Extensions for Space Communications, </title> <booktitle> 2nd ACM International Conference on Mobile Computing and Networking (Mobicom) , November, </booktitle> <pages> pp. 15-26. </pages>
Reference-contexts: The most popular unicast transport protocol in use today, the Transmission Control Protocol (TCP) [Pos81], is known to suffer from performance degradation in satellite and asymmetric environments <ref> [Dur96, Bal97a] </ref>. <p> The final strategy is known as splitting. In this case, the end-to-end TCP connection is actually broken in two by an agent within the network, and this agent implements either a modified or a new protocol for transport over the difficult network segment ([Bak95] and <ref> [Dur96] </ref>). Unlike spoofing, the end hosts are aware of the presence of the intermediate agent in the network. An example application would be if a satellite system were to instruct its users to redirect HTTP requests through a WWW proxy. <p> Most notably, explicit negative acknowledgments and features for handling asymmetric channels, both fundamental features of SSCOP, are proposed for the Space Communications Protocol StandardsTransport Protocol (SCPS-TP) <ref> [Dur96] </ref>. We have found one additional feature in SCPS-TP, discrimination between lost and errored segments in the flow control algorithm, useful for STP as well. 3. Basic operation of STP STP and SSCOP are examples of synchronous bit oriented protocols.
Reference: [Flo97] <author> S. Floyd, </author> <year> (1997). </year> <title> Message to end2end-interest group mailing list, </title> <month> February 7. </month>
Reference-contexts: The required granularity of the delayed send timer depends on the granularity of the rates enforced by the network and on the access speed of the uplink. 5 4 There has been a recent proposal to make the TCP initial window as large as 4 segments <ref> [Flo97] </ref>. 5 It may be possible to relax the required granularity of this timer if the MAC layer (probably implemented in hardware) also performs traffic smoothing. 7 Finally, the original protocol relied on the AAL type 5 CRC for error detection.
Reference: [Hen95] <author> T. Henderson, </author> <year> (1995). </year> <title> Design Principles and Performance Analysis of SSCOP: A New ATM Adaptation Layer Protocol. </title> <journal> ACM Sigcomm: Computer Communications Review , April. </journal>
Reference-contexts: The following were the fundamental design goals of SSCOP. The two main design goals were optimization for high speed operation (i.e., low processing overhead), and efficient operation in networks with large BW*RTD . More specifically <ref> [Hen95] </ref>: the protocol modulus is large; 3 the sequence number is 24 bits and data is numbered per packet rather than per-byte; the protocol is 32 bit aligned, and the control information is trailer oriented in order to reduce hardware bus cycles in unnecessary memory-to-memory copies (this design goal presumed that <p> STPs automatic repeat request (ARQ) mechanism uses selective acknowledgments only. Packets are numbered sequentially, and the transmitter retransmits only those specific packets that have been explicitly requested by the receiver (i.e., there are no timeouts) <ref> [Hen95] </ref>. 3.1 Protocol operation STP has four basic packet types for data transfer (we are ignoring, for now, the additional packet types needed for connection setup and release). <p> The USTAT is an explicit negative acknowledgment requesting immediate retransmission. 4 The basic operation of STP (and of SSCOP) can best be understood by considering the example illustrated in Figure 1 (from <ref> [Hen95] </ref>). This example only illustrates one direction of data transfer, and assumes that sequence integrity of transmissions is preserved (in the next section, we describe how to eliminate this assumption). In the example, the transmitter sends a series of consecutively numbered packets. <p> For STP, we set the threshold on duplicate acknowledgments before a USTAT is sent)to 3 (as in TCP), and the number of POLLs per RTT was also set to 3, since in SSCOP it has always been recommended that multiple POLLs be sent each RTT if the RTT is long <ref> [Hen95] </ref>. 5.1.3 Flow control In order to permit a fair comparison of the basic protocol performance, we implemented a flow control policy in STP identical to that of TCP; namely, additive window increases of 1 packet per RTT and a multiplicative decrease by 1/2 during the congestion avoidance phase. 8 For
Reference: [Hen97] <author> T. Henderson, E. Sahouria, S. McCanne, and R. Katz, </author> <year> (1997). </year> <title> Improving Fairness of TCP Congestion Avoidance, </title> <note> submitted to IEEE Infocom 98 </note> . 
Reference-contexts: Other problems with TCP, such as the bias inherent in the congestion avoidance algorithm <ref> [Hen97] </ref>, an inability to resize the receiver resequencing buffer based on the observed round trip time (RTT), performance problems with widely varying round trip times, and the breakdown of self-clocking in an asymmetric environment [Bal97a], have not been corrected in the standards. <p> If the sender does not implement the change, however, the window growth can be seriously retarded by ACK suppression. Furthermore, protocol enhancements which do not require changes to the peers implementation (such as a more aggressive window growth algorithm, examined in <ref> [Hen97] </ref>), often offer only modest benefits and do not correct fundamental performance limitations of the protocol. Finally, there is a wide diversity of implementations in existence today [Pax97], making it difficult to predict the behavior of the implementation at the peer host. <p> We discuss some fairness problems with this mechanism in <ref> [Hen97] </ref>. 1.5 Mb/s, Queue size = 18 8Mb/s, 5ms 8Mb/s, 1ms Foreground source Foreground sink Background sources Background sinks Queue size = 18 9 up any phase effects.
Reference: [ITU94] <author> ITU-T Recommendation Q.2110, </author> <year> (1994). </year> <title> B-ISDN Signaling ATM Adaptation Layer Service Specific Connection Oriented Protocol (SSCOP), </title> <address> Geneva. </address>
Reference-contexts: In particular, we show that STP outperforms TCP in networks with a high BW*RTD product, and especially over connections which have constrained reverse channel bandwidths. 2. History and related work SSCOP is the result of an international standardization effort from the period 1990-1994 <ref> [ANS94, ITU94] </ref>. When originally conceived, SSCOP was intended to provide both a reliable link layer for ATM signaling and a reliable transport layer for user data over ATM networks. <p> If #7 were instead lost again, the next STAT message would have stimulated a second retransmission. More examples of basic SSCOP operation can be found in an appendix of the protocol specification <ref> [ITU94] </ref>. 3.2 Packet formats The STP packet formats are illustrated in running over IP; modifications may be necessary if the underlying network protocol is not IP.
Reference: [JBB92] <author> V. Jacobson, R. Braden, and D. Borman, </author> <year> (1992). </year> <title> TCP Extensions for High Performance, Internet RFC 1323 </title> . 
Reference-contexts: Some deficiencies, such as the small protocol modulus and the error recovery mechanism, have been remedied with the publishing of new protocol options such as TCP Extensions for High Performance <ref> [JBB92] </ref> and TCP Selective Acknowledgment Options [MMFR96] (although it is unclear to what extent these options will become standard practice in the future).
Reference: [MMFR96] <author> M. Mathis, J. Mahdavi, S. Floyd, and A. Romanow, </author> <year> (1996). </year> <title> TCP Selective Acknowledgment Options, Internet RFC 2018 </title> . 
Reference-contexts: Some deficiencies, such as the small protocol modulus and the error recovery mechanism, have been remedied with the publishing of new protocol options such as TCP Extensions for High Performance [JBB92] and TCP Selective Acknowledgment Options <ref> [MMFR96] </ref> (although it is unclear to what extent these options will become standard practice in the future).
Reference: [Net90] <author> A. Netravali, W. Roome, and K. </author> <month> Sabnani </month> <year> (1990). </year> <title> Design and Implementation of a HighSpeed Transport Protocol. </title> <journal> IEEE Transactions on Communications , Vol. </journal> <volume> 38, No. 11, </volume> <pages> pp. 2010-2024, </pages> <month> November. </month>
Reference: [Pax97] <author> V. Paxson, </author> <year> (1997). </year> <title> Automated Packet Trace Analysis of TCP Implementations, to appear, </title> <booktitle> Proceedings of ACM SIGCOMM 97 , Cannes, </booktitle> <address> France, </address> <month> September. </month>
Reference-contexts: Furthermore, protocol enhancements which do not require changes to the peers implementation (such as a more aggressive window growth algorithm, examined in [Hen97]), often offer only modest benefits and do not correct fundamental performance limitations of the protocol. Finally, there is a wide diversity of implementations in existence today <ref> [Pax97] </ref>, making it difficult to predict the behavior of the implementation at the peer host. A second approach for improving TCP performance is known as striping.
Reference: [Pos81] <author> J. Postel, </author> <year> (1981). </year> <title> Transmission Control Protocol. Internet RFC 793 </title> . 
Reference-contexts: In addition to dealing with large latencies, transport protocols must also contend with asymmetries in bandwidth, jitter, and error performance in the forward and reverse path. The most popular unicast transport protocol in use today, the Transmission Control Protocol (TCP) <ref> [Pos81] </ref>, is known to suffer from performance degradation in satellite and asymmetric environments [Dur96, Bal97a].
Reference: [Zha97] <author> Y. Zhang, D. DeLucia, B. Ryu, and S. </author> <title> Dao (1997). Satellite Communications in the Global Internet: Issues, Pitfalls, and Potential, </title> <address> INET 97 , Kuala Lumpur, Malaysia, </address> <month> June. </month>
Reference-contexts: In this case, an agent in the network works on behalf of a host system by, for example, altering the ACK stream in order to open up the congestion window more rapidly <ref> [Zha97] </ref>.
References-found: 21

