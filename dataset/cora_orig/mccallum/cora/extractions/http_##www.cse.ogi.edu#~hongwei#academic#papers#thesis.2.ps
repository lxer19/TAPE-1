URL: http://www.cse.ogi.edu/~hongwei/academic/papers/thesis.2.ps
Refering-URL: http://www.cse.ogi.edu/~hongwei/
Root-URL: http://www.cse.ogi.edu
Title: Dependent Types in Practical Programming  
Author: Hongwei Xi Frank Pfenning, Chair Peter Andrews Robert Harper Dana Scott 
Degree: Submitted in partial fulfillment of the requirements for the degree of Doctor of Philosophy Thesis Committee:  
Address: Pittsburgh, PA 15213  
Affiliation: Department of Mathematical Sciences Carnegie Mellon University  
Date: September 24, 1998  
Note: Version of  c fl1998 Hongwei Xi This research was partially sponsored by the Defense Advanced Research Project Agency, CSTO, under the title "The Fox Project: Advanced Development of Systems Software", ARPA Order No. C533. The views and conclusions contained in this document are those of the author and should not be inter preted as representing the official policies, either expressed or implied, of DARPA or the U.S. government. Abstract  
Abstract: Programming is a notoriously error-prone process, and a great deal of evidence in practice has demonstrated that the use of a type system in a programming language can effectively detect program errors at compile-time. Moreover, some recent studies have indicated that the use of types can lead to significant enhancement of program performance at run-time. For the sake of practicality of type-checking, most type systems developed for general purpose programming languages tend to be simple and coarse, and this leaves ample room for improvement. As an advocate of types, this thesis addresses the issue of designing a type system for practical programming in which a notion of dependent types is available, leading to more accurate capture of program invariants with types. In contrast to developing a type theory with dependent types and then designing upon it a functional programming language, we study practical methods for extending the type systems of existing programming languages with dependent types. We present an approach to enriching the type system of ML with a special form of dependent types, where type index objects are restricted to some constraint domains C, leading to the DML(C) language schema. The aim is to provide for specification and inference of significantly more precise type information compared with the current type system of ML, facilitating program error detection and compiler optimization. A major complication resulting from introducing dependent types is that pure type inference for the resulting system is no longer possible, but we show that type-checking a sufficiently annotated program in DML(C) can be reduced to constraint satisfaction in the constraint domain C. Therefore, type-checking in DML(C) can be made practical for those constraint domains C for which efficient constraint solvers can be provided. We prove that DML(C) is a conservative extension over ML, that is, a valid ML program is always valid in DML(C). Also we exhibit the unobtrusiveness of our approach through many practical examples. As a significant application, we also demonstrate the elimination of array bound checks in real code with the use of dependent types. All the examples have been verified in a prototype implementation of a type-checker for DML(C), where C is some constraint domain in which constraints are linear inequalities on integers. This is another attempt towards refining the type systems of existing programing languages, following the step of refinement types (Freeman and Pfenning 1991). 
Abstract-found: 1
Intro-found: 1
Reference: 1. <editor> If evaluation is allowed under , then the following rule must be adopted since an exception may be raised during the evaluation of e. e ,! d raise(v) (a : fl:e) ,! d raise(v) (ev-ilam-raise) However, </editor> <title> v may contain some free occurrences of a when this is applied. 126 CHAPTER 7. EFFECTS </title>
Reference-contexts: Since (9A : fl: 1 )[] is 9A : fl []: 1 [], there exists some i such that [] ` i : fl [] and [] j= 1 <ref> [ 1 ] </ref> for 1 = [A 7! i]. Clearly, [ 1 ] = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . <p> Since (9A : fl: 1 )[] is 9A : fl []: 1 [], there exists some i such that [] ` i : fl [] and [] j= 1 <ref> [ 1 ] </ref> for 1 = [A 7! i]. Clearly, [ 1 ] = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . Note (t 1 [a 7! A])[ 1 ] = (t 1 [a 7! i])[] and t [ <p> Since (9A : fl: 1 )[] is 9A : fl []: 1 [], there exists some i such that [] ` i : fl [] and [] j= 1 <ref> [ 1 ] </ref> for 1 = [A 7! i]. Clearly, [ 1 ] = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . Note (t 1 [a 7! A])[ 1 ] = (t 1 [a 7! i])[] and t [ 1 ] = t []. <p> fl: 1 )[] is 9A : fl []: 1 [], there exists some i such that [] ` i : fl [] and [] j= 1 <ref> [ 1 ] </ref> for 1 = [A 7! i]. Clearly, [ 1 ] = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . Note (t 1 [a 7! A])[ 1 ] = (t 1 [a 7! i])[] and t [ 1 ] = t []. <p> : fl []: 1 [], there exists some i such that [] ` i : fl [] and [] j= 1 <ref> [ 1 ] </ref> for 1 = [A 7! i]. Clearly, [ 1 ] = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . Note (t 1 [a 7! A])[ 1 ] = (t 1 [a 7! i])[] and t [ 1 ] = t []. <p> <ref> [ 1 ] </ref> = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . Note (t 1 [a 7! A])[ 1 ] = (t 1 [a 7! i])[] and t [ 1 ] = t [].
Reference: 2. <author> Similarly, </author> <title> we must adopt the following rule if evaluation is allowed under . letref M 1 ; M 2 in a : fl:e end ,! 0 ans letref M 1 in a : fl:letref M 2 in e end end ,! 0 ans (ev-ilam-extrusion) However, M 2 may contain some free occurrences of a when this rule is applied. </title>
Reference-contexts: ; ` e 1 (e 2 ) " 1 )[ 2 ; 1 ] ( j 2 ) ` 2 : fl ( j 2 ) ` [ctx] ; ` e 1 (e 2 ) # 2 )<ref> [ 2 ] </ref> 9 ( 1 ): ^ 1 2 Then the following [ 2 ] j= (9 ( 1 ): ^ 1 2 )[ 2 ] is derivable for some 2 such that fl : 2 holds. Note that (9 ( 1 ): ^ 1 2 )[ 2 ] = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ <p> 2 Then the following <ref> [ 2 ] </ref> j= (9 ( 1 ): ^ 1 2 )[ 2 ] is derivable for some 2 such that fl : 2 holds. Note that (9 ( 1 ): ^ 1 2 )[ 2 ] = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is <p> <ref> [ 2 ] </ref> j= (9 ( 1 ): ^ 1 2 )[ 2 ] is derivable for some 2 such that fl : 2 holds. Note that (9 ( 1 ): ^ 1 2 )[ 2 ] = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 <p> ( 1 ): ^ 1 2 )<ref> [ 2 ] </ref> is derivable for some 2 such that fl : 2 holds. Note that (9 ( 1 ): ^ 1 2 )[ 2 ] = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] <p> Note that (9 ( 1 ): ^ 1 2 )<ref> [ 2 ] </ref> = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. <p> Note that (9 ( 1 ): ^ 1 2 )<ref> [ 2 ] </ref> = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. <p> 2 )<ref> [ 2 ] </ref> = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. This implies that fl 2 [ 1 : 2 ; 1 is also derivable. <p> = 9 ( 1 ):<ref> [ 2 ] </ref> ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. This implies that fl 2 [ 1 : 2 ; 1 is also derivable. <p> ):<ref> [ 2 ] </ref> ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. This implies that fl 2 [ 1 : 2 ; 1 is also derivable. <p> and therefore <ref> [ 2 ] </ref> j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. This implies that fl 2 [ 1 : 2 ; 1 is also derivable. By induction hypothesis, []; [] ` e 1 (e 2 ) " t 2 [] ) e fl is derivable for = 2 [ 1 . <p> Since both ( j 2 ) ` [ctx] and ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) <p> Since both ( j 2 ) ` [ctx] and ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] <p> Since both ( j 2 ) ` [ctx] and ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. <p> Since both ( j 2 ) ` [ctx] and ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t <p> both ( j 2 ) ` [ctx] and ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t 1 )[ ] 1 ; ; x : t 1 <p> ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t 1 )[ ] 1 ; ; x : t 1 ` e 2 # t 2 )[ ] <p> ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t 1 )[ ] 1 ; ; x : t 1 ` e 2 # t 2 )[ ] 2 ; ` (let <p> : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t 1 )[ ] 1 ; ; x : t 1 ` e 2 # t 2 )[ ] 2 ; ` (let x = e <p> ] = <ref> [ 2 ] </ref>, [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t 1 )[ ] 1 ; ; x : t 1 ` e 2 # t 2 )[ ] 2 ; ` (let x = e 1 in e 2 end) # t 2 )[ ] 1 ^ <p> e 1 (e 2 ) # t 2 )<ref> [ 2 ] </ref> 9 ( 1 ): 1 ^ 2 Note that (9 : 1 ^ 2 )[] is 9 : 1 [] ^ 2 []. Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and [ 2 ] j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` <p> # t 2 )<ref> [ 2 ] </ref> 9 ( 1 ): 1 ^ 2 Note that (9 : 1 ^ 2 )[] is 9 : 1 [] ^ 2 []. Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and [ 2 ] j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) <p> Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 <p> Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce <p> Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; <p> Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 <p> is an existential substitution 1 such that [] ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable <p> ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. <p> 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. <p> 2 <ref> [ 2 ] </ref> is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) <p> Hence, <ref> [ 2 ] </ref> j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl <p> j= 1 <ref> [ 2 ] </ref> and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 <p> and <ref> [ 2 ] </ref> j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 <p> 2 ] ` e 1 (e 2 ) " t 1 <ref> [ 2 ] </ref> ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # <p> e 1 (e 2 ) " t 1 <ref> [ 2 ] </ref> ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ <p> Also <ref> [ 2 ] </ref> ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = <p> 2 ] ` coerce (t 1 <ref> [ 2 ] </ref>; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ <p> 2 ]; t 2 <ref> [ 2 ] </ref>) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = <p> This leads to the following. <ref> [ 2 ] </ref>; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], <p> This leads to the following. <ref> [ 2 ] </ref>; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 <p> This leads to the following. <ref> [ 2 ] </ref>; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 )j ~ = <p> <ref> [ 2 ] </ref> ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 )j ~ = je fl j ~ = jE [e fl ]j. <p> 2 ] ) e fl <ref> [ 2 ] </ref> ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 )j ~ = je fl j ~ = jE [e fl ]j. <p> <ref> [ 2 ] </ref> ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 )j ~ = je fl j ~ = jE [e fl ]j. <p> t 2 <ref> [ 2 ] </ref>) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 )j ~ = je fl j ~ = jE [e fl ]j.
Reference: 3. <author> If evaluation is allowed under fl, </author> <title> then we need the following rule since an exception may be raised during the evaluation of e. e ,! d raise(v) (flff:e) ,! d raise(v) (ev-poly-raise) The problem is that v may contain some free occurrences of ff. </title>

Reference: 1. <institution> If both ` i : fl and ; a : fl; ; ` e : t are derivable, </institution> <note> then ; ; [a 7! i] ` e[a 7! i] : t [a 7! i] is also derivable. </note>
Reference-contexts: Since (9A : fl: 1 )[] is 9A : fl []: 1 [], there exists some i such that [] ` i : fl [] and [] j= 1 <ref> [ 1 ] </ref> for 1 = [A 7! i]. Clearly, [ 1 ] = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . <p> Since (9A : fl: 1 )[] is 9A : fl []: 1 [], there exists some i such that [] ` i : fl [] and [] j= 1 <ref> [ 1 ] </ref> for 1 = [A 7! i]. Clearly, [ 1 ] = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . Note (t 1 [a 7! A])[ 1 ] = (t 1 [a 7! i])[] and t [ <p> Since (9A : fl: 1 )[] is 9A : fl []: 1 [], there exists some i such that [] ` i : fl [] and [] j= 1 <ref> [ 1 ] </ref> for 1 = [A 7! i]. Clearly, [ 1 ] = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . Note (t 1 [a 7! A])[ 1 ] = (t 1 [a 7! i])[] and t [ 1 ] = t []. <p> fl: 1 )[] is 9A : fl []: 1 [], there exists some i such that [] ` i : fl [] and [] j= 1 <ref> [ 1 ] </ref> for 1 = [A 7! i]. Clearly, [ 1 ] = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . Note (t 1 [a 7! A])[ 1 ] = (t 1 [a 7! i])[] and t [ 1 ] = t []. <p> : fl []: 1 [], there exists some i such that [] ` i : fl [] and [] j= 1 <ref> [ 1 ] </ref> for 1 = [A 7! i]. Clearly, [ 1 ] = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . Note (t 1 [a 7! A])[ 1 ] = (t 1 [a 7! i])[] and t [ 1 ] = t []. <p> <ref> [ 1 ] </ref> = []. By induction hypothesis, [ 1 ] ` coerce (t [ 1 ]; t 0 [ 1 ]) ) E 1 is derivable for some evaluation context E 1 . Note (t 1 [a 7! A])[ 1 ] = (t 1 [a 7! i])[] and t [ 1 ] = t [].
Reference: 2. <institution> If both ` t : fl and ; ; ff; ` e : are derivable, </institution> <note> then ; ; [ff 7! t ] ` e[ff 7! t ] : [ff 7! t ] is also derivable. </note>
Reference-contexts: ; ` e 1 (e 2 ) " 1 )[ 2 ; 1 ] ( j 2 ) ` 2 : fl ( j 2 ) ` [ctx] ; ` e 1 (e 2 ) # 2 )<ref> [ 2 ] </ref> 9 ( 1 ): ^ 1 2 Then the following [ 2 ] j= (9 ( 1 ): ^ 1 2 )[ 2 ] is derivable for some 2 such that fl : 2 holds. Note that (9 ( 1 ): ^ 1 2 )[ 2 ] = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ <p> 2 Then the following <ref> [ 2 ] </ref> j= (9 ( 1 ): ^ 1 2 )[ 2 ] is derivable for some 2 such that fl : 2 holds. Note that (9 ( 1 ): ^ 1 2 )[ 2 ] = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is <p> <ref> [ 2 ] </ref> j= (9 ( 1 ): ^ 1 2 )[ 2 ] is derivable for some 2 such that fl : 2 holds. Note that (9 ( 1 ): ^ 1 2 )[ 2 ] = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 <p> ( 1 ): ^ 1 2 )<ref> [ 2 ] </ref> is derivable for some 2 such that fl : 2 holds. Note that (9 ( 1 ): ^ 1 2 )[ 2 ] = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] <p> Note that (9 ( 1 ): ^ 1 2 )<ref> [ 2 ] </ref> = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. <p> Note that (9 ( 1 ): ^ 1 2 )<ref> [ 2 ] </ref> = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. <p> 2 )<ref> [ 2 ] </ref> = 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. This implies that fl 2 [ 1 : 2 ; 1 is also derivable. <p> = 9 ( 1 ):<ref> [ 2 ] </ref> ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. This implies that fl 2 [ 1 : 2 ; 1 is also derivable. <p> ):<ref> [ 2 ] </ref> ^ 1 [ 2 ] 2 [ 2 ]; and therefore [ 2 ] j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. This implies that fl 2 [ 1 : 2 ; 1 is also derivable. <p> and therefore <ref> [ 2 ] </ref> j= 9 ( 1 ):[ 2 ] ^ 1 [ 2 ] 2 [ 2 ] is derivable. This means that ([ 2 ] j= [ 2 ]^ 1 [ 2 ] 2 [ 2 ])[ 1 ] is derivable for some 1 such that [ 2 ] ` 1 : 1 holds. This implies that fl 2 [ 1 : 2 ; 1 is also derivable. By induction hypothesis, []; [] ` e 1 (e 2 ) " t 2 [] ) e fl is derivable for = 2 [ 1 . <p> Since both ( j 2 ) ` [ctx] and ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) <p> Since both ( j 2 ) ` [ctx] and ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] <p> Since both ( j 2 ) ` [ctx] and ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. <p> Since both ( j 2 ) ` [ctx] and ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t <p> both ( j 2 ) ` [ctx] and ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t 1 )[ ] 1 ; ; x : t 1 <p> ( j 2 ) ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t 1 )[ ] 1 ; ; x : t 1 ` e 2 # t 2 )[ ] <p> ` t 2 : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t 1 )[ ] 1 ; ; x : t 1 ` e 2 # t 2 )[ ] 2 ; ` (let <p> : fl are derivable, we have [] = <ref> [ 2 ] </ref>[ 1 ] = [ 2 ], [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t 1 )[ ] 1 ; ; x : t 1 ` e 2 # t 2 )[ ] 2 ; ` (let x = e <p> ] = <ref> [ 2 ] </ref>, [] = [ 2 ][ 1 ] = [ 2 ], and t 2 [] = t 2 [ 2 ][ 1 ] = t 2 [ 2 ]. Therefore, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 2 [ 2 ] ) e fl is derivable. ; ` e 1 " t 1 )[ ] 1 ; ; x : t 1 ` e 2 # t 2 )[ ] 2 ; ` (let x = e 1 in e 2 end) # t 2 )[ ] 1 ^ <p> e 1 (e 2 ) # t 2 )<ref> [ 2 ] </ref> 9 ( 1 ): 1 ^ 2 Note that (9 : 1 ^ 2 )[] is 9 : 1 [] ^ 2 []. Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and [ 2 ] j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` <p> # t 2 )<ref> [ 2 ] </ref> 9 ( 1 ): 1 ^ 2 Note that (9 : 1 ^ 2 )[] is 9 : 1 [] ^ 2 []. Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and [ 2 ] j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) <p> Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 <p> Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce <p> Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; <p> Hence, there is an existential substitution 1 such that [] ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 <p> is an existential substitution 1 such that [] ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable <p> ` 1 fl 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. <p> 1 holds and <ref> [ 2 ] </ref> j= 1 [ 2 ] ^ 2 [ 2 ] is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. <p> 2 <ref> [ 2 ] </ref> is derivable for 2 = ; 1 . Hence, [ 2 ] j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) <p> Hence, <ref> [ 2 ] </ref> j= 1 [ 2 ] and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl <p> j= 1 <ref> [ 2 ] </ref> and [ 2 ] j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 <p> and <ref> [ 2 ] </ref> j= 2 [ 2 ] are derivable. By induction hypothesis, [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 <p> 2 ] ` e 1 (e 2 ) " t 1 <ref> [ 2 ] </ref> ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # <p> e 1 (e 2 ) " t 1 <ref> [ 2 ] </ref> ) e fl is derivable. Also [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ <p> Also <ref> [ 2 ] </ref> ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = <p> 2 ] ` coerce (t 1 <ref> [ 2 ] </ref>; t 2 [ 2 ]) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ <p> 2 ]; t 2 <ref> [ 2 ] </ref>) ) E is derivable for some E by Theorem 5.2.5. This leads to the following. [ 2 ]; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = <p> This leads to the following. <ref> [ 2 ] </ref>; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], <p> This leads to the following. <ref> [ 2 ] </ref>; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 <p> This leads to the following. <ref> [ 2 ] </ref>; [ 2 ] ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 )j ~ = <p> <ref> [ 2 ] </ref> ` e 1 (e 2 ) " t 1 [ 2 ] ) e fl [ 2 ] ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 )j ~ = je fl j ~ = jE [e fl ]j. <p> 2 ] ) e fl <ref> [ 2 ] </ref> ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 )j ~ = je fl j ~ = jE [e fl ]j. <p> <ref> [ 2 ] </ref> ` coerce (t 1 [ 2 ]; t 2 [ 2 ]) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 )j ~ = je fl j ~ = jE [e fl ]j. <p> t 2 <ref> [ 2 ] </ref>) ) E [ 2 ]; [ 2 ] ` e 1 (e 2 ) # t 2 [ 2 ] ) E [e fl ] (elrule-app-down) Note that [] = [ 2 ], [] = [ 2 ] and t 2 [] = t 2 [ 2 ], and je 1 (e 2 )j ~ = je fl j ~ = jE [e fl ]j.

References-found: 5

