URL: http://www.cs.arizona.edu/people/tods/accepted/1997/HellersteinOptimization.ps
Refering-URL: http://www.cs.arizona.edu/people/tods/Upcoming.html
Root-URL: http://www.cs.arizona.edu
Title: Optimization Techniques For Queries with Expensive Methods  
Author: JOSEPH M. HELLERSTEIN 
Keyword: Categories and Subject Descriptors: H.2.4 [Database Management]: Systems|Query Processing General Terms: Query Optimization, Expensive Methods Additional Key Words and Phrases: Object-Relational databases, extensibility, Predicate Migration, predicate placement  
Address: Berkeley  
Affiliation: U.C.  
Abstract: Object-Relational database management systems allow knowledgeable users to define new data types, as well as new methods (operators) for the types. This flexibility produces an attendant complexity, which must be handled in new ways for an Object-Relational database management system to be efficient. In this paper we study techniques for optimizing queries that contain time-consuming methods. The focus of traditional query optimizers has been on the choice of join methods and orders; selections have been handled by "pushdown" rules. These rules apply selections in an arbitrary order before as many joins as possible, using the assumption that selection takes no time. However, users of Object-Relational systems can embed complex methods in selections. Thus selections may take significant amounts of time, and the query optimization model must be enhanced. In this paper, we carefully define a query cost framework that incorporates both selectivity and cost estimates for selections. We develop an algorithm called Predicate Migration, and prove that it produces optimal plans for queries with expensive methods. We then describe our implementation of Predicate Migration in the commercial Object-Relational database management system Illustra, and discuss practical issues that affect our earlier assumptions. We compare Predicate Migration to a variety of simpler optimization techniques, and demonstrate that Predicate Migration is the best general solution to date. The alternative techniques we present may be useful for constrained workloads. Preliminary versions of this work appeared in Proceedings ACM-SIGMOD International Conference on Management of Data, 1993 and 1994. This work was funded in part by a National Science Foundation Graduate Fellowship. Any opinions, findings, conclusions or recommendations expressed in this publication are those of the author and do not necessarily reflect the views of the National Science Foundation. This work was also funded by NSF grant IRI-9157357. This is a preliminary release of an article accepted by ACM Transactions on Database Systems. The definitive version is currently in production at ACM and, when released, will supersede this version. Address: Author's current address: University of California, Berkeley, EECS Computer Science Division, 387 Soda Hall #1776, Berkeley, California, 94720-1776. Email: jmh@cs.berkeley.edu. Web: http://www.cs.berkeley.edu/~jmh/. ACM Copyright Notice: Copyright 1997 by the Association for Computing Machinery, Inc. Permission to make digital or hard copies of part or all of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or direct commercial advantage and that copies show this notice on the first page or initial screen of a display along with the full citation. Copyrights for components of this work owned by others than ACM must be honored. Abstracting with credit is permitted. To copy otherwise, to republish, to post on servers, to redistribute to lists, or to use any component of this work in other works, requires prior specific permission and/or a fee. Permissions may be requested from Publications Dept, ACM Inc., 1515 Broadway, New York, NY 10036 USA, fax +1 (212) 869-0481, or permissions@acm.org. 
Abstract-found: 1
Intro-found: 1
Reference: <author> Bitton, D., DeWitt, D. J., and Turbyfill, C. </author> <year> 1983. </year> <title> Benchmarking database systems, a systematic approach. </title> <booktitle> In Proc. 9th International Conference on Very Large Data Bases (Florence, </booktitle> <address> Italy, </address> <month> Oct. </month> <year> 1983). </year> <note> 34 J.M. </note> <author> Hellerstein Boulos, J., Vi emont, Y., and Ono, K. </author> <year> 1997. </year> <title> Analytical Models and Neural Networks for Query Cost Evaluation. </title> <booktitle> In Proc. 3rd International Workshop on Next Generation Information Technology Systems (Neve Ilan, </booktitle> <address> Israel, </address> <year> 1997). </year>
Reference: <author> Carey, M. J., DeWitt, D. J., Kant, C., and Naughton, J. F. </author> <year> 1994. </year> <title> A Status Report on the OO7 OODBMS Benchmarking Effort. </title> <booktitle> In Proc. Conference on Object-Oriented Programming Systems, Languages, and Applications (Portland, </booktitle> <month> Oct. </month> <year> 1994), </year> <pages> pp. 414-426. </pages>
Reference: <author> Cattell, R. </author> <year> 1994. </year> <title> The Object Database Standard: ODMG-93 (Release 1.1). </title> <publisher> Morgan Kauf-mann, </publisher> <address> San Mateo, CA. </address>
Reference: <author> Chaudhuri, S. and Shim, K. </author> <year> 1993. </year> <title> Query Optimization in the Presence of Foreign Functions. </title> <booktitle> In Proc. 19th International Conference on Very Large Data Bases (Dublin, </booktitle> <month> Aug. </month> <year> 1993), </year> <pages> pp. 526-541. </pages>
Reference: <author> Chen, H., Yu, X., Yamaguchi, K., Kitagawa, H., Ohbo, N., and Fujiwara, Y. </author> <year> 1992. </year> <title> Decomposition | An Approach for Optimizing Queries Including ADT Functions. </title> <journal> Information Processing Letters 43, </journal> <volume> 6, </volume> <pages> 327-333. </pages>
Reference: <author> Chimenti, D., Gamboa, R., and Krishnamurthy, R. </author> <year> 1989. </year> <title> Towards an Open Architecture for LDL. </title> <booktitle> In Proc. 15th International Conference on Very Large Data Bases (Amsterdam, </booktitle> <month> Aug. </month> <year> 1989), </year> <pages> pp. 195-203. </pages>
Reference: <author> Dayal, U. </author> <year> 1987. </year> <title> Of Nests and Trees: A Unified Approach to Processing Queries that Contain Nested Subqueries, Aggregates, and Quantifiers. </title> <booktitle> In Proc. 13th International Conference on Very Large Data Bases (Brighton, </booktitle> <month> Sept. </month> <year> 1987), </year> <pages> pp. 197-208. </pages>
Reference: <author> Du, W., Krishnamurthy, R., and Shan, M.-C. </author> <year> 1992. </year> <title> Query Optimization in Heterogeneous DBMS. </title> <booktitle> In Proc. 18th International Conference on Very Large Data Bases (Vancou-ver, </booktitle> <month> Aug. </month> <year> 1992), </year> <pages> pp. 277-291. </pages>
Reference: <author> Faloutsos, C. and Kamel, I. </author> <year> 1994. </year> <title> Beyond Uniformity and Independence: Analysis of R-trees Using the Concept of Fractal Dimension. </title> <booktitle> In Proc. 13th ACM SIGACT-SIGMOD-SIGART Symposium on Principles of Database Systems (Minneapolis, </booktitle> <month> May </month> <year> 1994), </year> <pages> pp. 4-13. </pages>
Reference: <author> Frew, J. </author> <year> 1995. </year> <type> Personal correspondence. </type>
Reference: <author> Gray, J. Ed. </author> <year> 1991. </year> <title> The Benchmark Handbook: For Database and Transaction Processing Systems. </title> <publisher> Morgan-Kaufmann Publishers, Inc. </publisher>
Reference: <author> Gray, J. </author> <year> 1995. </year> <type> Personal correspondence. </type>
Reference: <author> Haas, P. J., Naughton, J. F., Seshadri, S., and Stokes, L. </author> <year> 1995. </year> <title> Sampling-Based Estimation of the Number of Distinct Values of an Attribute. </title> <booktitle> In Proc. 21st International Conference on Very Large Data Bases (Zurich, </booktitle> <month> Sept. </month> <year> 1995). </year>
Reference: <author> Hellerstein, J. M. </author> <year> 1994. </year> <title> Practical Predicate Placement. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Minneapolis, </booktitle> <month> May </month> <year> 1994), </year> <pages> pp. 325-335. </pages>
Reference: <author> Hellerstein, J. M. and Naughton, J. F. </author> <year> 1996. </year> <title> Query Execution Techniques for Caching Expensive Methods. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Montreal, </booktitle> <month> June </month> <year> 1996), </year> <pages> pp. 423-424. </pages>
Reference: <author> Hellerstein, J. M. and Stonebraker, M. </author> <year> 1993. </year> <title> Predicate Migration: Optimizing Queries With Expensive Predicates. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Washington, </booktitle> <address> D.C., </address> <month> May </month> <year> 1993), </year> <pages> pp. 267-276. </pages>
Reference: <author> Hong, W. and Stonebraker, M. </author> <year> 1993. </year> <title> Optimization of Parallel Query Execution Plans in XPRS. Distributed and Parallel Databases, </title> <note> An International Journal 1, </note> <month> 1 (Jan.), </month> <pages> 9-32. </pages>
Reference: <author> Hou, W.-C., Ozsoyoglu, G., and Taneja, B. K. </author> <year> 1988. </year> <title> Statistical Estimators for Relational Algebra Expressions. </title> <booktitle> In Proc. 7th ACM SIGACT-SIGMOD-SIGART Symposium on Principles of Database Systems (Austin, </booktitle> <month> March </month> <year> 1988), </year> <pages> pp. 276-287. </pages>
Reference: <author> Ibaraki, T. and Kameda, T. </author> <year> 1984. </year> <title> Optimal Nesting for Computing N-relational Joins. </title> <journal> ACM Transactions on Database Systems 9, </journal> <volume> 3 (Oct.), </volume> <pages> 482-502. </pages> <institution> Illustra Information Technologies, Inc. </institution> <year> 1994. </year> <title> Illustra User's Guide, Illustra Server Release 2.1. Illustra Information Technologies, </title> <publisher> Inc. </publisher>
Reference: <author> Ioannidis, Y. and Christodoulakis, S. </author> <year> 1991. </year> <title> On the Propagation of Errors in the Size of Join Results. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Denver, </booktitle> <month> June </month> <year> 1991), </year> <pages> pp. </pages> <month> 268-277. </month> <title> Optimization Techniques For Queries with Expensive Methods 35 Ioannidis, </title> <editor> Y. and Poosala, V. </editor> <year> 1995. </year> <title> Balancing Histogram Optimality and Practicality for Query Result Size Estimation. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (San Jose, </booktitle> <month> May </month> <year> 1995), </year> <pages> pp. 233-244. </pages>
Reference: <author> Ioannidis, Y. E. and Kang, Y. C. </author> <year> 1990. </year> <title> Randomized Algorithms for Optimizing Large Join Queries. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Atlantic City, </booktitle> <month> May </month> <year> 1990), </year> <pages> pp. 312-321. </pages> <institution> ISO ANSI. </institution> <year> 1993. </year> <title> Database Language SQL ISO/IEC 9075:1992. </title>
Reference: <author> Kemper, A., Moerkotte, G., Peithner, K., and Steinbrunn, M. </author> <year> 1994. </year> <title> Optimizing Disjunctive Queries with Expensive Predicates. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Minneapolis, </booktitle> <month> May </month> <year> 1994), </year> <pages> pp. 336-347. </pages>
Reference: <author> Kim, W. </author> <year> 1993. </year> <title> Object-Oriented Database Systems: Promises, Reality, and Future. </title> <booktitle> In Proc. 19th International Conference on Very Large Data Bases (Dublin, </booktitle> <month> Aug. </month> <year> 1993), </year> <pages> pp. 676-687. </pages>
Reference: <author> Krishnamurthy, R., Boral, H., and Zaniolo, C. </author> <year> 1986. </year> <title> Optimization of Nonrecursive Queries. </title> <booktitle> In Proc. 12th International Conference on Very Large Data Bases (Kyoto, </booktitle> <month> Aug. </month> <year> 1986), </year> <pages> pp. 128-137. </pages>
Reference: <author> Krishnamurthy, R. and Zaniolo, C. </author> <year> 1988. </year> <title> Optimization in a Logic Based Language for Knowledge and Data Intensive Applications. </title> <editor> In J. W. Schmidt, S. Ceri, and M. Missikoff Eds., </editor> <booktitle> Proc. International Conference on Extending Data Base Technology, Advances in Database Technology - EDBT '88. Lecture Notes in Computer Science, Volume 303 (Venice, </booktitle> <address> March 1988). </address> <publisher> Springer-Verlag. </publisher>
Reference: <author> Levy, A. Y., Mumick, I. S., and Sagiv, Y. </author> <year> 1994. </year> <title> Query Optimization by Predicate Move-Around. </title> <booktitle> In Proc. 20th International Conference on Very Large Data Bases (Santiago, </booktitle> <month> Sept. </month> <year> 1994), </year> <pages> pp. 96-107. </pages>
Reference: <author> Lipton, R. J., Naughton, J. F., Schneider, D. A., and Seshadri, S. </author> <year> 1993. </year> <title> Efficient Sampling Strategies for Relational Database Operations. </title> <booktitle> Theoretical Computer Science 116, </booktitle> <pages> 195-226. </pages>
Reference: <author> Lohman, G. M. </author> <year> 1995. </year> <type> Personal correspondence. </type>
Reference: <author> Lohman, G. M., Daniels, D., Haas, L. M., Kistler, R., and Selinger, P. G. </author> <year> 1984. </year> <title> Optimization of Nested Queries in a Distributed Relational Database. </title> <booktitle> In Proc. 10th International Conference on Very Large Data Bases (Singapore, </booktitle> <month> Aug. </month> <year> 1984), </year> <pages> pp. 403-415. </pages>
Reference: <author> Lohman, G. M. and Haas, L. M. </author> <year> 1993. </year> <type> Personal correspondence. </type>
Reference: <author> Lynch, C. and Stonebraker, M. </author> <year> 1988. </year> <title> Extended User-Defined Indexing with Application to Textual Databases. </title> <booktitle> In Proc. 14th International Conference on Very Large Data Bases (Los Angeles, </booktitle> <address> Aug.-Sept. </address> <year> 1988), </year> <pages> pp. 306-317. </pages>
Reference: <author> Mackert, L. F. and Lohman, G. M. </author> <year> 1986b. </year> <title> R* Optimizer Validation and Performance Evaluation for Distributed Queries. </title> <booktitle> In Proc. 12th International Conference on Very Large Data Bases (Kyoto, </booktitle> <month> Aug. </month> <year> 1986), </year> <pages> pp. 149-159. </pages>
Reference: <author> Mackert, L. F. and Lohman, G. M. </author> <year> 1986a. </year> <title> R* Optimizer Validation and Performance Evaluation for Local Queries. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Washington, </booktitle> <address> D.C., </address> <month> May </month> <year> 1986), </year> <pages> pp. 84-95. </pages>
Reference: <author> Maier, D. and Stein, J. </author> <year> 1986. </year> <title> Indexing in an Object-Oriented DBMS. </title> <editor> In K. R. Dittrich and U. Dayal Eds., </editor> <booktitle> Proc. Workshop on Object-Oriented Database Systems (Asilomar, </booktitle> <month> Sept. </month> <year> 1986), </year> <pages> pp. 171-182. </pages>
Reference: <author> Monma, C. L. and Sidney, J. </author> <year> 1979. </year> <title> Sequencing with Series-Parallel Precedence Constraints. </title> <journal> Mathematics of Operations Research 4, </journal> <pages> 215-224. </pages>
Reference: <author> Naughton, J. </author> <year> 1993. </year> <booktitle> Presentation at Fifth International High Performance Transaction Workshop. </booktitle>
Reference: <author> Palermo, F. P. </author> <year> 1974. </year> <title> A Data Base Search Problem. </title> <editor> In J. T. Tou Ed., </editor> <title> Information Systems COINS IV . New York: </title> <publisher> Plenum Press. </publisher>
Reference: <author> Pirahesh, H. </author> <year> 1994. </year> <title> Object-Oriented Features of DB2 Client/Server. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Minneapolis, </booktitle> <month> May </month> <year> 1994), </year> <pages> pp. 483. </pages>
Reference: <author> Pirahesh, H., Hellerstein, J. M., and Hasan, W. </author> <year> 1992. </year> <title> Extensible/Rule-Based Query Rewrite Optimization in Starburst. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on 36 J.M. Hellerstein Management of Data (San Diego, </booktitle> <month> June </month> <year> 1992), </year> <pages> pp. 39-48. </pages>
Reference: <author> Poosala, V. and Ioannidis, Y. </author> <year> 1996. </year> <title> Estimation of Query-Result Distribution and its Application in Parallel-Join Load Balancing. </title> <booktitle> In Proc. 22nd International Conference on Very Large Data Bases (Bombay, </booktitle> <month> Sept. </month> <year> 1996). </year>
Reference: <author> Poosala, V., Ioannidis, Y. E., Haas, P. J., and Shekita, E. J. </author> <year> 1996. </year> <title> Selectivity Estimation of Range Predicates Using Histograms. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Montreal, </booktitle> <month> June </month> <year> 1996). </year>
Reference: <author> Raab, F. </author> <year> 1995. </year> <title> "TPC Benchmark D Standard Specification, Revision 1.0". Transaction Processing Performance Council. </title>
Reference: <author> Scheufele, W. and Moerkotte, G. </author> <year> 1997. </year> <title> On the Complexity of Generating Optimal Plans with Cross Products. </title> <booktitle> In Proc. 16th ACM SIGACT-SIGMOD-SIGART Symposium on Principles of Database Systems (Tucson, </booktitle> <month> May </month> <year> 1997), </year> <pages> pp. 238-248. </pages>
Reference: <author> Selinger, P. G., Astrahan, M., Chamberlin, D., Lorie, R., and Price, T. </author> <year> 1979. </year> <title> Access Path Selection in a Relational Database Management System. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Boston, </booktitle> <month> June </month> <year> 1979), </year> <pages> pp. 22-34. </pages>
Reference: <author> Seshadri, P., Hellerstein, J. M., Pirahesh, H., Leung, T. C., Ramakrishnan, R., Sri-vastava, D., Stuckey, P. J., and Sudarshan, S. </author> <year> 1996. </year> <title> Cost-Based Optimization for Magic: Algebra and Implementation. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Montreal, </booktitle> <month> June </month> <year> 1996), </year> <pages> pp. 435-446. </pages>
Reference: <author> Seshadri, P., Pirahesh, H., and Leung, T. C. </author> <year> 1996. </year> <title> Complex Query Decorrelation. </title> <booktitle> In Proc. 12th IEEE International Conference on Data Engineering (New Orleans, </booktitle> <month> Feb. </month> <year> 1996). </year>
Reference: <author> Shapiro, L. D. </author> <year> 1986. </year> <title> Join Processing in Database Systems with Large Main Memories. </title> <journal> ACM Transactions on Database Systems 11, </journal> <volume> 3 (Sept.), </volume> <pages> 239-264. </pages>
Reference: <author> Smith, W. E. </author> <year> 1956. </year> <title> Various Optimizers For Single-Stage Production. </title> <journal> Naval Res. Logist. Quart. </journal> <volume> 3, </volume> <pages> 59-66. </pages>
Reference: <author> Steinbrunn, M., Peithner, K., Moerkotte, G., and Kemper, A. </author> <year> 1995. </year> <title> Bypassing Joins in Disjunctive Queries. </title> <booktitle> In Proc. 21st International Conference on Very Large Data Bases (Zurich, </booktitle> <month> Sept. </month> <year> 1995). </year>
Reference: <author> Stonebraker, M. </author> <year> 1991. </year> <title> Managing Persistent Objects in a Multi-Level Store. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Denver, </booktitle> <month> June </month> <year> 1991), </year> <pages> pp. 2-11. </pages>
Reference: <author> Stonebraker, M., Frew, J., Gardels, K., and Meredith, J. </author> <year> 1993. </year> <title> The Sequoia 2000 Storage Benchmark. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Washington, </booktitle> <address> D.C., </address> <month> May </month> <year> 1993), </year> <pages> pp. 2-11. </pages>
Reference: <author> Stonebraker, M. and Kemnitz, G. </author> <year> 1991. </year> <title> The POSTGRES Next-Generation Database Management System. </title> <journal> Communications of the ACM 34, </journal> <volume> 10, </volume> <pages> 78-92. </pages>
Reference: <author> Swami, A. and Gupta, A. </author> <year> 1988. </year> <title> Optimization of Large Join Queries. </title> <booktitle> In Proc. ACM-SIGMOD International Conference on Management of Data (Chicago, </booktitle> <month> June </month> <year> 1988), </year> <pages> pp. 8-17. </pages>
Reference: <author> Swami, A. and Iyer, B. R. </author> <year> 1992. </year> <title> A Polynomial Time Algorithm for Optimizing Join Queries. </title> <note> Research Report RJ 8812 (June), </note> <institution> IBM Almaden Research Center. </institution>
Reference: <author> Turbyfill, C., Orji, C., and Bitton, D. </author> <year> 1989. </year> <title> AS 3 AP A Comparative Relational Database Benchmark. </title> <booktitle> In Proc. IEEE Compcon Spring '89 (Feb. </booktitle> <year> 1989). </year>
Reference: <author> Wong, E. and Youssefi, K. </author> <year> 1976. </year> <title> Decomposition A Strategy for Query Processing. </title> <journal> ACM Transactions on Database Systems 1, </journal> <volume> 3 (September), </volume> <pages> 223-241. </pages>

References-found: 56

