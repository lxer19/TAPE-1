URL: http://www-imagis.imag.fr/Membres/Fredo.Durand/PUBLI/cccg97.ps.gz
Refering-URL: http://www-imagis.imag.fr/Membres/Fredo.Durand/PUBLI/cccg97.html
Root-URL: http://www.imag.fr
Title: The 3D Visibility Complex: a unified data-structure for global visibility of scenes of polygons and
Author: Fr edo Durand, George Drettakis and Claude Puech iMAGIS-GRAVIR/INRIA 
Note: This theoretical work has already been used to define a practical data-structure, the Visibility Skeleton described in a companion paper.  
Abstract: In this paper we describe a unified data-structure, the 3D Visibility Complex which encodes the visibility information of a 3D scene of polygons and smooth convex objects. This data-structure is a partition of the maximal free segments and is based on the characterization of the topological changes of visibility along critical line sets. We show that the size k of the complex is (n) and O(n 4 ) and we give an output sensitive algorithm to build it in time O((n 3 + k) log n). 
Abstract-found: 1
Intro-found: 1
Reference: [CEG + 96] <author> B. Chazelle, H. Edelsbrunner, L. J. Guibas, M. Sharir, and J. Stolfi. </author> <title> Lines in space: combinatorics and algorithms. </title> <journal> Al-gorithmica, </journal> <volume> 15 </volume> <pages> 428-447, </pages> <year> 1996. </year>
Reference-contexts: It is an oriented projective 5D dual space in which lines of space are naturally and linearly embedded (lines intersecting a given line are associated with hyperplanes). Its main drawback is the necessity of an intersection with the Plucker hypersurface <ref> [CEG + 96, Pel90] </ref>. The scenes considered have always been polygonal and are mainly restricted to isothetic or c-oriented polygons. (In fact there exists a few results on ray-shooting with spheres involving parametric search without Plucker coordinates [MS97]).
Reference: [DDP96] <author> F. Durand, G. Drettakis, and C. Puech. </author> <title> The 3d visibility complex, a new approach to the problems of accurate visibility. </title> <booktitle> In Proc. of 7th Eurographics Workshop on Rendering in Porto, </booktitle> <address> Portugal, </address> <month> June </month> <year> 1996. </year>
Reference-contexts: This structure is a partition of the set of maximal free segments according to the object they touch. Optimal construction algorithms have been developed for smooth convex objects [PV96] as well as polygons [Riv97] and used for lighting simulation [ORDP96]. In <ref> [DDP96] </ref> we introduced the 3D Visibility Complex for scenes of convex smooth objects (the polygonal case was simply mentioned). An O (n 4 log n) brute-force algorithm was roughly sketched, and applications for lighting simulation, walkthroughs and aspect graph computation were proposed. <p> This can be seen as a unification of the spaces used by Plantinga and Dyer [PD90]: in the orthographic case they deal with a 4D space and in the perspective case with a 5D space. We use the same parameterization for lines as <ref> [PD90, DDP96] </ref>: they are represented by two coordinates of direction, the angles (azimuth) and ' (elevation) which are the spherical coordinates of the director vector, and the coordinates (u; v) of the projection onto the plane perpendicular to the line and going through the origin (the axes of of the plane <p> There is also a different kind of multilocal event that was not described in <ref> [DDP96] </ref>. A segment can be tangent to two objects and belong to one of their common tangent planes. In this case, the common tangent plane adds one codimension and we use the notation ++. <p> For example a 1-face T 1 +T 2 +T 3 is adjacent to five 2-faces: two faces T 1 + T 2 (there are two different faces because one extremity of the segments can lie on the object tangent at T 2 or not. See <ref> [DDP96] </ref>), T 1 + T 3 and two T 2 + T 3 . Each 4-face is adjacent to at least one 3-face, a 3-face to at least one 2-face, and a 2-face to at least one 1-face. We just sketch the demonstration.
Reference: [DDP97] <author> F. Durand, G. Drettakis, and C. Puech. </author> <title> The visibility skeleton: A powerful and efficient multi-purpose global visibility tool. </title> <booktitle> Computer Graphics (Siggraph'97 Proceedings), </booktitle> <year> 1997. </year>
Reference-contexts: We derive bounds for the size of the complex and present an output sensitive construction algorithm. Moreover, the formalism described in this article has been used to develop and implement a global visibility data-structure called the Visibility Skeleton <ref> [DDP97] </ref>. It is a simplified version of the 3D visibility complex for polygonal scenes built using a brute-force algorithm. 2 Scenes and maximal free segments We consider scenes of polygons and algebraic smooth convex objects. <p> This explains its size: O (n 6 ) in the orthographic case where the viewing space is S 2 and O (n 9 ) in the perspective case where the viewing space is R 3 . In <ref> [DDP97] </ref> we presented a data-structure called the Visibility Skeleton which corresponds to the graph of the 0 and 1-faces of the visibility complex. <p> The output-sensitive nature of this algorithm is very important since experiments on a few polygonal scenes <ref> [DDP97] </ref> have shown that the number of T + T + T + T segments which is responsible of the theoretical O (n 4 ) is in fact much less than the number of T + T + V segments. 6 Conclusions and future work We have introduced a unified data
Reference: [DF94] <author> G. Drettakis and E. Fiume. </author> <title> A fast shadow algorithm for area light sources using back projection. </title> <booktitle> In Computer Graphics Proceedings, Annual Conference Series: SIGGRAPH '94 (Or-lando, </booktitle> <address> FL), </address> <month> July </month> <year> 1994. </year>
Reference-contexts: This characterizes the visibility of a light source. Initially only a subset of discontinuities where computed (e.g., [LTG93]), followed by algorithms computing all the discontinuities, together with a structure, the backpro-jection, which encodes the topological aspect of the light source <ref> [DF94, SG94] </ref>. These approaches are nonetheless restricted to a single light-source at a time. Recently, a data-structure which encodes all the visibility information of a 2D scene called the Visibility Complex has been defined [PV96].
Reference: [EBD92] <author> D. Eggert, K. Bowyer, and C. Dyer. </author> <title> Aspect graphs: </title> <booktitle> State-of-the-art and applications in digital photogrammetry. In Proceedings of the 17th Congress of the Int. Society for Photogramme-try and Remote Sensing, </booktitle> <year> 1992. </year>
Reference-contexts: The viewing space (S 2 for orthographic projection, R 3 for perspective projection) is partitioned along visual events. Construction algorithms have been developed for polygons and algebraic objects, both for orthographic and perspective projection, and some of them have been implemented; see <ref> [EBD92] </ref> for a good survey. A main drawback of aspect graphs is their size: O (n 6 ) for orthographic projection, and O (n 9 ) for perspective projection. To build the aspect graph, Plantinga and Dyer [PD90] defined an intermediate data structure called the asp. <p> Consider a rectangle in each of the four sets: there is always a T + T + T + T critical segment. j u q (a) (b (c) sweep (c) ' sweep. Visual events considered in the aspect graph literature <ref> [EBD92, PD90] </ref> correspond to the 1-faces of the visibility complex. For example the topology of a view changes when a vertex and an edge are aligned from the viewpoint. The aspect graph is in fact the arrangement of those events in the viewing space.
Reference: [LTG93] <author> D. Lischinski, F. Tampieri, and D. Greenberg. </author> <title> Combining hierarchical radiosity and discontinuity meshing. </title> <booktitle> In Computer Graphics Proceedings, Annual Conference Series: </booktitle> <address> SIG-GRAPH '93 (Anaheim, CA, USA), </address> <month> August </month> <year> 1993. </year>
Reference-contexts: In lighting simulation, researchers have computed the dis-continuities of the lighting function (which correspond to the limits of umbra and penumbra) also called discontinuity meshes. This characterizes the visibility of a light source. Initially only a subset of discontinuities where computed (e.g., <ref> [LTG93] </ref>), followed by algorithms computing all the discontinuities, together with a structure, the backpro-jection, which encodes the topological aspect of the light source [DF94, SG94]. These approaches are nonetheless restricted to a single light-source at a time.
Reference: [MS97] <author> S. Mohaban and M. Sharir. </author> <title> Ray shooting amidst spheres in 3 dimensions and related problems. </title> <note> to appear in SIAM J. Computing, </note> <year> 1997. </year>
Reference-contexts: The scenes considered have always been polygonal and are mainly restricted to isothetic or c-oriented polygons. (In fact there exists a few results on ray-shooting with spheres involving parametric search without Plucker coordinates <ref> [MS97] </ref>). These techniques have been used by Teller fl Laboratoire GRAVIR / IMAG. iMAGIS is a joint research project of CNRS/INRIA/INPG/UJF. Postal address: B.P. 53, F-38041 Greno-ble Cedex 9, France.
Reference: [ORDP96] <author> R. Orti, S. Riviere, F. Durand, and C. Puech. </author> <title> Radiosity for dynamic scenes in flatland with the visibility complex. </title> <booktitle> In Proc. of Eurographics, </booktitle> <address> Poitiers, France, </address> <year> 1996. </year>
Reference-contexts: This structure is a partition of the set of maximal free segments according to the object they touch. Optimal construction algorithms have been developed for smooth convex objects [PV96] as well as polygons [Riv97] and used for lighting simulation <ref> [ORDP96] </ref>. In [DDP96] we introduced the 3D Visibility Complex for scenes of convex smooth objects (the polygonal case was simply mentioned). An O (n 4 log n) brute-force algorithm was roughly sketched, and applications for lighting simulation, walkthroughs and aspect graph computation were proposed.
Reference: [PD90] <author> H. Plantinga and C. R. Dyer. </author> <title> Visibility, occlusion, and the aspect graph. </title> <address> IJCV, </address> <year> 1990. </year>
Reference-contexts: A main drawback of aspect graphs is their size: O (n 6 ) for orthographic projection, and O (n 9 ) for perspective projection. To build the aspect graph, Plantinga and Dyer <ref> [PD90] </ref> defined an intermediate data structure called the asp. <p> Note that almost everywhere the graph is locally 1-dimensional. Similarly in 3D, the segment space is a 4D space embedded in 5D. This can be seen as a unification of the spaces used by Plantinga and Dyer <ref> [PD90] </ref>: in the orthographic case they deal with a 4D space and in the perspective case with a 5D space. <p> This can be seen as a unification of the spaces used by Plantinga and Dyer [PD90]: in the orthographic case they deal with a 4D space and in the perspective case with a 5D space. We use the same parameterization for lines as <ref> [PD90, DDP96] </ref>: they are represented by two coordinates of direction, the angles (azimuth) and ' (elevation) which are the spherical coordinates of the director vector, and the coordinates (u; v) of the projection onto the plane perpendicular to the line and going through the origin (the axes of of the plane <p> Note there is no 0-face in that case. The scene in figure 2 (b) is the same as in <ref> [PD90] </ref> and has an O (n 4 ) visibility complex. There are two grids, each one composed of two very slightly distant orthogonal sets of n 4 parallel rectangles (this is also valid with thin ellipsoids). <p> Consider a rectangle in each of the four sets: there is always a T + T + T + T critical segment. j u q (a) (b (c) sweep (c) ' sweep. Visual events considered in the aspect graph literature <ref> [EBD92, PD90] </ref> correspond to the 1-faces of the visibility complex. For example the topology of a view changes when a vertex and an edge are aligned from the viewpoint. The aspect graph is in fact the arrangement of those events in the viewing space.
Reference: [PDS90] <author> H. Plantinga, C. R. Dyer, and B. Seales. </author> <title> Real-time hidden-line elimination for a rotating polyhedral scene using the aspect representation. </title> <booktitle> In Proceedings of Graphics Interface '90, </booktitle> <year> 1990. </year>
Reference-contexts: This approach has been limited to polygonal scenes. It was applied to maintain views, but the degrees of freedom allowed by the implementation were limited to rotation along a predefined axis <ref> [PDS90] </ref>. In lighting simulation, researchers have computed the dis-continuities of the lighting function (which correspond to the limits of umbra and penumbra) also called discontinuity meshes. This characterizes the visibility of a light source.
Reference: [Pel90] <author> M. Pellegrini. </author> <title> Stabbing and ray shooting in 3-dimensional space. </title> <booktitle> In Proc. 6th Annu. ACM Sympos. </booktitle> <institution> Comput. Geom., </institution> <year> 1990. </year>
Reference-contexts: It is an oriented projective 5D dual space in which lines of space are naturally and linearly embedded (lines intersecting a given line are associated with hyperplanes). Its main drawback is the necessity of an intersection with the Plucker hypersurface <ref> [CEG + 96, Pel90] </ref>. The scenes considered have always been polygonal and are mainly restricted to isothetic or c-oriented polygons. (In fact there exists a few results on ray-shooting with spheres involving parametric search without Plucker coordinates [MS97]).
Reference: [PPK92] <author> S. Petitjean, J. Ponce, </author> <title> and D.J. Kriegman. Computing exact aspect graphs of curved objects: Algebraic surfaces. </title> <address> IJCV, </address> <year> 1992. </year>
Reference-contexts: Concave objects and piecewise smooth objects are beyond the scope of this article but could be handled by considering other critical line sets described by the theory of singularity <ref> [PPK92, Rie87] </ref>. The algebraic objects are assumed to have bounded degree. In what follows, n represents the overall complexity of the scene which is the total number of objects, polygons, edges and vertices. The objects are assumed to be in general position; degeneracy issues are not addressed in this paper.
Reference: [PV96] <author> M. Pocchiola and G. Vegter. </author> <note> Topologically sweeping visibility complexes via pseudo-triangulations. Discrete Com-put. Geom., December 1996. special issue devoted to ACM-SoCG'95. </note>
Reference-contexts: These approaches are nonetheless restricted to a single light-source at a time. Recently, a data-structure which encodes all the visibility information of a 2D scene called the Visibility Complex has been defined <ref> [PV96] </ref>. This structure is a partition of the set of maximal free segments according to the object they touch. Optimal construction algorithms have been developed for smooth convex objects [PV96] as well as polygons [Riv97] and used for lighting simulation [ORDP96]. <p> Recently, a data-structure which encodes all the visibility information of a 2D scene called the Visibility Complex has been defined <ref> [PV96] </ref>. This structure is a partition of the set of maximal free segments according to the object they touch. Optimal construction algorithms have been developed for smooth convex objects [PV96] as well as polygons [Riv97] and used for lighting simulation [ORDP96]. In [DDP96] we introduced the 3D Visibility Complex for scenes of convex smooth objects (the polygonal case was simply mentioned). <p> First the scene is swept by a horizontal plane and a 2D Visibility Complex <ref> [PV96] </ref> of the 'v-slice is maintained (figure 3 (b)). <p> We then sweep ' (figure 3 (c)), but some 0-faces can not be detected during this sweep and have to be preprocessed. 5.1 Sweeping the initial slice To build the initial '-slice, we first maintain a 'v-slice of the 3D visibility complex which corresponds to the 2D visibility complex <ref> [PV96] </ref> of the sweeping plane. We briefly review the 2D visibility complex. It is the partition of the segments of the planes according to the objects they touch.
Reference: [PV96] <author> M. Pocchiola and G. Vegter. </author> <title> The visibility complex. </title> <journal> Internat. J. Comput. Geom. Appl., </journal> <note> 96. special issue devoted to ACM-SoCG'93. </note>
Reference-contexts: These approaches are nonetheless restricted to a single light-source at a time. Recently, a data-structure which encodes all the visibility information of a 2D scene called the Visibility Complex has been defined <ref> [PV96] </ref>. This structure is a partition of the set of maximal free segments according to the object they touch. Optimal construction algorithms have been developed for smooth convex objects [PV96] as well as polygons [Riv97] and used for lighting simulation [ORDP96]. <p> Recently, a data-structure which encodes all the visibility information of a 2D scene called the Visibility Complex has been defined <ref> [PV96] </ref>. This structure is a partition of the set of maximal free segments according to the object they touch. Optimal construction algorithms have been developed for smooth convex objects [PV96] as well as polygons [Riv97] and used for lighting simulation [ORDP96]. In [DDP96] we introduced the 3D Visibility Complex for scenes of convex smooth objects (the polygonal case was simply mentioned). <p> First the scene is swept by a horizontal plane and a 2D Visibility Complex <ref> [PV96] </ref> of the 'v-slice is maintained (figure 3 (b)). <p> We then sweep ' (figure 3 (c)), but some 0-faces can not be detected during this sweep and have to be preprocessed. 5.1 Sweeping the initial slice To build the initial '-slice, we first maintain a 'v-slice of the 3D visibility complex which corresponds to the 2D visibility complex <ref> [PV96] </ref> of the sweeping plane. We briefly review the 2D visibility complex. It is the partition of the segments of the planes according to the objects they touch.
Reference: [Rie87] <author> J.H. Rieger. </author> <title> On the classification of views of piecewise smooth objects. </title> <booktitle> Image and Vision Computing, </booktitle> <year> 1987. </year>
Reference-contexts: Concave objects and piecewise smooth objects are beyond the scope of this article but could be handled by considering other critical line sets described by the theory of singularity <ref> [PPK92, Rie87] </ref>. The algebraic objects are assumed to have bounded degree. In what follows, n represents the overall complexity of the scene which is the total number of objects, polygons, edges and vertices. The objects are assumed to be in general position; degeneracy issues are not addressed in this paper.
Reference: [Riv97] <author> S. Riviere. </author> <title> Dynamic visibility in polygonal scenes with the visibility complex. </title> <booktitle> In Proc. 13th Annu. ACM Sympos. Computat. Geom., </booktitle> <year> 1997. </year>
Reference-contexts: This structure is a partition of the set of maximal free segments according to the object they touch. Optimal construction algorithms have been developed for smooth convex objects [PV96] as well as polygons <ref> [Riv97] </ref> and used for lighting simulation [ORDP96]. In [DDP96] we introduced the 3D Visibility Complex for scenes of convex smooth objects (the polygonal case was simply mentioned). An O (n 4 log n) brute-force algorithm was roughly sketched, and applications for lighting simulation, walkthroughs and aspect graph computation were proposed. <p> This is done by computing a view around the point of tangency or around the vertex using the current 2D visibility complex. This can be done in O (v log n) where v is the size of the view using the techniques described in <ref> [Riv97] </ref>. When the path of this view crosses an edge of the 2D complex it corresponds to a new T + T or V + T face of our 3D complex. <p> Each operation is linear in the size of each view. As the plane moves, three slices of objects can share a tan gent (corresponding to a T +T +T face of the 3D complex), in which case the 2D visibility complex is updated using the technique of <ref> [Riv97] </ref>. Basically, for each bitangent we compute the value of v where it will become tangent to a third object and store these sweep-events in our queue which requires time O (log n) whenever a bitangent is created.
Reference: [SG94] <author> J. Stewart and S. Ghali. </author> <title> Fast computation of shadow boundaries using spatial coherence and backprojections. </title> <booktitle> In Proceedings of SIGGRAPH '94 (Orlando, </booktitle> <address> Florida, </address> <month> July </month> <year> 1994), </year> <booktitle> Computer Graphics Proceedings, </booktitle> <month> July </month> <year> 1994. </year>
Reference-contexts: This characterizes the visibility of a light source. Initially only a subset of discontinuities where computed (e.g., [LTG93]), followed by algorithms computing all the discontinuities, together with a structure, the backpro-jection, which encodes the topological aspect of the light source <ref> [DF94, SG94] </ref>. These approaches are nonetheless restricted to a single light-source at a time. Recently, a data-structure which encodes all the visibility information of a 2D scene called the Visibility Complex has been defined [PV96].
Reference: [Tel92] <author> S. Teller. </author> <title> Computing the antipenumbra of an area light source. </title> <journal> Computer Graphics, </journal> <month> July </month> <year> 1992. </year> <booktitle> Proceedings of SIG-GRAPH '92 in Chicago (USA). </booktitle>
Reference-contexts: These techniques have been used by Teller fl Laboratoire GRAVIR / IMAG. iMAGIS is a joint research project of CNRS/INRIA/INPG/UJF. Postal address: B.P. 53, F-38041 Greno-ble Cedex 9, France. Contact E-mail: Frederic.Durand@imag.fr. http://www-imagis.imag.fr in computer graphics to compute the antipenumbra cast by an area light source through polygonal portals <ref> [Tel92] </ref>. The problem with these methods is that intersections of lines with the entire scene are considered; occlusion is not really treated. In computer vision, the aspect graph has been developed to characterize the viewpoints from which the scene has the same topological aspect.
References-found: 18

