URL: http://www.eecs.umich.edu/~wuchang/work/internet/tcp/floyd/congest_gw/2.ps.gz
Refering-URL: http://www.eecs.umich.edu/~wuchang/work/internet/
Root-URL: http://www.cs.umich.edu
Abstract: Draft Connections with Multiple Congested Gateways in Packet-Switched Networks Part 2: Two-way Traffic Sally Floyd fl Lawrence Berkeley Laboratory 1 Cyclotron Road Berkeley, CA 94720 floyd@ee.lbl.gov December 13, 1991 Abstract In a previous paper [F91] we explored the bias in TCP/IP networks against connections with multiple congested gateways, for networks with one-way traffic. Using simulations and a heuristic analysis, we showed that in a network with the window modification algorithm in 4.3 tahoe BSD TCP and with Random Drop or Drop Tail gateways, a longer connection with multiple congested gateways can receive unacceptably low throughput. However, we showed that in a network with no bias against connections with longer roundtrip times and with no bias against bursty traffic, a connection with multiple congested gateways can receive an acceptable level of throughput. In this paper we show that the the addition of two-way traffic to our simulations results in compressed ACKs at the gateways, resulting in much more bursty traffic in the network. We use Priority gateways to isolate the effects of compressed ACKs in networks with two-way traffic; these Priority gateways give priority to small packets such as ACK packets, thereby allowing two-way traffic without compressed ACKs. In our simulations with two-way traffic and multiple congested gateways with FIFO service and Drop Tail or Random Drop packet-drop algorithms, the throughput for the connection with multiple congested gateways suffers significantly. This loss of throughput can be reduced either by the use of Priority gateways, which reduces the burstiness of the traffic, or by the use of Random Early Detection (RED) gateways, which are designed to avoid a bias against bursty traffic. fl This work was supported by the Director, Office of Energy Research, Scientific Computing Staff, of the U.S. Department of Energy under Contract No. DE-AC03-76SF00098. 1 Introduction 
Abstract-found: 1
Intro-found: 1
Reference: [BDSY88] <author> Bacon, D,. Dupuy, A., Schwartz, J., and Yemimi, Y., </author> <title> "Nest: a Network Simulation and Prototyping Tool", </title> <booktitle> Proceedings of Winter 1988 Usenix Conference, </booktitle> <year> 1988, </year> <pages> pp. 17-78. </pages>
Reference: [BJ81] <author> Bharath-Kumar, K., and Jeffrey, J., </author> <title> A New Approach to Performance-Oriented Flow Control, </title> <journal> IEEE Transactions on Communications, Vol.COM-29 N.4, </journal> <month> April </month> <year> 1981. </year>
Reference: [CDJM91] <author> Caceres, R., Danzig, P., Jamin, S., and Mitzel, D., </author> <title> "Characteristics of Wide-Area TCP/IP Conversations", </title> <note> to appear in SIG-COMM "91. </note>
Reference: [DKS90] <author> Demers, A., Keshav, S., and Shenker, S., </author> <title> "Analysis and Simulation of a Fair Queueing Algorithm", Internetworking: </title> <journal> Research and Experience, </journal> <volume> Vol. 1, </volume> <year> 1990, </year> <pages> p. 3-26. </pages>
Reference: [F91] <author> Floyd, S., </author> <title> Connections with Multiple Congested Gateways in Packet-Switched Networks Part 1: One-way Traffic, </title> <note> submitted to Computer Communication Review. </note>
Reference-contexts: 1 Introduction In this paper we investigate the throughput of connections in TCP/IP networks with two-way traffic and multiple congested gateways. 2 Simulator algorithms Our simulator is briefly described in <ref> [F91] </ref>, along with the algorithms used in these simulations. 2 gateway source sink 1 1 0 0 2 3 5 0 : 1.5Mbps, 50ms delay : 10Mbps, 5ms delay 1a 1b 2a 2b 3a 3b 4a 4b 5a 5b traffic, with 6 connections, 10 gateways, and 5 congested gateways.
Reference: [FJ91a] <author> Floyd, S., and Jacobson, V., </author> <title> Traffic Phase Effects in Packet-Switched Gateways, </title> <journal> Computer Communication Review, V.21 N.2, </journal> <month> April </month> <year> 1991. </year>
Reference-contexts: As shown in <ref> [FJ91a] </ref>, this algorithm has a bias against connections with longer roundtrip times. In order to eliminate this bias, some of our simulations use the Constant-Rate algorithm instead in the congestion-avoidance phase. <p> Using this algorithm, each connection increases its window by a pkts/sec in each second. For the simulations in this paper, we use a = 4. 2 In this paper we examine networks with Drop Tail, Random Drop, and RED gateways. As shown in <ref> [FJ91a] </ref>, simulations and measurement studies with Drop Tail gateways are vulnerable to traffic phase effects; small changes in network parameters can result in large changes in the performance of the network. <p> In order to avoid these phase effects in networks with Drop Tail gateways, in this paper the simulator adds a small random component to the roundtrip time for each packet in simulations using Drop Tail gateways. (This is discussed in <ref> [FJ91a] </ref>.) Normally, our simulator charges zero seconds for the time required to process packets at the nodes. <p> The bias of Drop Tail and of Random Drop gateways against bursty traffic and the correction of this bias in RED gateways are described in <ref> [FJ91a] </ref>. With Drop Tail or Random Drop gateways, the more bursty the traffic, the more likely it is that the queue will overflow and the Drop Tail or Random Drop gateway will drop a packet.
Reference: [FJ91c] <author> Floyd, S., and Jacobson, V., </author> <title> Random Early Detection gateways for congestion avoidance, </title> <note> in preparation. </note>
Reference-contexts: RED gateways maintain an upper bound on the average queue size at the gateway. Definitions: RED gateways. With our implementation of RED gateways <ref> [FJ91c] </ref>, the gateway computes the average size for each queue using an exponential weighted moving average. When the average queue size exceeds a certain threshold, indicating incipient 2 Draft congestion, the gateway randomly chooses a packet to drop and increases the threshold. <p> The gateway drops the nth packet to arrive at the gateway. RED gateways are described in more detail in a paper currently in progress <ref> [FJ91c] </ref>. 2 One advantage of RED gateways is that, unlike Drop Tail and Random Drop gateways, RED gateways do not have a bias against bursty traffic.
Reference: [HG86] <author> Hahne, E., and Gallager, R., </author> <title> Round Robin Scheduling for Fair Flow Control in Data Communications Networks, </title> <booktitle> IEEE International Conference on Communications, </booktitle> <month> June, </month> <year> 1986. </year>
Reference: [J88] <author> Jacobson, V., </author> <title> Congestion Avoidance and Control, </title> <booktitle> Proceedings of SIGCOMM '88, </booktitle> <month> August </month> <year> 1988. </year>
Reference-contexts: In these simulations all connection paths have the same maximum bandwidth. Definitions: Reduce-to-One, Increase-by-One. Some of the simulations in the paper use the Reduce-to-One window decrease algorithm and the Increase-by-One window increase algorithm from 4.3 tahoe BSD TCP <ref> [J88] </ref>. Our simulator does not use the 4.3-tahoe TCP code directly but we believe it is functionally identical. Briefly, there are two phases to the window-adjustment algorithm. In the slow-start phase the window is doubled each roundtrip time until it reaches a certain threshold.
Reference: [JB88] <author> Jacobson, V., and Braden, R., </author> <title> "RFC 1072: TCP Extensions for Long-Delay Paths", </title> <month> October </month> <year> 1988. </year>
Reference-contexts: For the simulations in this paper, we use Selective Acknowledgement sinks <ref> [JB88] </ref> with the Reduce-by-Half algorithm.
Reference: [JCH84] <author> Jain, R., Chiu, D.M., and Hawe, W., </author> <title> "A Quantitative Measure of Fairness and Discrimination for Resource Allocation in Shared Systems." </title> <institution> DEC TR-301, Littleton, MA: Digital Equipment Corporation. </institution>
Reference: [K88] <author> Keshav, S., </author> <title> "REAL: a Network Simulator", </title> <type> Report 88/472, </type> <institution> Computer Science Department, University of California at Berkeley, Berkeley, California, </institution> <year> 1988. </year>
Reference: [M90] <author> Mankin, A., </author> <title> "A Measurement Study of Random Drop and Gateway Interaction", </title> <year> 1990. </year>
Reference: [M90a] <author> Mankin, A., </author> <title> Random Drop Congestion Control, </title> <booktitle> Proceedings of SIGCOMM 90, </booktitle> <month> Sept. </month> <year> 1990. </year>
Reference: [MS90] <author> Mitra, D. and Seery, J., </author> <title> Dynamic Adaptive Windows for High Speed Data Networks: Theory and Simulations, </title> <institution> AT&T Bell Laboratories report, </institution> <month> April </month> <year> 1990. </year>
Reference: [RJ90] <author> Ramakrishnan, K.K., and Jain, Raj, </author> <title> "A Binary Feedback Scheme for Congestion Avoidance in Computer Networks", </title> <journal> ACM Transactions on Computer Systems, V. </journal> <volume> 8, </volume> <editor> N. </editor> <volume> 2, </volume> <pages> p. 158-181, </pages> <year> 1990. </year>
Reference: [R83] <author> Ross, S., </author> <title> Stochastic Processes, </title> <publisher> John Wiley & Sons, </publisher> <year> 1983. </year>
Reference: [WRM91] <author> Wilder, R., Ramakrishnan, K.K., and Mankin, A., </author> <title> "Dynamics of Congestion Control and Avoidance in Two-Way Traffic in an OSI Testbed", </title> <type> SIGCOMM '91, </type> <month> April </month> <year> 1991, </year> <month> p.43-58. </month>
Reference-contexts: In this section, we explore simulations with two-way traffic. As discussed in <ref> [WRM91] </ref> and [ZC91], two-way traffic introduces the added complication of ACK-compression, caused by small ACK packets being queued at a congested gateway with no interleaving larger data packets. This ACK-compression increases the burstiness of the traffic, causing substantial problems for networks with Random Drop (or Drop Tail) gateways.
Reference: [ZC91] <author> Zhang, L., and Clark, D., </author> <title> "Observations on the Dynamics of a Congestion Control Algorithm: The Effects of Two-Way Traffic", </title> <note> to appear in SIGCOMM '91. 8 </note>
Reference-contexts: In this section, we explore simulations with two-way traffic. As discussed in [WRM91] and <ref> [ZC91] </ref>, two-way traffic introduces the added complication of ACK-compression, caused by small ACK packets being queued at a congested gateway with no interleaving larger data packets. This ACK-compression increases the burstiness of the traffic, causing substantial problems for networks with Random Drop (or Drop Tail) gateways.
References-found: 19

