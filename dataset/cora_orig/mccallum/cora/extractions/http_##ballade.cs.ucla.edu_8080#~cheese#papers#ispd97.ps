URL: http://ballade.cs.ucla.edu:8080/~cheese/papers/ispd97.ps
Refering-URL: http://ballade.cs.ucla.edu:8080/~cheese/abstracts.html
Root-URL: http://www.cs.ucla.edu
Email: fjenhsin,abk,kyang@cs.ucla.edu  fchan,imarkov,muletg@math.ucla.edu  alpert@austin.ibm.com  
Phone: 2  3  
Title: FASTER MINIMIZATION OF LINEAR WIRELENGTH FOR GLOBAL PLACEMENT  
Author: Charles J. Alpert Tony F. Chan Dennis J.-H. Huang Andrew B. Kahng Igor L. Markov Pep Mulet Kenneth Yan 
Address: Los Angeles, CA 90095-1596  Los Angeles, CA 90095-1555  Austin, TX 78758  
Affiliation: 1 UCLA Computer Science Department,  UCLA Mathematics Department,  IBM Austin Research Laboratory,  
Abstract: A linear wirelength objective more effectively captures timing, congestion, and other global placement considerations than a squared wirelength objective. The GORDIAN-L cell placement tool [16] minimizes linear wirelength by first approximating the linear wirelength objective by a squared wirelength objective, then executing the following loop - (1) minimize the current objective to yield some approximate solution, and (2) use the resulting solution to construct a more accurate objective until the solution converges. In this paper, we first show that the GORDIAN-L loop can be viewed as a special case of a new algorithm that generalizes a 1937 iteration due to Weiszfeld [19]. Specifically, we formulate the Weiszfeld iteration using a regularization parameter to control the tradeoff between convergence and solution accuracy; the GORDIAN-L iteration is equivalent to setting this regularization parameter to zero. Next, we describe two more recent numerical methods, the Primal Newton iteration and the Primal-Dual Newton iteration, that improve upon the Weiszfeld iteration. We show that our Primal-Dual Newton iteration stably attains quadratic convergence and at a much faster rate than Weiszfeld, making it a superior choice for implementing a placer such as GORDIAN-L, or for any linear wirelength optimization. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> T. F. Chan, G. H. Golub and P. Mulet, </author> <title> "A Nonlinear Primal-Dual Method for Total Variation-Based Image Restoration", </title> <institution> University of California, Los Angeles, Mathematics Department, </institution> <type> Technical Report, </type> <year> 1996. </year>
Reference-contexts: Both strategies can lead to premature stop ping, and finding a good heuristic is an open question. 5. THE PRIMAL NEWTON METHOD The Newton approach is often used as a base for developing more sophisticated methods with superlinear convergence (e.g. in <ref> [1, 10] </ref>). In this section, we develop what we call the Primal Newton method for minimizing the linear wirelength objective. <p> No precise mathematical statement about global convergence of Primal-Dual New-ton has been proved, but its reliable convergence properties have been observed in the literature (e.g. <ref> [1, 10] </ref>) and in our experiments. = + ffi Starting with initial values of x and , we compute corresponding values for M (x) and K (x; ), then update x and by solving the system in (14). This is repeated until some convergence criterion is met. <p> THE PRIMAL-DUAL NEWTON METHOD The idea of the primal-dual Newton approach was developed by Conn and Overton in [3] and has been recently used for a denoising application in image processing (see <ref> [1] </ref>). Numerical results suggest that the approach has fast convergence, stability and significant practical value. <p> However, as noted in <ref> [1, p.9] </ref>, for the matrix in (30) to be nonsingular one requires k z k k 1 1. <p> We have observed in our experiments that if for some reason (14) is not solved precisely enough, Newton top-level iterates can start to diverge. The remarks given for the Primal Newton method above also apply to Primal-Dual Newton (see <ref> [1] </ref>); in particular, Primal-Dual Newton possesses quadratic convergence (see [8, 5.4.1]) and is preferable to the linearly convergent Weiszfeld algorithm. Primal-Dual Newton converges quadratically in strictly larger regions than Newton method and is only 30-50% more expensive in computation and memory per iteration than the Weiszfeld method. 7.
Reference: [2] <author> C. K. Cheng and E. S. Kuh, </author> <title> "Module Placement Based on Resistive Network Optimization", </title> <journal> IEEE Transactions on Computer-Aided Design, </journal> <volume> cad-3, </volume> <year> 1984, </year> <pages> pp. 218-225. </pages>
Reference-contexts: 1. INTRODUCTION The heart of the "quadratic placement" technique <ref> [2, 18] </ref>) lies in solving for one-dimensional placements that minimize squared wirelength. Two such placements in the x- and y-directions will induce a two-dimensional "global placement" which, due to the objective function and continuous formulation, will have most cells clumped in the center of the layout region.
Reference: [3] <author> A. Conn and M. Overton, </author> <title> "A Primal-Dual Interior Point Method for Minimizing a Sum of Euclidean Distances", </title> <institution> Yale University, </institution> <type> Technical Report, </type> <year> 1995. </year>
Reference-contexts: Alternatively, various convergence criteria can be deduced from the observation that the nonlinear residual | the right hand side of (14) | goes to zero as the Newton method progresses. 6. THE PRIMAL-DUAL NEWTON METHOD The idea of the primal-dual Newton approach was developed by Conn and Overton in <ref> [3] </ref> and has been recently used for a denoising application in image processing (see [1]). Numerical results suggest that the approach has fast convergence, stability and significant practical value.
Reference: [4] <author> U. Eckhardt, </author> <title> "On an Optimization Problem Related to Minimal Surfaces with Obstacles", </title> <editor> in: R. Bulirsch, W. Oetti and J. </editor> <title> Stoer editors; "Optimization and Optimal Control", </title> <publisher> Lecture Notes in Mathematics 477 Springer Verlag, </publisher> <year> 1975, </year> <pages> pp. 95-101. </pages>
Reference-contexts: More precisely, we will describe, in modern terms, a method first suggested in 1937 by Weiszfeld [19] and later generalized by Miehle [12]. A contemporary exposition of this method, along with a proof of its global linear 5 convergence, can be found in <ref> [4, 5] </ref> (see also [10]). Technical differences between GORDIAN-L and our generalization of Weiszfeld (vis-a-vis what we call fi-regularization) are discussed in the second subsection. 4.1. Derivation of the Weiszfeld algorithm We wish to minimize f (x) =k Cx k 1 subject to Hx = b.
Reference: [5] <author> U.Eckhardt, </author> <title> "Weber's Problem and Weiszfeld's Algorithm in General Spaces", </title> <booktitle> Mathematical Programming 18, </booktitle> <year> 1980, </year> <pages> pp. 186-196. </pages>
Reference-contexts: More precisely, we will describe, in modern terms, a method first suggested in 1937 by Weiszfeld [19] and later generalized by Miehle [12]. A contemporary exposition of this method, along with a proof of its global linear 5 convergence, can be found in <ref> [4, 5] </ref> (see also [10]). Technical differences between GORDIAN-L and our generalization of Weiszfeld (vis-a-vis what we call fi-regularization) are discussed in the second subsection. 4.1. Derivation of the Weiszfeld algorithm We wish to minimize f (x) =k Cx k 1 subject to Hx = b.
Reference: [6] <author> W. Hackbush, </author> <title> Iterative Solution of Large Sparse Systems, </title> <publisher> Springer Verlag, </publisher> <year> 1994. </year>
Reference-contexts: To determine its optimal solution, the gradient r (x i ) is set to zero, yielding the (n q) fi (n q) linear system Z QZx i = c which can be efficiently solved with e.g. Conjugate Gradient or another Krylov subspace solver <ref> [6] </ref>. Once the optimal value x i is obtained, the optimal solution for x is given by x = Zx i + . GORDIAN-L The placement optimization with squared wirelength objective has a unique solution that can be found by solving the corresponding linear system.
Reference: [7] <author> T. Hamada, C.-K. Cheng and P. M. Chau, </author> <title> "Prime: A Timing-Driven Placement Tool using A Piecewise Linear Resistive Network Approach", </title> <booktitle> Proc. 30th ACM/IEEE Design Automation Conference, </booktitle> <year> 1993, </year> <pages> pp. 531-536. </pages>
Reference-contexts: All other entries of C are zero. 1 This should not be confused with the "primal-dual" approach to timing-driven placement in <ref> [7] </ref>, although similar variational ideas are used. Note that the number of entries in C is equal to 2m and that the sum of the entries in each row is zero. The assignments of positive edge weight for c ki and negative edge weight for c kj are made arbitrarily.
Reference: [8] <author> C. Kelley, </author> <title> "Iterative Methods for Linear and Nonlinear Equations", </title> <booktitle> Frontiers in Applied Mathematics, </booktitle> <volume> vol. 16, </volume> <publisher> SIAM, </publisher> <year> 1995. </year>
Reference-contexts: We have observed in our experiments that if for some reason (14) is not solved precisely enough, Newton top-level iterates can start to diverge. The remarks given for the Primal Newton method above also apply to Primal-Dual Newton (see [1]); in particular, Primal-Dual Newton possesses quadratic convergence (see <ref> [8, 5.4.1] </ref>) and is preferable to the linearly convergent Weiszfeld algorithm. Primal-Dual Newton converges quadratically in strictly larger regions than Newton method and is only 30-50% more expensive in computation and memory per iteration than the Weiszfeld method. 7. <p> Since our implementation is designed to accommodate examples of any size, we use an iterative solver, specifically, GMRES or BICGSTAB with ILU preconditioner 13 . Here, we must refer the reader to <ref> [8, Chap 6] </ref>, where usage of iterative (inexact) solvers is considered with special regard to Newton methods. Our solver changes the values of relative tolerance according to the rule in (6.18) of [8], using parameters fl = 0:5 and Max = 10 4 in that rule. <p> Here, we must refer the reader to [8, Chap 6], where usage of iterative (inexact) solvers is considered with special regard to Newton methods. Our solver changes the values of relative tolerance according to the rule in (6.18) of <ref> [8] </ref>, using parameters fl = 0:5 and Max = 10 4 in that rule. Finally, to reduce memory consumption we restart the solver if it reaches 100 iterations, with the last iterate as the initial guess The ILU preconditioner is used without fill-in. 7.2.
Reference: [9] <author> J. Kleinhans, G. Sigl, F. Johannes and K. Antreich, </author> <title> "GOR-DIAN:VLSI Placement by Quadratic Programming and Slicing Optimization." </title> <journal> IEEE Transactions on Computer-Aided Design. </journal> <volume> 10 (3), </volume> <month> March </month> <year> 1991, </year> <pages> pp. 356-365. </pages>
Reference-contexts: Works such as [14] have further shown that a linear wirelength objective can be used to form one-dimensional placements that directly yield effective bipartitioning solutions. The 1991 work of Sigl et al. <ref> [9, 16] </ref> proposed a modification of GORDIAN called GORDIAN-L, which optimizes the linear wirelength objective. <p> A weight function w : E ! &lt; + assigns a nonnegative weight w (e) to each edge in e. To convert the netlist into a graph, the authors of <ref> [9] </ref> propose using a star model wherein a new "net node" is created for each net in the netlist, and an edge is added between the net node and each cell connected to the net (thereby creating a bipartite graph). <p> Definition: The n-dimensional placement vector x = (x i ) corresponds to the physical locations of cells v 1 ; : : : ; v n on the real line, i.e., x i is the coordinate of vertex v i . GORDIAN <ref> [9] </ref> uses a squared wirelength objective: Squared Wirelength Formulation: Minimize q (x) = 2 T T X a ij (x i x j ) + d x Here, H is a q fi n constraint matrix that represents q center of gravity constraints (a special case is that of fixed (pad) <p> The ij-th entry of matrix H x is set to be 1 if the center of gravity for v i is b j and 0 otherwise 2 . Thus, H x and H y are sparse matrices with each column having exactly one non-zero entry. <ref> [9] </ref>. The algorithm takes as input a graph G obtained by applying the 2 p clique model to a circuit netlist; it outputs the coordinates of the placed cells. The variables x g and y g denote the centers of gravity for the n vertices.
Reference: [10] <author> Y. Li, </author> <title> "A Newton Acceleration of the Weiszfeld Algorithm for Minimizing the Sum of Euclidean Distances", </title> <institution> Cornell University, </institution> <type> Technical Report, </type> <year> 1996. </year>
Reference-contexts: More precisely, we will describe, in modern terms, a method first suggested in 1937 by Weiszfeld [19] and later generalized by Miehle [12]. A contemporary exposition of this method, along with a proof of its global linear 5 convergence, can be found in [4, 5] (see also <ref> [10] </ref>). Technical differences between GORDIAN-L and our generalization of Weiszfeld (vis-a-vis what we call fi-regularization) are discussed in the second subsection. 4.1. Derivation of the Weiszfeld algorithm We wish to minimize f (x) =k Cx k 1 subject to Hx = b. <p> Both strategies can lead to premature stop ping, and finding a good heuristic is an open question. 5. THE PRIMAL NEWTON METHOD The Newton approach is often used as a base for developing more sophisticated methods with superlinear convergence (e.g. in <ref> [1, 10] </ref>). In this section, we develop what we call the Primal Newton method for minimizing the linear wirelength objective. <p> No precise mathematical statement about global convergence of Primal-Dual New-ton has been proved, but its reliable convergence properties have been observed in the literature (e.g. <ref> [1, 10] </ref>) and in our experiments. = + ffi Starting with initial values of x and , we compute corresponding values for M (x) and K (x; ), then update x and by solving the system in (14). This is repeated until some convergence criterion is met. <p> However, all of these global-ization techniques are known to be inefficient in a number of applications 8 due to the small size of the region where Primal Newton converges quadratically. Modifications to a Newton method which allow it to achieve global convergence can be found in <ref> [10] </ref>, where a corresponding theorem is proven and numerical results demonstrating advantages over the Weiszfeld method are shown. [10] also contains a discussion of degeneracy | a feature of some placement problems for which Newton-like methods are only linearly convergent. <p> Modifications to a Newton method which allow it to achieve global convergence can be found in <ref> [10] </ref>, where a corresponding theorem is proven and numerical results demonstrating advantages over the Weiszfeld method are shown. [10] also contains a discussion of degeneracy | a feature of some placement problems for which Newton-like methods are only linearly convergent.
Reference: [11] <author> I.I. Mahmoud, K. Asakura, T. Nishibu and T. Ohtsuki, </author> <title> "Experimental Appraisal of Linear and Quadratic Objective Functions Effect on Force Directed Method for Analog Placement", </title> <journal> IEICE Transactions on Fundamentals of Electronics, Communications and Computer Sciences, </journal> <volume> E77-A (4), </volume> <month> April </month> <year> 1994, </year> <pages> pp. 719-725. </pages>
Reference-contexts: Thus, a strongly connected cluster may be spread out over the placement which increases wiring congestion for the router. The extra wiring caused by the spread of highly connected components can also reduce the routing resource flexibility needed to satisfy timing and signal integrity constraints. Mahmoud et al. <ref> [11] </ref> compared the linear and squared wirelength objectives for analog placement and concluded that the linear wirelength objective is superior. Works such as [14] have further shown that a linear wirelength objective can be used to form one-dimensional placements that directly yield effective bipartitioning solutions.
Reference: [12] <author> E. Miehle, </author> <title> "Link-Length Minimization in Networks", </title> <journal> Operations Research, </journal> <volume> 6, </volume> <year> 1958, </year> <pages> pp. 232-243. </pages>
Reference-contexts: FIXED-POINT (WEISZFELD) METHOD We now show that the GORDIAN-L solver is equivalent to a special case of what we call the "Weiszfeld algorithm". More precisely, we will describe, in modern terms, a method first suggested in 1937 by Weiszfeld [19] and later generalized by Miehle <ref> [12] </ref>. A contemporary exposition of this method, along with a proof of its global linear 5 convergence, can be found in [4, 5] (see also [10]). Technical differences between GORDIAN-L and our generalization of Weiszfeld (vis-a-vis what we call fi-regularization) are discussed in the second subsection. 4.1.
Reference: [13] <author> J. M. Ortega and W. C. Rheinboldt, </author> <title> Iterative Solution of Nonlinear Equations in Several Variables, </title> <address> New York, </address> <publisher> Academic Press, </publisher> <year> 1970. </year>
Reference-contexts: This is repeated until some convergence criterion is met. We call this particular implementation of the Newton method Primal Newton. The Primal Newton method does not possess any kind of global convergence property. Local convergence takes place | a proof can be found in <ref> [13] </ref> | but we do not know of any estimates of the size of the local convergence region. One can use various globalization techniques (e.g., line search and trust regions) to guarantee convergence of the Primal Newton method everywhere.
Reference: [14] <author> B. M. Riess, K. Doll and F. M. Johannes, </author> <title> "Partition--ing Very Large Circuits Using Analytical Placement Techniques", </title> <booktitle> Proc. 31st ACM/IEEE Design Automation Conference, </booktitle> <year> 1994, </year> <pages> pp. 646-651. </pages>
Reference-contexts: Mahmoud et al. [11] compared the linear and squared wirelength objectives for analog placement and concluded that the linear wirelength objective is superior. Works such as <ref> [14] </ref> have further shown that a linear wirelength objective can be used to form one-dimensional placements that directly yield effective bipartitioning solutions. The 1991 work of Sigl et al. [9, 16] proposed a modification of GORDIAN called GORDIAN-L, which optimizes the linear wirelength objective.
Reference: [15] <author> B. Riess and G. Ettelt, </author> <title> "SPEED: Fast and Efficient Timing Driven Placement", </title> <booktitle> Proc. IEEE Int. Symp. Circuits and Systems, </booktitle> <volume> vol. 1, </volume> <year> 1995, </year> <pages> pp. 377-380. </pages>
Reference: [16] <author> G. Sigl, K. Doll and F. Johannes, </author> <title> "Analytical Placement: </title>
Reference-contexts: Works such as [14] have further shown that a linear wirelength objective can be used to form one-dimensional placements that directly yield effective bipartitioning solutions. The 1991 work of Sigl et al. <ref> [9, 16] </ref> proposed a modification of GORDIAN called GORDIAN-L, which optimizes the linear wirelength objective. <p> GORDIAN-L achieves solutions with up to 20% less area than GORDIAN while significantly reducing routing density and total minimum spanning tree cost <ref> [16] </ref>; it has been used widely in industry for both ASIC and structured-custom design (e.g., Motorola PrediX floorplan-ner, Siemens LINPLACE placer, etc.). The GORDIAN-L improvement comes at the price of significantly increased CPU cost ([16] reports a factor of five increase over GOR-DIAN). <p> We assume that all vertices are to be placed in the interior of the layout. The optional linear term d T x represents connections of cells to fixed I/O pads. The n-dimensional vector d can also capture pin offsets <ref> [16] </ref>. Definition: The m fi n incidence matrix C = (c ki ) for G represents the relationship between edges and vertices of G. <p> In general, the set of optimal placements is closed and lies within the convex hull of fixed pads (see [18]). Direct minimization of a linear objective function can be achieved by linear programming, but this is usually computationally expensive. Sigl et al. <ref> [16] </ref> minimize the linear wirelength objec tive l (x) by repeatedly applying the GORDIAN quadratic solver. <p> Thus, the original minimization problem has been transformed into two systems of equations which can be com bined to yield the nonlinear system H 0 x i h b (7) where B (x) = P m C T (C j x) 2 +fi 4 Note that GORDIAN-L as described in <ref> [16] </ref> also includes an additional modification. Rather than subdivide each region into two subregions, GORDIAN-L subdivides each region into three subregions and then minimizes the objective l ; the result is then used to subdivide the region into five subregions, and the minimization is performed again. <p> This is necessary to avoid numerical problems when jx k1 i x k1 j j becomes too small (cf. Step 3 of Figure 2). In GORDIAN-L (see <ref> [16] </ref>), if this term becomes smaller than the minimal gate width, it is replaced with this gate width. In summary, it is simply a matter of Weiszfeld and GORDIAN-L using different schemes (fi-regularization versus minimal gate size, cf.
References-found: 16

