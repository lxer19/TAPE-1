URL: ftp://publications.ai.mit.edu/ai-publications/1500-1999/AITR-1581.ps.Z
Refering-URL: http://www.leglab.ai.mit.edu/leglab/robots/Spring_Flamingo/Spring_Flamingo.html
Root-URL: 
Title: Virtual Model Control of a Biped Walking Robot  
Degree: by Jerry E. Pratt Submitted to the Department of Electrical Engineering and Computer Science in partial fulfillment of the requirements for the degree of Master of Engineering in Electrical Engineering and Computer Science at the  c Jerry E. Pratt, MCMXCV. All rights reserved. The author hereby grants to MIT permission to reproduce and distribute publicly paper and electronic copies of this thesis document in whole or in part, and to grant others the right to do so. Author  Certified by Gill A. Pratt Assistant Professor of Electrical Engineering and Computer Science Thesis Supervisor Accepted by F. R. Morgenthaler Chairman, Department Committee on Graduate Theses  
Date: August 1995  August 25, 1995  
Affiliation: MASSACHUSETTS INSTITUTE OF TECHNOLOGY  Department of Electrical Engineering and Computer Science  
Abstract-found: 0
Intro-found: 1
Reference: [1] <author> Chae H. An, Christopher G. Atkeson, and John M. Hollerbach. </author> <title> Model-Based Control of a Robot Manipulator. </title> <publisher> MIT Press, </publisher> <address> Cambridge, MA, </address> <year> 1988. </year>
Reference: [2] <author> Dalila I. Argaez. </author> <title> An analytical and experimental study of the simultaneus control of motion and force of a climbing robot. </title> <type> Master's thesis, </type> <institution> Massachusetts Institute of Technology, </institution> <month> June </month> <year> 1993. </year>
Reference-contexts: However, the virtual model coordinate systems can be attached to any part of the robot, not just the end effector. * Coordinated Jacobian Transpose Control [31], <ref> [2] </ref>. Coordinated Jacobian Transpose Control is an algorithm for coordinated position and force control for autonomous multi-limbed mobile robotic systems. Generalized control variables are defined with respect to a single inertial frame and controlled to a commanded position via a set of linear springs and dampers.
Reference: [3] <author> E. Bizzi, F. A. Mussa-Ivaldi, and S. Giszter. </author> <title> Computations underlying the execution of movement: A biological perspective. </title> <journal> Science, </journal> <volume> 253 </volume> <pages> 287-291, </pages> <month> July </month> <year> 1991. </year>
Reference: [4] <author> Jim D. Chapel and Renjeng Su. </author> <title> Coupled stability characteristics of nearly passive robots. </title> <booktitle> Proceedings of the 1992 IEEE Int. Conference on Robotics and Automation, </booktitle> <month> May </month> <year> 1992. </year>
Reference-contexts: If we know that the environment will be compliant and damped to a minimum extent, then we can relax this requirement to CL 0 being passive below the "roll-off frequency", w env , of the environment <ref> [4] </ref>, i.e. jwCL 0 (jw) + jwCL 0T (jw) &gt; 0 8 ! w env (7:9) 7.4 Discussion This section has presented stability and performance requirements for linear robots controlled with linear virtual model controllers.
Reference: [5] <author> K. Cleary and T. Brooks. </author> <title> Jacobian formulation for a novel 6-dof parallel manipulator. </title> <booktitle> 1994 IEEE Conf. on Robotics and Automation, </booktitle> <pages> pages 2377-2382, </pages> <year> 1994. </year>
Reference: [6] <author> J.E. Colgate and N. Hogan. </author> <title> Robust control of dynamically interacting systems. </title> <journal> Int. J. Control, </journal> <volume> 48(1) </volume> <pages> 65-88, </pages> <year> 1988. </year>
Reference-contexts: In this light, we instead define the performance of the virtual model controller as how well it implements the desired virtual model while using non-ideal actuators. This is similar to the analysis in <ref> [6] </ref>. <p> To this end, we can utilize passivity theory which states that a passive robot will be stable when in interaction with any passive environment <ref> [6] </ref>.
Reference: [7] <author> John J. Craig. </author> <title> Introduction to Robotics: Mechanics and Control. </title> <publisher> Addison-Wesley, </publisher> <year> 1989. </year>
Reference-contexts: The best tools for determining how to attach the virtual component's frames is physical intuition, insight, and experience, i.e. the same tools required to design the robot mechanism itself. 2.2 Derivation of the Forward Kinematics Computing the forward kinematic map, A B ~ X, is relatively easy and well documented <ref> [7] </ref>. For any serial manipulator with revolute and prismatic joints, A B ~ X will be a closed form function of the joint angles and prismatic displacements, ~ fi, lying between frames fAg and fBg. <p> There are several techniques to compute the Jacobian for the 3D case <ref> [19, 7] </ref>. <p> There are several techniques to compute the Jacobian for the 3D case [19, 7]. One method described in <ref> [7] </ref> is to recursively compute the joint to cartesian velocity relationship (Equation 2.3) and extract the Jacobian Matrix. 2.4 Computation of the Joint Torques To compute the joint torques which will successfully emulate the virtual component, we use the following equation ~t = A B where ~t is the vector of <p> The generalized force vector will typically consist of a force and moment vector. Equation 2.5 can be easily derived starting from the energy balance ~t T ffi ~ fi = ~ F T ffi ~ X <ref> [7] </ref>. It requires that the generalized forces which act on action frame fBg be specified in terms of reaction frame fAg. <p> In the two dimensional examples, the Jacobians were computed by differentiation of the kinematics. In contrast, the Jacobian for this three dimensional example is computed using a technique found in <ref> [7] </ref>. In this technique, the mapping between joint velocity and virtual model frame velocity is directly computed. The Jacobian is then extracted from this mapping. <p> The Jacobian from the reaction frame to the action frame for a given leg, B ( A i B J ) is determined via an iterative computation of the joint velocity to cartesian velocity mapping, as described in <ref> [7] </ref>. This Jacobian maps the virtual model generalized forces to joint torques for the ith leg, 34 at the knee and two at the hip. The knee angle is k and the hip angles are h1 and h2 . The leg links are both of length L.
Reference: [8] <author> S. D. Eppinger and W. P. Seering. </author> <title> Understanding bandwidth limitations in robot force control. </title> <booktitle> IEEE International Conference on Robotics and Automation, </booktitle> <year> 1987. </year>
Reference: [9] <author> S. D. Eppinger and W. P. Seering. </author> <title> Three dynamic problems in robot force control. </title> <booktitle> IEEE International Conference on Robotics and Automation, </booktitle> <year> 1989. </year>
Reference: [10] <author> J. F. Gardner. </author> <title> Force distribution in walking machines over rough terrain. </title> <journal> J. of Dynamic Systems, Measurement and Control, </journal> <volume> 113 </volume> <pages> 754-758, </pages> <year> 1991. </year>
Reference-contexts: We show here a method for taking advantage of the structure of the constraint matrix, K, in order to reduce computational requirements. The method is an extension of Gardners's Partitioned Actuator Set Control Technique <ref> [11, 10] </ref>. Gardner partitions the actuators into a Minimum Actuator Set (MAS) and a Redundant Actuator Set (RAS). We stress here that we are not dealing with actuators at this level but rather virtual force distribution. Therefore we specify the Minimum Force Set (MFS) and the Redundant Force Set (RFS).
Reference: [11] <author> J. F. Gardner, K. Srinivasan, and K. J. Waldron. </author> <title> A solution for the force distribution problem in redundantly actuated closed kinematic chains. </title> <journal> J. of Dynamic Systems, Measurement and Control, </journal> <volume> 112 </volume> <pages> 523-526, </pages> <year> 1990. </year>
Reference-contexts: We show here a method for taking advantage of the structure of the constraint matrix, K, in order to reduce computational requirements. The method is an extension of Gardners's Partitioned Actuator Set Control Technique <ref> [11, 10] </ref>. Gardner partitions the actuators into a Minimum Actuator Set (MAS) and a Redundant Actuator Set (RAS). We stress here that we are not dealing with actuators at this level but rather virtual force distribution. Therefore we specify the Minimum Force Set (MFS) and the Redundant Force Set (RFS). <p> We could stop here and invert the new dp fi dp matrix, if it were computationally feasible. In order to further reduce the size of the matrix, we can eliminate the Redundant Force Set (RFS) by specifying our design constraints in a proper manner. Similar to <ref> [11] </ref>, we specify the Redundant Force Set, f r , in terms of the Minimum Force Set, f m . f r r = c r B rfin f m n (2:17) where f r is the Redundant Force Set, f m is the Minimum Force Set, c is a vector
Reference: [12] <author> A. A. Goldenberg. </author> <title> Analysis of force control based on linear models. </title> <booktitle> Proceedings of the 1992 IEEE International Conference on Robotics and Automation, </booktitle> <pages> pages 1348-1353, </pages> <year> 1992. </year>
Reference: [13] <author> N. Hogan. </author> <title> Impeadance control: An approach to manipulation: Part i theory, part ii implementation, part iii applications. </title> <journal> J. of Dynamic Systems, Measurement and Control, </journal> <volume> 107 </volume> <pages> 1-24, </pages> <year> 1985. </year>
Reference-contexts: Stiffness Control is a method for controlling a robot so that its endpoint cartesian stiffness matches a given stiffness matrix. Virtual model control can be used to implement Stiffness Control if linear virtual springs are used and connected to the robot in the necessary manner. * Impedance Control <ref> [13] </ref>. Impedance control is a method for controlling a robot so that its impedance, as seen by the environment, matches a target impedance. In contrast, virtual model control is used to simulate components, which can be modelled as impedances, between two points on the robot.
Reference: [14] <author> O. Khatib. </author> <title> Real-time obstacle avoidance for manipulators and mobile robots. </title> <journal> IEEE Journal of Robotics and Automation, </journal> <volume> 5(1) </volume> <pages> 90-98, </pages> <year> 1986. </year>
Reference: [15] <author> O. Khatib. </author> <title> A unified approach for motion and force control of robot manipulators: the operational space formulation. </title> <journal> IEEE Journal of Robotics and Automation, </journal> <volume> 3(1) </volume> <pages> 43-53, </pages> <year> 1987. </year>
Reference-contexts: In contrast, virtual model control is used to simulate components, which can be modelled as impedances, between two points on the robot. These two points can be attached anywhere on the robot, not just on the base and end effector. * Operational Space Formulation <ref> [15] </ref>. The Operational Space Formulation is a framework for the analysis and control of manipulator systems with respect to the dynamic behavior of the end effector.
Reference: [16] <author> Kazuhiro Kosuge and et. al. </author> <title> Input/output force analysis of stewart platform type of manipulators. </title> <journal> IEEE Journal of Robotics and Automation, </journal> <volume> 3(1) </volume> <pages> 43-53, </pages> <year> 1987. </year> <month> 77 </month>
Reference: [17] <author> Tad McGeer. </author> <title> Passive dynamic walking. </title> <journal> International Journal of Robotics Research, </journal> <volume> 9(2) </volume> <pages> 62-82, </pages> <year> 1990. </year>
Reference-contexts: We have not attempted to perform an analysis on why the stupid walking algorithm converges to a limit cycle for the appropriate initial conditions. We only speculate that mechanisms similar to those present in McGeer's passive dynamic walker <ref> [17] </ref> are in force. In order to perform more robust walking, a speed control mechanism is necessary. This could be accomplished either through foot placement during single support or through modulating the virtual feed-forward horizontal (x) force during double support.
Reference: [18] <author> Simon Mochon and Thomas A. McMahon. </author> <title> Ballistic walking: An improved model. </title> <journal> Mathematical Biosciences, </journal> <volume> 52 </volume> <pages> 241-260, </pages> <year> 1979. </year>
Reference: [19] <author> David E. Orin and W.W. Schrader. </author> <title> Efficient jacobian determination for robot manipulators. </title> <booktitle> Robotics Research: The First International Symposium, </booktitle> <year> 1984. </year>
Reference-contexts: There are several techniques to compute the Jacobian for the 3D case <ref> [19, 7] </ref>.
Reference: [20] <author> Gill A. Pratt. </author> <title> A biped robot for real environments. Unpublished grant proposal, </title> <year> 1994. </year>
Reference: [21] <author> Gill A. Pratt and Matthew M. Williamson. </author> <title> Series elastic actuators. </title> <booktitle> IEEE International Conference on Intelligent Robots and Systems, </booktitle> <volume> 1 </volume> <pages> 399-406, </pages> <year> 1995. </year>
Reference-contexts: An elastic element (represented by k s in Figure 6-1) is intentionally placed between the motor mass and the load. Since the force on the load is a function of the spring stretch, the force control problem effectively reduces to position control of the motor end of the spring <ref> [34, 21] </ref>. Although we examine Series Elastic Actuation limitations here, the following 49 and damping constant. Kc (s) is the compensator. Fd is the desired force while Fl is the actual force applied to the load. <p> All of Spring Turkey's motors are located in its upper body, with power being transmitted to the joints via cable drives. Series Elastic Actuation <ref> [21] </ref> is employed at each degree of freedom, allowing for accurate application of torques and a high degree of shock tolerance. The maximum torque that can be applied to the hips is approximately 12 Nm while approximately 18 Nm can be applied to the knees.
Reference: [22] <author> Jerry E. Pratt. </author> <title> Learning virtual model control of a biped walking robot. Unpublished Project Report for MIT's Machine Learning Class (6.858), </title> <year> 1994. </year>
Reference-contexts: For example, a proportional-derivative (PD) servo at a joint can be implemented as a virtual torsional spring-damper with spring constant equal to servo position gain, damping constant equal to derivative gain, and set point equal to desired joint angle. Virtual components can even contain adaptive and learning elements <ref> [22] </ref>. One of the reasons virtual model control is being developed is because it is generally difficult to describe motion control. <p> Such an approach is used in sliding controllers and adaptive controllers. It is probably possible to use such techniques to develop "virtual adaptive controllers". This is not explored in this thesis however. Learning virtual components have been implemented previously using CMAC neural networks <ref> [22] </ref> but no Lyapunov analysis was performed. 45 5.3 Demonstration of Energy Based Lyapunov Functions for Virtual Spring-Damper Mechanisms Energy methods can be used to develop Lyapunov function candidates for virtual mechanisms applied to a robot.
Reference: [23] <author> Jerry E. Pratt. </author> <title> Exploration of virtual model implementation, stability, and performance issues. Unpublished Project Report for MIT's Applied Nonlinear Control Class (2.152), </title> <year> 1995. </year>
Reference: [24] <author> M. H. Raibert and J. J. Craig. </author> <title> Hybrid position/force control of manipulators. Journal of Dynamic Systems, Measurement, </title> <journal> and Control, </journal> <volume> 102, </volume> <year> 1981. </year>
Reference-contexts: It is different in that it emulates components which are connected to a robot in attempt to persuade the robot to perform a certain task, rather than to create an illusion to a human operator. * Hybrid Position/Force Control <ref> [24] </ref>. Hybrid Position/Force Control is a method for com 12 balance and from the body to the hand to throw a jab. manding positions in an unconstrained cartesian subspace while commanding forces in the orthogonal subspace.
Reference: [25] <author> Marc. H. Raibert. </author> <title> Legged Robots That Balance. </title> <publisher> MIT Press, </publisher> <address> Cambridge, MA., </address> <year> 1986. </year>
Reference-contexts: Despite these difficulties, robots have been developed at MIT's Leg Laboratory which can hop, run, and perform gymnastic maneuvers <ref> [25] </ref>. The control algorithms employed are very simple and 11 draw on physical intuition. Other factors contributing to the success of the robots include excellent design and construction, conservative over-actuation, and a bit of luck.
Reference: [26] <author> K. Salisbury. </author> <title> Active stiffness control of a manipulator in cartesian coordinates. </title> <booktitle> 19th IEEE Conference on Decision and Control, </booktitle> <pages> pages 83-88, </pages> <month> Dec. </month> <year> 1980. </year>
Reference-contexts: There is no reason why a real spring-damper could not be attached in parallel with a real force source, so there is no reason why both virtual components cannot be attached to a robot and act in non-orthogonal spaces. * Stiffness Control <ref> [26] </ref>. Stiffness Control is a method for controlling a robot so that its endpoint cartesian stiffness matches a given stiffness matrix. Virtual model control can be used to implement Stiffness Control if linear virtual springs are used and connected to the robot in the necessary manner. * Impedance Control [13].
Reference: [27] <author> K. Salisbury and et. al. </author> <title> The design and control of an experimental whole-arm manipulator. </title> <booktitle> Proc. 5th Int. Symp. on Robotics Research, </booktitle> <year> 1989. </year>
Reference-contexts: Various methods of speed reduction exist, but the most common method involves gear trains. Geared transmissions suffer from friction, backlash, and non-collocation, all which are undesirable effects. Therefore, the most successful force controlled robots have used large pulleys for reduction and cable transmissions, thereby eliminating gears <ref> [27] </ref>. The drawbacks of this technique are the space requirements of the large pulleys and the need for low friction motors. Series Elastic Actuation is a technique which allows one to perform force control with non-ideal actuators and transmissions.
Reference: [28] <author> K. Salisbury and et. al. </author> <title> Haptic rendering: Programming touch interaction with virtual objects. </title> <booktitle> Proceedings of the 1995 ACM Symposium on Interactive 3D Graphics, </booktitle> <month> April 9-12, </month> <year> 1995. </year>
Reference-contexts: Like any new idea, virtual model control draws from several techniques that are currently used in practice. The following list contains six of these techniques and describes how virtual model control compares and contrasts. * Virtual Reality / Haptic Interfaces <ref> [28] </ref>. Virtual Reality is a means of creating the illusion of virtual entities existing in a simulated environment. Haptic Interfaces are devices which provide tactile and force feedback for Virtual Reality applications.
Reference: [29] <author> Shin-Min Song and Kenneth J. Waldron. </author> <title> Machines That Walk. </title> <publisher> MIT Press, </publisher> <address> Cambridge, MA., </address> <year> 1989. </year>
Reference: [30] <author> Gilbert Strang. </author> <title> Introduction to Linear Algebra. </title> <publisher> Wellesley-Cambridge Press, </publisher> <address> Wellesley, MA., </address> <year> 1993. </year>
Reference: [31] <author> C. Sunada, D. Argaez, S. Dubowsky, and C. Mavroidis. </author> <title> A coordinated jacobian transpose control for mobile multi-limbed robotic systems. </title> <journal> IEEE Journal of Robotics and Automation, </journal> <pages> pages 1910-1915, </pages> <year> 1994. </year>
Reference-contexts: However, the virtual model coordinate systems can be attached to any part of the robot, not just the end effector. * Coordinated Jacobian Transpose Control <ref> [31] </ref>, [2]. Coordinated Jacobian Transpose Control is an algorithm for coordinated position and force control for autonomous multi-limbed mobile robotic systems. Generalized control variables are defined with respect to a single inertial frame and controlled to a commanded position via a set of linear springs and dampers.
Reference: [32] <author> Daniel E. Whitney. </author> <title> Historical perspective and state of the art in robot force control. </title> <journal> International Journal of Robotics Research, </journal> <volume> 6(1), </volume> <year> 1987. </year>
Reference: [33] <author> Daniel E. Whitney. </author> <title> Force feedback control of manipulator fine motions. Journal of Dynamic Systems, </title> <booktitle> Measurement, and Control, </booktitle> <pages> pages 91-97, </pages> <month> June </month> <year> 1977. </year>
Reference: [34] <author> Matthew M. Williamson. </author> <title> Series elastic actuators. </title> <type> Master's thesis, </type> <institution> Massachusetts Institute of Technology, </institution> <month> June </month> <year> 1995. </year> <month> 78 </month>
Reference-contexts: Actuator limitations can severely affect the stability and performance of a virtual model controller. In this chapter, we attempt to quantify the actuator limitations and determine where they come into play. I use series elastic actuator techniques <ref> [34] </ref> in this analysis since it is the actuator method used on our bipedal walking robot. <p> An elastic element (represented by k s in Figure 6-1) is intentionally placed between the motor mass and the load. Since the force on the load is a function of the spring stretch, the force control problem effectively reduces to position control of the motor end of the spring <ref> [34, 21] </ref>. Although we examine Series Elastic Actuation limitations here, the following 49 and damping constant. Kc (s) is the compensator. Fd is the desired force while Fl is the actual force applied to the load.
References-found: 34

