URL: http://www.eecs.umich.edu/techreports/cse/1997/CSE-TR-347-97.ps.gz
Refering-URL: http://www.eecs.umich.edu/home/techreports/cse97.html
Root-URL: http://www.cs.umich.edu
Email: fwuchang,kgshing@eecs.umich.edu fkandlur,debanjang@watson.ibm.com  
Phone: Phone: (313) 763-5363 Fax: (313) 763-4617 Phone: (914) 784-7194 Fax: (914) 784-6205  
Title: Adaptive Packet Marking for Providing Differentiated Services in the Internet  
Author: Wu-chang Fengy Dilip D. Kandlurz Debanjan Sahaz Kang G. Shiny 
Keyword: Quality-of-service, tcp, Integrated services, Internet  
Address: Ann Arbor, MI 63130 Yorktown Heights, NY 10598  
Affiliation: yDepartment of EECS zNetwork Systems Department University of Michigan IBM T.J. Watson Research Center  
Abstract: This paper examines the use of adaptable priority marking for providing soft bandwidth guarantees to individual connections or connection groups over the Internet. The proposed scheme does not require resource reservation for individual connections and can be supported with minimal changes to the network infrastructure. The scheme uses modest support from the network in the form of priority handling for appropriately marked packets and relies on intelligent transmission control mechanisms at the edges of the network to achieve the desired throughput levels. The paper describes the control mechanisms and evaluates their behavior in various network environments. The mechanisms described have the flexibility to adapt to different network environments, thereby making them suitable for deployment in an evolving Internet. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> P. Almquist. </author> <title> Type of Service in the Internet Protocol Suite. </title> <type> RFC 1349, </type> <month> July </month> <year> 1992. </year>
Reference-contexts: The crux of this approach is to create service classes with different priorities using either the type-of-service (ToS) feature of IPv4 <ref> [1, 17, 18] </ref> or the priority bits of IPv6 [7, 8]. Depending on how packets with different priorities are handled by the network, a priority scheme usually translates into higher achieved throughput for higher priority classes and can be a useful building block for explicit service differentiation.
Reference: [2] <author> R. Braden, D. Clark, J. Crowcroft, B. Davie, S. Deering, D. Estrin, S. Floyd, V. Jacobson, G. Minshall, C. Partridge, L. Peterson, K. Ramakrishnan, S. Shenker, J. Wroclawski, and L. Zhang. </author> <title> Recommendations on Queue Management and Congestion Avoidance in the Internet. Internet Draft draft-irtf-e2e-queue-mgt-00.txt, </title> <month> March </month> <year> 1997. </year>
Reference-contexts: Our approach to service differentiation between marked and unmarked packets relies on a selective packet discard mechanism. We use an enhanced version of the red (Random Early Detection) algorithm <ref> [2, 11] </ref> for this purpose. In classical red routers, a single fifo queue is maintained for all packets. Packets are dropped randomly with a given probability when the queue length exceeds a certain threshold.
Reference: [3] <author> R. Braden, D. Clark, and S. Shenker. </author> <title> Integrated Services in the Internet Architecture: An Overview. </title> <type> RFC 1633, </type> <month> June </month> <year> 1994. </year> <month> ISI/MIT/PARC. </month>
Reference-contexts: In particular, we consider scenarios where only some parts of the network support service differentiation and propose mechanisms for detecting and reacting to such situations at the source. Finally, we discuss issues in interoperating ToS-based mechanisms with alternative mechanisms <ref> [3, 6, 12] </ref> for supporting service differentiation in the Internet. 2 Service Model In this section, we present a detailed description of our service model and architecture. As mentioned earlier, our objective is to provide service discrimination in the network without using explicit reservation of resources. <p> Since the ToS-based mechanisms described here rely only on preferential queueing based on the priority levels, they can be embedded without modification into any of the packet and link scheduling frameworks which have been proposed for supporting various integrated services <ref> [3, 6, 12] </ref>. Hence, co-existence of ToS and RSVP-based mechanisms is quite straight forward. For networks in which different network segments on the path of a connection offer different types of service differentiation, mapping between priority levels and RSVP service levels is required to ensure interoperability.
Reference: [4] <author> R. Braden, L. Zhang, S. Berson, S. Herzog, and S. Jamin. </author> <title> Resource ReSerVation Protocol (RSVP) Version 1 Functional Specification. Internet Draft draft-ietf-rsvp-spec-16.txt, </title> <address> Novem-ber 1997. ISI/PARC/IBM/UM. </address>
Reference-contexts: In an attempt to enrich this service model, the Internet Engineering Task Force is considering a number of extensions that permit the allocation of different levels of service to different users. One of the outcomes of this effort is RSVP <ref> [4, 21] </ref>, a signaling protocol for resource reservation. RSVP and its associated suite of service classes [19, 20] can be used to offer service discrimination for delay sensitive applications by explicit allocation of resources in the network.
Reference: [5] <author> D. Clark. </author> <title> A Model for Cost Allocation and Pricing in the Internet. </title> <booktitle> MIT Workshop on Internet Economics, </booktitle> <month> March </month> <year> 1995. </year>
Reference-contexts: While the deployment of an RSVP-based quality of service infrastructure is underway, a more evolutionary approach to provide service differentiation in the Internet is also under consideration <ref> [5, 13] </ref>. The crux of this approach is to create service classes with different priorities using either the type-of-service (ToS) feature of IPv4 [1, 17, 18] or the priority bits of IPv6 [7, 8].
Reference: [6] <author> D. Clark, S. Shenker, and L. Zhang. </author> <title> Supporting Real-Time Applications in an Integrated Services Packet Network: Architecture and Mechanism. </title> <booktitle> In Proc. of ACM SIGCOMM, </booktitle> <pages> pages 14-26, </pages> <month> August </month> <year> 1992. </year>
Reference-contexts: In particular, we consider scenarios where only some parts of the network support service differentiation and propose mechanisms for detecting and reacting to such situations at the source. Finally, we discuss issues in interoperating ToS-based mechanisms with alternative mechanisms <ref> [3, 6, 12] </ref> for supporting service differentiation in the Internet. 2 Service Model In this section, we present a detailed description of our service model and architecture. As mentioned earlier, our objective is to provide service discrimination in the network without using explicit reservation of resources. <p> Since the ToS-based mechanisms described here rely only on preferential queueing based on the priority levels, they can be embedded without modification into any of the packet and link scheduling frameworks which have been proposed for supporting various integrated services <ref> [3, 6, 12] </ref>. Hence, co-existence of ToS and RSVP-based mechanisms is quite straight forward. For networks in which different network segments on the path of a connection offer different types of service differentiation, mapping between priority levels and RSVP service levels is required to ensure interoperability.
Reference: [7] <author> S. Deering and R. Hinden. </author> <title> Internet Protocol, Version 6 (IPv6) Specification. </title> <type> RFC 1883, </type> <month> December </month> <year> 1995. </year>
Reference-contexts: The crux of this approach is to create service classes with different priorities using either the type-of-service (ToS) feature of IPv4 [1, 17, 18] or the priority bits of IPv6 <ref> [7, 8] </ref>. Depending on how packets with different priorities are handled by the network, a priority scheme usually translates into higher achieved throughput for higher priority classes and can be a useful building block for explicit service differentiation. One of the major attractions of priority schemes is their simplicity.
Reference: [8] <author> S. Deering and R. Hinden. </author> <title> Internet Protocol, Version 6 (IPv6) Specification. Internet Draft draft-ietf-ipngwg-ipv6-spec-v2-00.txt, </title> <month> July </month> <year> 1997. </year>
Reference-contexts: The crux of this approach is to create service classes with different priorities using either the type-of-service (ToS) feature of IPv4 [1, 17, 18] or the priority bits of IPv6 <ref> [7, 8] </ref>. Depending on how packets with different priorities are handled by the network, a priority scheme usually translates into higher achieved throughput for higher priority classes and can be a useful building block for explicit service differentiation. One of the major attractions of priority schemes is their simplicity.
Reference: [9] <author> K. Fall and S. Floyd. </author> <title> Router Mechanisms to Support End-to-End Congestion Control. </title> <address> ftp://ftp.ee.lbl.gov/papers/collapse.ps, </address> <month> February </month> <year> 1997. </year>
Reference-contexts: However, it is possible to implement weighted bandwidth sharing easily through the use of additional priority levels which give the network an indication of the connection's target rate and/or importance. Future work will address such issues. Another important issue is protection against non-responsive (non-tcp) flows <ref> [9, 15] </ref>. Such flows have the potential of stealing bandwidth away from other flows which are responsive to congestion. One of the advantages of using a pmg is that it can insulate a connection or a connection group from others.
Reference: [10] <author> W. Feng, D. Kandlur, D. Saha, and K. Shin. </author> <title> Understanding TCP Dynamics in an Integrated Services Internet. </title> <booktitle> In Proc. of NOSSDAV '97, </booktitle> <month> May </month> <year> 1997. </year>
Reference-contexts: It is hard to map guaranteed service into priorities in a ToS domain. Mapping controlled-load service into priorities in ToS network is a potentially simpler task. Previous work, in fact, has shown how one could implement a controlled-load service variant <ref> [10] </ref> through use of ered queues. In this case, the delay bounds are loosened in favor of maintaining packet ordering. One simple way of handling controlled-load flows entering a ToS based network is to simply mark all incoming packets that 18 are T spec compliant.
Reference: [11] <author> S. Floyd and V. Jacobson. </author> <title> Random Early Detection Gateways for Congestion Avoidance. </title> <journal> ACM/IEEE Transactions on Networking, </journal> <volume> 1(4) </volume> <pages> 397-413, </pages> <month> August </month> <year> 1993. </year>
Reference-contexts: Our approach to service differentiation between marked and unmarked packets relies on a selective packet discard mechanism. We use an enhanced version of the red (Random Early Detection) algorithm <ref> [2, 11] </ref> for this purpose. In classical red routers, a single fifo queue is maintained for all packets. Packets are dropped randomly with a given probability when the queue length exceeds a certain threshold.
Reference: [12] <author> S. Floyd and V. Jacobson. </author> <title> Link-sharing and Resource Management Models for Packet Networks. </title> <journal> IEEE/ACM Transactions on Networking, </journal> <volume> 3(4), </volume> <month> August </month> <year> 1995. </year>
Reference-contexts: In particular, we consider scenarios where only some parts of the network support service differentiation and propose mechanisms for detecting and reacting to such situations at the source. Finally, we discuss issues in interoperating ToS-based mechanisms with alternative mechanisms <ref> [3, 6, 12] </ref> for supporting service differentiation in the Internet. 2 Service Model In this section, we present a detailed description of our service model and architecture. As mentioned earlier, our objective is to provide service discrimination in the network without using explicit reservation of resources. <p> Since the ToS-based mechanisms described here rely only on preferential queueing based on the priority levels, they can be embedded without modification into any of the packet and link scheduling frameworks which have been proposed for supporting various integrated services <ref> [3, 6, 12] </ref>. Hence, co-existence of ToS and RSVP-based mechanisms is quite straight forward. For networks in which different network segments on the path of a connection offer different types of service differentiation, mapping between priority levels and RSVP service levels is required to ensure interoperability.
Reference: [13] <editor> IETF BOF Notes. </editor> <title> Future Directions for Differential Services BOF (fddifs). </title> <month> April </month> <year> 1997. </year>
Reference-contexts: While the deployment of an RSVP-based quality of service infrastructure is underway, a more evolutionary approach to provide service differentiation in the Internet is also under consideration <ref> [5, 13] </ref>. The crux of this approach is to create service classes with different priorities using either the type-of-service (ToS) feature of IPv4 [1, 17, 18] or the priority bits of IPv6 [7, 8].
Reference: [14] <author> V. Jacobson. </author> <title> Congestion Avoidance and Control. </title> <booktitle> In Proceedings of ACM SIGCOMM, </booktitle> <pages> pages 314-329, </pages> <month> August </month> <year> 1988. </year>
Reference-contexts: This is in some sense similar to the linear increase algorithm for congestion avoidance used by tcp <ref> [14] </ref>. As shown in Figure 6, we compute an estimated number of marked packets in flight (pwnd) by taking the estimated congestion window given as the product of the observed bandwidth and the estimated round-trip time (rtt) and multiplying it by the marking probability.
Reference: [15] <author> D. Lin and R. Morris. </author> <title> Dynamics of Random Early Detection. </title> <booktitle> In Proc. of ACM SIGCOMM, </booktitle> <month> September </month> <year> 1997. </year>
Reference-contexts: However, it is possible to implement weighted bandwidth sharing easily through the use of additional priority levels which give the network an indication of the connection's target rate and/or importance. Future work will address such issues. Another important issue is protection against non-responsive (non-tcp) flows <ref> [9, 15] </ref>. Such flows have the potential of stealing bandwidth away from other flows which are responsive to congestion. One of the advantages of using a pmg is that it can insulate a connection or a connection group from others. <p> In order to provide fairness between connections competing for best-effort bandwidth, it is possible to extend ered queues with additional fairness mechanisms <ref> [15] </ref>. 6 Deployment Issues The Internet is a highly heterogeneous and slowly evolving networking environment. It is impractical to assume that all routers in the Internet will handle priority packets in the same way.
Reference: [16] <author> S. McCanne and S. Floyd. </author> <title> http://www-nrg.ee.lbl.gov/ns/. ns-LBNL Network Simulator, </title> <year> 1996. </year>
Reference-contexts: That is, the changes in the marking probability get smaller as the observed bandwidth nears the target bandwidth. This scaling damps the amplitude of oscillations of the marking probability. In order to understand the effect of packet marking, we simulated a simple scenario using the ns <ref> [16] </ref> network simulator. As shown in Figure 3, the simulated network consists of six nodes, n0 through n5, and five links connecting them. Each link is labeled with its respective link bandwidth and transmission delay.
Reference: [17] <author> J. Postel. </author> <title> Internet Protocol. </title> <type> RFC 791, </type> <month> September </month> <year> 1981. </year>
Reference-contexts: The crux of this approach is to create service classes with different priorities using either the type-of-service (ToS) feature of IPv4 <ref> [1, 17, 18] </ref> or the priority bits of IPv6 [7, 8]. Depending on how packets with different priorities are handled by the network, a priority scheme usually translates into higher achieved throughput for higher priority classes and can be a useful building block for explicit service differentiation.
Reference: [18] <author> J. Reynolds and J. Postel. </author> <title> Assigned Numbers. </title> <type> RFC 1340, </type> <month> July </month> <year> 1992. </year> <month> 20 </month>
Reference-contexts: The crux of this approach is to create service classes with different priorities using either the type-of-service (ToS) feature of IPv4 <ref> [1, 17, 18] </ref> or the priority bits of IPv6 [7, 8]. Depending on how packets with different priorities are handled by the network, a priority scheme usually translates into higher achieved throughput for higher priority classes and can be a useful building block for explicit service differentiation.
Reference: [19] <author> S. Shenker, C. Partridge, and R. Guerin. </author> <title> Specification of Guaranteed Quality of Service. Internet Draft draft-ietf-intserv-guaranteed-svc-08.txt, </title> <month> February </month> <year> 1997. </year> <month> Xerox/BBN/IBM. </month>
Reference-contexts: One of the outcomes of this effort is RSVP [4, 21], a signaling protocol for resource reservation. RSVP and its associated suite of service classes <ref> [19, 20] </ref> can be used to offer service discrimination for delay sensitive applications by explicit allocation of resources in the network. While the deployment of an RSVP-based quality of service infrastructure is underway, a more evolutionary approach to provide service differentiation in the Internet is also under consideration [5, 13].
Reference: [20] <author> J. Wroclawski. </author> <title> Specification of Controlled-Load Network Element Service. Internet Draft draft-ietf-intserv-ctrl-load-svc-05.txt, May 1997. </title> <publisher> MIT. </publisher>
Reference-contexts: One of the outcomes of this effort is RSVP [4, 21], a signaling protocol for resource reservation. RSVP and its associated suite of service classes <ref> [19, 20] </ref> can be used to offer service discrimination for delay sensitive applications by explicit allocation of resources in the network. While the deployment of an RSVP-based quality of service infrastructure is underway, a more evolutionary approach to provide service differentiation in the Internet is also under consideration [5, 13].
Reference: [21] <author> L. Zhang, S. Deering, D. Estrin, S. Shenker, and D. Zappala. RSVP: </author> <title> A New Resource ReSerVation Protocol. </title> <journal> IEEE Network, </journal> <pages> pages 8-18, </pages> <month> September </month> <year> 1993. </year> <month> 21 </month>
Reference-contexts: In an attempt to enrich this service model, the Internet Engineering Task Force is considering a number of extensions that permit the allocation of different levels of service to different users. One of the outcomes of this effort is RSVP <ref> [4, 21] </ref>, a signaling protocol for resource reservation. RSVP and its associated suite of service classes [19, 20] can be used to offer service discrimination for delay sensitive applications by explicit allocation of resources in the network.
References-found: 21

