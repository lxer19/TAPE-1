URL: http://ptolemy.eecs.berkeley.edu/papers/tcpSim/Sisa9510_Congestion.ps.gz
Refering-URL: http://ptolemy.eecs.berkeley.edu/papers/tcpSim/
Root-URL: 
Email: fdor, hgsg@fokus.gmd.de  
Title: Congestion Control in TCP: Performance of Binary Congestion Notification Enhanced TCP Compared to Reno and
Author: Dorgham Sisalem Henning Schulzrinne 
Note: This work was funded in part by the Commission of European Communities (CEC) under project R2116 TOMQAT.  
Date: October 31, 1995  
Address: Berlin  
Affiliation: GMD-Fokus,  
Abstract-found: 0
Intro-found: 1
Reference: [1] <author> S. S. Shirish, </author> <title> "ATM Forum traffic management specification version 4.0," ATM Forum 94-0013R6, </title> <month> June </month> <year> 1995. </year>
Reference-contexts: The source then reduces the transmission window by a multiplicative decrease factor (MDF). In this, the scheme resembles the congestion control schemes using bit marking proposed for ATM data services <ref> [1] </ref>. So, for the case of TCP running over an ABR connection this resemblance will allow better integration of ATM and TCP as both schemes would react in a similar way to the same congestion information. <p> With our approach for using binary congestion notification in TCP we try to integrate the guidelines for using congestion notification as was proposed in [4] and the ATM source response to bit marking control schemes <ref> [1] </ref>. <p> and congestion avoidance must be applied directly if the congestion bit is not used. * Secondly, to ease the future integration of TCP and ATM, TCP implementations that can handle binary congestion notification should try to adopt the source behavior specified for ATM sources using the available bit rate service <ref> [1] </ref>. An ABR source that receives a binary congestion notification from the network reduces its rate by a multiplicative reduction factor. <p> done as follows: Whenever the average queue length exceeds a minimum threshold (Min th ) and is lower than a maximum threshold (Max th ) the number of the packet to be dropped or marked (N ) is determined as follows: N = [R=p b ] with R = Random <ref> [0; 1] </ref> is from the uniform distribution on [0,1] and p b is calculated using the average queue length and the threshold values. <p> Again here, persistent sources are used with a maximum packet size of 500 bytes and a multiplicative decrease factor of 0.975. As a fairness criterion we use the max-min fairness definition as it was described in the ATM Forum traffic management specification 4.0 <ref> [1] </ref>.
Reference: [2] <author> W. R. Stevens, </author> <title> TCP/IP illustrated: </title> <booktitle> the protocols, </booktitle> <volume> vol. </volume> <pages> 1. </pages> <address> Reading, Massachusetts: </address> <publisher> Addison-Wesley, </publisher> <year> 1994. </year>
Reference-contexts: When the next acknowledgment arrives that acknowledges new data cwnd is set to ssthresh and the congestion avoidance mode is entered. For a more detailed description of the different congestion control mechanisms of TCP, see <ref> [2] </ref>. In TCP/IP based networks congestion is indicated by dropping packets at congested routers. Packets are usually dropped when the queue of the router reaches its limit (drop tail scheme).
Reference: [3] <author> S. Floyd and V. Jacobson, </author> <title> "Random early detection gateways for congestion avoidance," </title> <journal> IEEE/ACM Transactions on Networking, </journal> <volume> vol. 1, </volume> <pages> pp. 397-413, </pages> <month> Aug. </month> <year> 1993. </year>
Reference-contexts: In this study we use another approach for dropping packets that is more appropriate for the binary congestion notification scheme. With the random early drop (RED) scheme described in <ref> [3] </ref> the packets are dropped or marked when the average queue length exceeds a certain threshold; a more detailed description will be provided in sec. 4. <p> Compared to the drop tail scheme higher utilization can be reached with this scheme, fairer bandwidth distribution is achieved and global synchronization can be avoided <ref> [3] </ref>. Note that for the binary congestion notification scheme, any other router algorithm could be used that can detect incipient congestion. Probably the most important work done in the area of binary congestion notification in TCP was done by Sally Floyd [4]. <p> The maximum packet size was set here to 500 bytes and a multiplicative decrease factor of 0.975 was used. The switch is a random early drop (RED) gateway as was proposed by Floyd and Jacobson <ref> [3] </ref>. A RED gateway detects incipient congestion by computing the average queue size z . When the average queue size exceeds a preset minimum threshold (Min th ) the switch marks each incoming packet with some probability.
Reference: [4] <author> S. Floyd, </author> <title> "TCP and explicit congestion notification." </title> <note> A PostScript version of this document is available from ftp://ftp.ee.lbl.gov/papers/tcp ecn.4.ps.Z, </note> <year> 1994. </year>
Reference-contexts: Note that for the binary congestion notification scheme, any other router algorithm could be used that can detect incipient congestion. Probably the most important work done in the area of binary congestion notification in TCP was done by Sally Floyd <ref> [4] </ref>. In her paper [4], she proposes guidelines for TCP's response to binary congestion notification (BCN) that can be summarized as follows: 1. TCP's response to BCN should be similar over longer time scales to its response to dropped packets or timeouts. Sisalem:Binary Congestion Notification in TCP 3 2. <p> Note that for the binary congestion notification scheme, any other router algorithm could be used that can detect incipient congestion. Probably the most important work done in the area of binary congestion notification in TCP was done by Sally Floyd <ref> [4] </ref>. In her paper [4], she proposes guidelines for TCP's response to binary congestion notification (BCN) that can be summarized as follows: 1. TCP's response to BCN should be similar over longer time scales to its response to dropped packets or timeouts. Sisalem:Binary Congestion Notification in TCP 3 2. <p> TCP should react to BCN at most once per round trip time. 4. The response to a BCN does not trigger the sending or retransmitting of any data packets. For the simulations done using this approach TCP was modified as follows <ref> [4] </ref>: Upon receiving a BCN message and if no response to congestion had been made in the last round trip time the usual congestion control mechanisms are applied, however, without retransmitting any data. <p> For the time being, we will just assume that the IP packets have a congestion bit as well as a congestion flag. With our approach for using binary congestion notification in TCP we try to integrate the guidelines for using congestion notification as was proposed in <ref> [4] </ref> and the ATM source response to bit marking control schemes [1].
Reference: [5] <author> P. Calhoun, </author> <title> "Congestion control in IPv6 Internetworks," </title> <type> internet draft, </type> <month> May </month> <year> 1995. </year> <note> Sisalem:Binary Congestion Notification in TCP 19 </note>
Reference-contexts: If three duplicate acks are received and no BCN messages have been received during the last round trip time, the TCP source follows the usual procedure of fast retransmission and fast recovery. In another work by Calhoun <ref> [5] </ref> the importance of using binary congestion notification is stressed as well. The author proposes a response scheme similar to some extent to the older bit marking schemes that were proposed for ATM [6].
Reference: [6] <author> B. Makrucki, T. Tofigh, A. Barnhart, B. Holden, J. Diagle, M. Hulchyj, H. Suzuki, G. Rama-murthy, P. Newman, N. Giroux, R. Kositpaiboon, S. Sathe, G. Garg, and N. Yin, </author> <title> "Closed-loop rate-based traffic management," </title> <type> ATM Forum 94-0438, </type> <month> May </month> <year> 1994. </year>
Reference-contexts: In another work by Calhoun [5] the importance of using binary congestion notification is stressed as well. The author proposes a response scheme similar to some extent to the older bit marking schemes that were proposed for ATM <ref> [6] </ref>. In this scheme, the source decreases its window by a factor of 0.625 if within a round trip time a packet with a set congestion bit is received. If within two round trip times no congestion indications were received the window can be increased by one.
Reference: [7] <author> C. Fang, H. Chen, and J. Hutchins, </author> <title> "Simulation analysis of TCP performance in congested ATM LAN using DEC's flow control scheme and two selective cell-drop schemes.," </title> <type> ATM Forum 94-0119, </type> <month> Jan. </month> <year> 1994. </year>
Reference-contexts: With the introduction of ATM technology the issue of integrating TCP and ATM in a heterogeneous environment will play an important role. Many current applications are based on the currently widespread TCP/IP infrastructure. Different studies <ref> [7, 8, 9] </ref> have shown that TCP's performance over ATM is severely degraded due to the segmentation of the TCP packets into ATM cells. Dropping only one cell in the ATM connection results in the loss of a whole TCP packet.
Reference: [8] <author> A. Romanow and S. Floyd, </author> <title> "The dynamics of TCP traffic over ATM networks," </title> <journal> IEEE Journal on Selected Areas in Communications, </journal> <volume> vol. 13, </volume> <pages> pp. 633-641, </pages> <month> May </month> <year> 1995. </year>
Reference-contexts: With the introduction of ATM technology the issue of integrating TCP and ATM in a heterogeneous environment will play an important role. Many current applications are based on the currently widespread TCP/IP infrastructure. Different studies <ref> [7, 8, 9] </ref> have shown that TCP's performance over ATM is severely degraded due to the segmentation of the TCP packets into ATM cells. Dropping only one cell in the ATM connection results in the loss of a whole TCP packet.
Reference: [9] <author> R. Morris, </author> <title> "Detailed behavior of TCP over ATM," </title> <type> tech. rep., </type> <institution> Harvard University, </institution> <year> 1995. </year>
Reference-contexts: With the introduction of ATM technology the issue of integrating TCP and ATM in a heterogeneous environment will play an important role. Many current applications are based on the currently widespread TCP/IP infrastructure. Different studies <ref> [7, 8, 9] </ref> have shown that TCP's performance over ATM is severely degraded due to the segmentation of the TCP packets into ATM cells. Dropping only one cell in the ATM connection results in the loss of a whole TCP packet.
Reference: [10] <author> T. Chen, L. Jones, S. Liu, and V. K. Samalam, </author> <title> "Effect of ATM cell loss rate on TCP packet loss," </title> <type> ATM Forum 94-0914, </type> <month> Sept. </month> <year> 1994. </year>
Reference-contexts: Dropping only one cell in the ATM connection results in the loss of a whole TCP packet. Thereby, even a small cell loss ratio results in a large data loss ratio in the TCP level <ref> [10] </ref>. In order to allow for a smooth integration of TCP and ATM it might be profitable to benefit from the congestion schemes proposed for ATM and to adapt TCP's congestion mechanisms to those proposals.
Reference: [11] <author> H. Hsiaw, K. Fendrick, J. Alpan, L. Roberts, B. Makrucki, T. Tofigh, A. Barnhart, B. Holden, J. Diagle, M. Hulchyj, H. Suzuki, G. Ramamurthy, P. Newman, N. Giroux, R. Kositpaiboon, S. Sathe, G. Garg, and N. Yin, </author> <title> "Closed-loop rate-based traffic management," ATM Forum 94-0438R2, </title> <month> Sept. </month> <year> 1994. </year>
Reference-contexts: policer or shaper to control the sending rate of the source. fl The ATM Forum is an international consortium whose goal is to accelerate the use of ATM products and services through the development of interoperability specifications and the promotion of industry cooperations. y N is usually set to 32 <ref> [11] </ref> Sisalem:Binary Congestion Notification in TCP 4 Depending on the switch used two kinds of congestion information can be conveyed back to the source: * Explicit rate indication: The switches write the fair bandwidth share of the connection directly into the RM cells. <p> The simulations were run for an UNI buffer size of 25 kbytes and 5 kbytes with a multiplicative decrease factor of 0.975. The switch determines which packets to mark using the enhanced proportional rate control algorithm (EPRCA) <ref> [11] </ref>. EPRCA computes a mean allowed cell rate (MACR) using exponential weighted averaging. MACR = (1 ff)MACR + ffCCR Here, ff is the exponential averaging factor and is usually set to 1=6 [17]. CCR is the current cell rate of the connection. <p> Other than the random early drop scheme used during this study, there have been several proposals for switch algorithms for the ABR services, see <ref> [22, 11, 17] </ref>. However, there is still a lot of work to be done in this area. * Further work must be done in investigating the effects of integrating connections using binary congestion notification in heterogeneous environments.
Reference: [12] <author> D. Sisalem, </author> <title> "Rate based congestion control and its effects on TCP over ATM," </title> <type> Master's thesis, </type> <institution> School of Engineering, TU Berlin, </institution> <address> Berlin, </address> <month> July </month> <year> 1995. </year>
Reference-contexts: Otherwise, it is entitled to increase its rate additively. This brief introduction of the rate control schemes proposed for ATM suggests additionally the importance of introducing the binary notification capability in TCP. Otherwise, some degradation in TCP's performance running over rate controlled ATM connections must be expected <ref> [12, 13] </ref>. 3 Implementing Binary Congestion Notification in TCP Our aim in this study is to investigate the effects of using binary congestion notification in TCP. <p> The links rates were set to 10 Mbps. For simulating the behavior of TCP we used the PTOLEMY [15] simulation tool to write a TCP model <ref> [12] </ref>. We implemented two versions of the 4.3BSD TCP: Tahoe-TCP with fast retransmission, delayed acknowledgments, round trip calculation and the Reno-TCP version with the fast recovery scheme as well. <p> This resulted in a better fairness performance and a fairness index of 0.89. However, using larger reduction factors leads to a more oscillating traffic and possibly lower through put, see <ref> [12] </ref>. * In our second approach each connection uses a multiplicative decrease factor in accordance with the number of switches it passes through.
Reference: [13] <author> P. P. Mishra, </author> <title> "Throughput degradation for TCP over ATM in the presence of traffic policing," </title> <booktitle> in Proc. of Gigabit Networking Workshop, </booktitle> <address> (Boston, Massachusetts), </address> <month> Apr. </month> <year> 1995. </year>
Reference-contexts: Otherwise, it is entitled to increase its rate additively. This brief introduction of the rate control schemes proposed for ATM suggests additionally the importance of introducing the binary notification capability in TCP. Otherwise, some degradation in TCP's performance running over rate controlled ATM connections must be expected <ref> [12, 13] </ref>. 3 Implementing Binary Congestion Notification in TCP Our aim in this study is to investigate the effects of using binary congestion notification in TCP.
Reference: [14] <author> D. E. </author> <title> Comer, </title> <journal> Internetworking with TCP/IP, </journal> <volume> vol. </volume> <pages> 1. </pages> <address> Englewood Cliffs, New Jersey: </address> <publisher> Prentice Hall, 3rd ed., </publisher> <year> 1995. </year> <note> [15] "The Almagest." A PostScript version of this document is available from ftp://ptolemy.Berkeley.EDU, </note> <year> 1994. </year>
Reference-contexts: There are a few possibilities of adding the congestion bits to the IP packets: * The simplest solution would be to use one of the IP options. * The flow label field proposed for the IPv6 header can be used for requesting the usage of binary congestion notification <ref> [14] </ref>. * Instead of marking packets the congested switch could just send an ICMP Source Quench message. Adding the congestion information to the IP level allows a wider usage of this information. So, it would be possible to add simple congestion control mechanisms to currently unreliable services such as UDP.
Reference: [16] <author> D. Borman, R. Braden, and V. Jacobson, </author> <title> "TCP extensions for high performance," Request for Comments (Proposed Standard) RFC 1323, </title> <institution> Internet Engineering Task Force, </institution> <month> May </month> <year> 1992. </year> <note> (Obsoletes RFC1185). </note>
Reference-contexts: Both versions were enhanced through large windows, i.e., the maximum window Sisalem:Binary Congestion Notification in TCP 8 size can be larger than the 64 kbytes allowed with the current implementations of TCP <ref> [16] </ref>. As the RTT values in our simulations are in the order of just a few milliseconds, the coarse-grain timer used in Unix TCP (typically, a granularity of 500 msec is used) would result in very imprecise timeout values.
Reference: [17] <author> R. Jain, </author> <title> "Congestion control and traffic management in ATM networks: Recent advances and a survey." </title> <note> A PostScript version is available at http://www.cis.ohio-state.edu/ jain/papers.html, </note> <month> Jan. </month> <year> 1995. </year>
Reference-contexts: The switch determines which packets to mark using the enhanced proportional rate control algorithm (EPRCA) [11]. EPRCA computes a mean allowed cell rate (MACR) using exponential weighted averaging. MACR = (1 ff)MACR + ffCCR Here, ff is the exponential averaging factor and is usually set to 1=6 <ref> [17] </ref>. CCR is the current cell rate of the connection. Connections that advertise a current rate that is higher than the calculated MACR are asked to reduce their rates by setting the congestion indicator (CI) bit in their RM cells. <p> Other than the random early drop scheme used during this study, there have been several proposals for switch algorithms for the ABR services, see <ref> [22, 11, 17] </ref>. However, there is still a lot of work to be done in this area. * Further work must be done in investigating the effects of integrating connections using binary congestion notification in heterogeneous environments.
Reference: [18] <author> S. Shenker, L. Zhang, and D. D. Clark, </author> <title> "Some observations on the dynamics of a congestion control algorithm," </title> <journal> ACM Computer Communication Review, </journal> <pages> pp. 30-39, </pages> <month> Oct. </month> <year> 1990. </year>
Reference-contexts: Secondly, on the contrary to the results achieved in Section 5, Tahoe-TCP achieves higher throughput than Reno-TCP. This was caused by the packet drop behavior noticed at the user network interfaces. BCN-TCP with 25 kbytes UNI-buffer Zhang et. al <ref> [18] </ref> show that with a simple configuration like the one used here, the number of discarded packets at a congested link during one epoch equals the amount by which the transmission window was increased during the same epoch.
Reference: [19] <author> C. Villamizar and C. Song, </author> <title> "High performance TCP in ANSNET," technical note, Advanced Network & Services, </title> <publisher> Inc. </publisher> <address> (ANSNET), </address> <month> Sept. </month> <year> 1994. </year>
Reference-contexts: For the Reno-TCP sources using the fast recovery scheme this is entirely different. Reno-TCP is optimized for the case of a single loss per epoch. For the case of a multiple drop, one of the following scenarios are applicable <ref> [19, 20] </ref>: * Fast recovery as well as fast retransmission are triggered for every lost packet. This can cause the window and the value of the slow start threshold (ssthresh) to be reduced in half a number of times.
Reference: [20] <author> S. Floyd, </author> <title> "TCP and successive fast retransmits." </title> <note> A PostScript version is available from ftp://ftp.ee.lbl.gov/papers, May 1995. Sisalem:Binary Congestion Notification in TCP 20 </note>
Reference-contexts: For the Reno-TCP sources using the fast recovery scheme this is entirely different. Reno-TCP is optimized for the case of a single loss per epoch. For the case of a multiple drop, one of the following scenarios are applicable <ref> [19, 20] </ref>: * Fast recovery as well as fast retransmission are triggered for every lost packet. This can cause the window and the value of the slow start threshold (ssthresh) to be reduced in half a number of times.
Reference: [21] <author> R. Jain, </author> <title> "Fairness: How to measure quantitatively?," </title> <type> ATM Forum 94-0881, </type> <month> Sept. </month> <year> 1994. </year>
Reference-contexts: For a quantitative description of fairness Jain <ref> [21] </ref> suggests using the so called fairness index.
Reference: [22] <author> T. Chen, S. Liu, V. Samalam, J. Ormord, and N. Yin, </author> <title> "Examples of switch mechanisms," </title> <type> ATM Forum 95-0345, </type> <month> Apr. </month> <year> 1995. </year>
Reference-contexts: Other than the random early drop scheme used during this study, there have been several proposals for switch algorithms for the ABR services, see <ref> [22, 11, 17] </ref>. However, there is still a lot of work to be done in this area. * Further work must be done in investigating the effects of integrating connections using binary congestion notification in heterogeneous environments.
References-found: 21

