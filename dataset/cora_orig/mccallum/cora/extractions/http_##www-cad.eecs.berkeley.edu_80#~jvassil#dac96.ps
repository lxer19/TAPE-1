URL: http://www-cad.eecs.berkeley.edu:80/~jvassil/dac96.ps
Refering-URL: http://www-cad.eecs.berkeley.edu:80/~jvassil/Publications.html
Root-URL: 
Title: Use of Sensitivities and Generalized Substrate Models in Mixed-Signal IC Design  
Author: Paolo Miliozzi, Iasson Vassiliou, Edoardo Charbon, Enrico Malavasi and Alberto L. Sangiovanni-Vincentelli 
Address: Berkeley, CA 94720  San Jose, CA 95134  
Affiliation: Department of Electrical Engineering and Computer Sciences, University of California,  Cadence Design Systems, Inc.,  
Abstract: A novel methodology for circuit design and automatic layout generation is proposed for a class of mixed-signal circuits in presence of layout parasitics and substrate induced noise. Accurate and efficient evaluation of the circuit during design is possible by taking into account such non-idealities. Techniques are presented to derive and use a set of constraints on substrate noise and on the geometric instances of the layout. Verification is performed using substrate extraction in combination with parasitic estimation techniques. To show the suitability of the approach, a VCO for a PLL has been designed and implemented in a CMOS 1m technology. The circuit has been optimized both at the schematic and at the layout level for power and performance, while its sensitivity to layout parasitics and substrate noise has been minimized. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> T. A. Johnson, R. W. Knepper, V. Marcello and W. Wang, </author> <title> Chip Substrate Resistance Modeling Technique for Integrated Circuit Design, </title> <journal> IEEE Trans. on CAD, </journal> <volume> vol. CAD-3, </volume> <pages> pp. 126-134, </pages> <year> 1984. </year>
Reference-contexts: Switching noise is mainly transmitted from digital to analog sections through power supply rails and substrate. For this reason, great effort has been devoted to the analysis and modeling of substrate-related parasitics in mixed-signal circuit design <ref> [1, 2, 3, 4] </ref>. These methods are well suited for the evaluation of circuit performance fl This research has been partially supported by the California MICRO program. The first author would like to thank Cadence Design Systems and Rock-well Semiconductor Systems for their support. after the physical assembly.
Reference: [2] <author> D. K. Su, M. Loinaz, S. Masui and B. Wooley, </author> <title> Experimental Results and Modeling Techniques for Substrate Noise in Mixed-Signal Integrated Circuits, </title> <journal> IEEE Journal of Solid State Circuits, </journal> <volume> vol. </volume> <editor> SC-28, n. </editor> <volume> 4, </volume> <pages> pp. 420-430, </pages> <month> April </month> <year> 1993. </year>
Reference-contexts: Switching noise is mainly transmitted from digital to analog sections through power supply rails and substrate. For this reason, great effort has been devoted to the analysis and modeling of substrate-related parasitics in mixed-signal circuit design <ref> [1, 2, 3, 4] </ref>. These methods are well suited for the evaluation of circuit performance fl This research has been partially supported by the California MICRO program. The first author would like to thank Cadence Design Systems and Rock-well Semiconductor Systems for their support. after the physical assembly. <p> Generally the substrate noise analysis is addressed in two ways: through a complete extraction of substrate's electrical properties [4]; using analytical approximation to derive a simpler model <ref> [2, 10] </ref>. Either technique has drawbacks, the first one in the computational complexity and the second one in the accuracy. Both share the dependence of simulation results on technology and on the physical implementation of the circuit, which might not be available at high-level design stages.
Reference: [3] <author> B. R. Stanisic, N. K. Verghese, D. J. Allstot, R. A. Rutenbar and L. R. Carley, </author> <title> Addressing Substrate Coupling in Mixed-Mode ICs: Simulation and Power Distribution Synthesis, </title> <journal> IEEE Journal of Solid State Circuits, </journal> <volume> vol. </volume> <editor> SC-29, n. </editor> <volume> 3, </volume> <pages> pp. 226-237, </pages> <month> March </month> <year> 1994. </year>
Reference-contexts: Switching noise is mainly transmitted from digital to analog sections through power supply rails and substrate. For this reason, great effort has been devoted to the analysis and modeling of substrate-related parasitics in mixed-signal circuit design <ref> [1, 2, 3, 4] </ref>. These methods are well suited for the evaluation of circuit performance fl This research has been partially supported by the California MICRO program. The first author would like to thank Cadence Design Systems and Rock-well Semiconductor Systems for their support. after the physical assembly.
Reference: [4] <author> R. Gharpurey and R. G. Meyer, </author> <title> Modeling and Analysis of Substrate Coupling in ICs, </title> <booktitle> in Proc. IEEE CICC, </booktitle> <pages> pp. 125-128, </pages> <month> May </month> <year> 1995. </year>
Reference-contexts: Switching noise is mainly transmitted from digital to analog sections through power supply rails and substrate. For this reason, great effort has been devoted to the analysis and modeling of substrate-related parasitics in mixed-signal circuit design <ref> [1, 2, 3, 4] </ref>. These methods are well suited for the evaluation of circuit performance fl This research has been partially supported by the California MICRO program. The first author would like to thank Cadence Design Systems and Rock-well Semiconductor Systems for their support. after the physical assembly. <p> Generally the substrate noise analysis is addressed in two ways: through a complete extraction of substrate's electrical properties <ref> [4] </ref>; using analytical approximation to derive a simpler model [2, 10]. Either technique has drawbacks, the first one in the computational complexity and the second one in the accuracy. <p> Thus no constraints need to be generated for these two components. 4 Substrate Noise Characterization Modeling transmission of noise through substrate is quite complex and computationally intensive. With typical substrate doping levels, used in commercial processes, the substrate impedance is mainly resistive up to 3 5 GHz <ref> [4] </ref>. Several attempts have been made to address the problem efficiently, either extracting the complete resistive mesh [11] or approximating the substrate with analytical models [10]. In this work we use SUBRES, a package for efficient substrate analysis based on the use of the Green Function [4]. <p> to 3 5 GHz <ref> [4] </ref>. Several attempts have been made to address the problem efficiently, either extracting the complete resistive mesh [11] or approximating the substrate with analytical models [10]. In this work we use SUBRES, a package for efficient substrate analysis based on the use of the Green Function [4]. For each contact on the surface, resistances to every other contact and to the backplate are evaluated (see Figure 3). Hence, a square matrix of dimensions equal to the number of contacts being analyzed is generated. <p> If we consider a very large digital circuit with hundreds of thousands of transistors a complete substrate extraction is infeasible. The possibility of reducing such a circuit into clusters which share the same injection characteristics would be highly desirable. It has been shown in <ref> [4] </ref> that in case of low-resistivity substrates the relative location of different parts of the circuit is not critic within certain spatial limits. Based on this assumption we propose a partitioning based on time rather than on space.
Reference: [5] <author> H. Chang, A. L. Sangiovanni-Vincentelli, F. Balarin, E. Charbon, U. Choudhury, G. Jusuf, E. Liu, E. Malavasi, R. Neff and P. Gray, </author> <title> A Top-down, Constraint-Driven Design Methodology for Analog Integrated Circuits, </title> <booktitle> in Proc. IEEE CICC, </booktitle> <pages> pp. 841-846, </pages> <month> May </month> <year> 1992. </year>
Reference-contexts: However often a priori knowledge of circuit parasitics is needed to optimize performance, area or power at both design and layout implementation level. A behavioral-based constraint-driven approach to the design and physical assembly of mixed-signal ICs has been proposed in <ref> [5] </ref>. In this approach, a top-down hierarchical decomposition of the circuit is used to characterize the behavior and allow early verification and failure detection at each stage of the design. <p> In our top-down design methodology an optimization step is used for the selection of the parameters of each building block so as to meet all performance constraints at the higher level of the hierarchy <ref> [5] </ref>. In the case of the VCO shown in Figure 1, the performance constraints obtained from behavioral optimization are listed in Table 1, where performance deviations do not take into account process gradients.
Reference: [6] <author> I. A. Young, J. K. Greason and K. L. Wong, </author> <title> A PLL Clock Generator with 5 to 110 MHz of Lock Range for Microprocessors, </title> <journal> JSSC, </journal> <volume> vol. </volume> <editor> SC-27, n. </editor> <volume> 11, </volume> <pages> pp. 1599-1607, </pages> <month> November </month> <year> 1992. </year>
Reference-contexts: The architecture used as a basis for the PLL design is shown in Figure 1. It consists of a crystal reference frequency generator (F ref ), a phase-frequency detector (PFD), a charge-pump, a second order RC loop filter and a voltage controlled ring oscillator (VCO) <ref> [6, 7] </ref>. The output frequency is expressed as F out = F ref n=mk , where n; m and k represent the dividing ratios of the frequency scalers in Each of the PLL blocks is characterized by a set of behavioral parameters.
Reference: [7] <author> D. Reynolds, </author> <title> A 320 MHz CMOS Triple 8b DAC with On-Chip PLL and Hardware Cursor, </title> <booktitle> in Proc. IEEE International Solid-State Circuits Conference, </booktitle> <pages> pp. 50-51, </pages> <month> February </month> <year> 1994. </year>
Reference-contexts: The architecture used as a basis for the PLL design is shown in Figure 1. It consists of a crystal reference frequency generator (F ref ), a phase-frequency detector (PFD), a charge-pump, a second order RC loop filter and a voltage controlled ring oscillator (VCO) <ref> [6, 7] </ref>. The output frequency is expressed as F out = F ref n=mk , where n; m and k represent the dividing ratios of the frequency scalers in Each of the PLL blocks is characterized by a set of behavioral parameters.
Reference: [8] <author> A. Demir, E. Liu, A. L. Sangiovanni-Vincentelli and I. Vassiliou, </author> <title> Behav ioral Simulation Techniques for Phase/Delay-Locked Systems, </title> <booktitle> in Proc. IEEE CICC, </booktitle> <pages> pp. 453-456, </pages> <month> May </month> <year> 1994. </year>
Reference-contexts: Performance constraints for the PLL are: 1. stable frequency range of operation: F min F out F max ; 2. peak-to-peak timing jitter of the generated clock: J pp J pp . This model was used by the behavioral simulator described in <ref> [8] </ref> to execute worst-case performance analysis. In order to proceed with the top-down approach it is necessary to map these specifications onto lower-level constraints on the physical implementation. Parasitic Constraint Generation Let us consider a performance set represented by vector K = fi fl T .
Reference: [9] <author> U. Choudhury and A. L. Sangiovanni-Vincentelli, </author> <title> Constraint Generation for Routing Analog Circuits, </title> <booktitle> in Proc. IEEE/ACM DAC, </booktitle> <pages> pp. 561-566, </pages> <month> June </month> <year> 1990. </year>
Reference-contexts: Flexibility functions give a measure of the level of difficulty in implementing a particular layout structure to obtain a performance. In our approach a quadratic flexibility function has been used as described in detail in <ref> [9] </ref>. Design Optimization Techniques The robustness of the design can be significantly improved by use of sensitivity analysis applied to circuit performance. <p> max 0 4F max 0 F max F max 0 + 4F max 0 where W p ; L p ; W n ; L n are the transistor sizes of the fully differential inverter, shown in Figure 2. 1 The sensitivity has not been normalized following the notation in <ref> [9] </ref>. This optimization minimizes current I through each VCO cell and therefore the size of the input transistors of the differential pair, which determine the cell delay, thus keeping the ratio I=C out constant, where C out is the capacitance at the output node of each cell. <p> The sensitivities of period K 1 with respect to all circuit parasitics have been calculated using the method of finite differences by augmentation of the schematic. A constrained optimization-based algorithm has been used to derive constraints on the parasitics <ref> [9] </ref>. Each node connected to ground through the substrate, is associated with a different local noise generator.
Reference: [10] <author> K. Joardar, </author> <title> A Simple Approach to Modeling Cross-Talk in Integrated Cir cuits, </title> <journal> IEEE Journal of Solid State Circuits, </journal> <volume> vol. </volume> <editor> SC-29, n. </editor> <volume> 10, </volume> <pages> pp. 1212-1219, </pages> <month> October </month> <year> 1994. </year>
Reference-contexts: Generally the substrate noise analysis is addressed in two ways: through a complete extraction of substrate's electrical properties [4]; using analytical approximation to derive a simpler model <ref> [2, 10] </ref>. Either technique has drawbacks, the first one in the computational complexity and the second one in the accuracy. Both share the dependence of simulation results on technology and on the physical implementation of the circuit, which might not be available at high-level design stages. <p> With typical substrate doping levels, used in commercial processes, the substrate impedance is mainly resistive up to 3 5 GHz [4]. Several attempts have been made to address the problem efficiently, either extracting the complete resistive mesh [11] or approximating the substrate with analytical models <ref> [10] </ref>. In this work we use SUBRES, a package for efficient substrate analysis based on the use of the Green Function [4]. For each contact on the surface, resistances to every other contact and to the backplate are evaluated (see Figure 3).
Reference: [11] <author> N. K. Verghese, D. J. Allstot and S. Masui, </author> <title> Rapid Simulation of Substrate Coupling Effects in Mixed-Mode ICs, </title> <booktitle> in Proc. IEEE CICC, </booktitle> <pages> pp. 1831-1834, </pages> <month> May </month> <year> 1993. </year>
Reference-contexts: With typical substrate doping levels, used in commercial processes, the substrate impedance is mainly resistive up to 3 5 GHz [4]. Several attempts have been made to address the problem efficiently, either extracting the complete resistive mesh <ref> [11] </ref> or approximating the substrate with analytical models [10]. In this work we use SUBRES, a package for efficient substrate analysis based on the use of the Green Function [4]. For each contact on the surface, resistances to every other contact and to the backplate are evaluated (see Figure 3).
Reference: [12] <author> C. Hu, </author> <title> VLSI Electronics: </title> <journal> Microstructure Science, </journal> <volume> volume 18, </volume> <publisher> Academic Press, </publisher> <address> New York, </address> <year> 1981. </year>
Reference-contexts: ionization can be expressed through the following equation: I impact = A lE m I d e B=E m = C 1 (V ds V dsat )I d e C 2 (V ds V dsat ) ; where V ds is the drain-source voltage and V dsat the saturation voltage <ref> [12] </ref>. To determine parameters C 1 and C 2 the device simulator PISCES [13] has been used. These parameters have then be utilized in standard SPICE models. Impact ionization induced current is caused by hole injection, therefore it can only be positive. <p> A second type, referred to as high-resistivity substrate, is composed of a uniformly doped layer with ' 20 ffi 50 Wcm. Recently the low-resistivity substrate with a high resistivity epitaxial layer has been widely adopted for its latch-up suppression properties <ref> [12] </ref>. If we consider a very large digital circuit with hundreds of thousands of transistors a complete substrate extraction is infeasible. The possibility of reducing such a circuit into clusters which share the same injection characteristics would be highly desirable.
Reference: [13] <author> M. R. Pinto, C. S. Rafferty, H. R. Yeager and R. W. </author> <type> Dutton, </type> <institution> PISCES-IIB, Stanford University, Stanford, </institution> <address> CA, </address> <year> 1985. </year>
Reference-contexts: To determine parameters C 1 and C 2 the device simulator PISCES <ref> [13] </ref> has been used. These parameters have then be utilized in standard SPICE models. Impact ionization induced current is caused by hole injection, therefore it can only be positive.
Reference: [14] <author> E. Charbon, E. Malavasi, D. Pandini and A. L. Sangiovanni-Vincentelli, </author> <title> Simultaneous Placement and Module Optimization of Analog IC's, </title> <booktitle> in Proc. IEEE/ACM DAC, </booktitle> <pages> pp. 31-35, </pages> <month> June </month> <year> 1994. </year>
Reference-contexts: Finally SUBRES is used to drive a placement tool towards a configuration where all specifications are met. 5 Results A VCO module generator, VCOGEN, has been realized and the constraints on the substrate noise have been used to place the VCO inside a PLL. The placement tool PUPPY-A <ref> [14] </ref> has been modified to account for the substrate model. An appropriate floorplan for the VCO was chosen to account for various considerations. First, critical capacitive and resistive parasitics could be easily minimized by abutting all delay elements of the ring oscillator.
Reference: [15] <author> E. Felt, , A. Narayan and A. L. Sangiovanni-Vincentelli, </author> <title> Measurements and Modeling of MOS Transistor Current Mismatch in Analog ICs, </title> <booktitle> in Proc. IEEE ICCAD, </booktitle> <pages> pp. 272-277, </pages> <month> November </month> <year> 1994. </year>
Reference-contexts: In addition, by keeping the cell's aspect-ratio low, the systematic component of the mismatch relevant to the circuit could be reduced to one dimension as suggested Performance Ideal Value max degradation oscillation period 10 20ns 10 % peak-to-peak jitter 0 100ps Table 2: Design specifications of the VCO. in <ref> [15] </ref>. The fully differential implementation of the VCO can acquire a better isolation to substrate noise capacitively coupling through interconnections with respect to a single-ended one. The delay element and the distributed bias of the VCO are depicted in Figure 2.
References-found: 15

