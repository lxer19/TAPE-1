URL: file://ftp.cis.ohio-state.edu/pub/tech-report/1996/TR41.ps.gz
Refering-URL: ftp://ftp.cis.ohio-state.edu/pub/tech-report/TRList.html
Root-URL: 
Email: Email: fbasak,pandag@cis.ohio-state.edu  
Phone: Tel: (614)-292-5199, Fax: (614)-292-2911  
Title: Alleviating Consumption Channel Bottleneck in Wormhole-Routed k-ary n-cube Systems 1  
Author: Debashis Basak and Dhabaleswar K. Panda 
Keyword: Parallel computer architecture, wormhole routing, k-ary n-cube, consumption Channel, virtual Channel, deterministic routing, adaptive routing, hot-spot traffic, performance evaluation, and interprocessor communication.  
Address: Columbus, OH 43210-1277  
Affiliation: Dept. of Computer and Information Science The Ohio State University  
Abstract: This paper identifies performance degradation in wormhole routed k-ary n-cube networks due to limited number of router-to-processor consumption channels at each node. Many recent research in wormhole routing have advocated the advantages of adaptive routing and virtual channel flow control schemes to deliver better network performance. This paper indicates that the advantages associated with these schemes can not be realized with limited consumption capacity. To alleviate such performance bottleneck, a new network interface design using multiple consumption channels is proposed. To match virtual multiplexing on network channels, we also propose each consumption channel to support multiple virtual consumption channels. The impact of message arrival rate at a node on the required number of consumption channel is studied analytically. It is shown that wormhole networks with higher routing adaptivity, dimensionality, degree of hot-spot traffic, and number of virtual lanes have to take advantage of multiple consumption channels to deliver better performance. The interplay between system topology, routing algorithm, number of virtual lanes, messaging overheads, and communication traffic is studied through simulation to derive the effective number of consumption channels required in a system. Using the on-going technological trend, it is shown that wormhole-routed systems can use up to 2-4 consumption channels per node to deliver better system performance. 1 This research is supported in part by NSF Grant MIP-9309627, Faculty Early Career Development Award MIP-9502294, and an Ohio State University Presidential Fellowship. A preliminary version of this paper[4] has been 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> S. Abraham and K. Padmanabhan. </author> <title> Performance of the Direct Binary n-cube Network for Multiprocessors. </title> <journal> IEEE Transactions on Computers, </journal> <pages> pages 1000-1011, </pages> <month> July </month> <year> 1989. </year>
Reference-contexts: Larger messages are divided into such smaller messages packets before being transferred over the network. For example, on the Cray-T3D and IBM SP2 such transfer size on the network is approximately 64 and 256 bytes [12, 21], respectively. Earlier research <ref> [1, 37] </ref> has demonstrated that providing a small amount of memory, corresponding to a few message packet buffers, is sufficient to approximate infinite buffering performance. In the eventuality that all message packet buffers are full, further consumption is stalled and incoming messages forced to block in the network.
Reference: [2] <author> A. Agrawal. </author> <title> Limits on Interconnection Network Performance. </title> <journal> IEEE Trans. on Parallel and Distributed Systems, </journal> <volume> 2(4) </volume> <pages> 398-412, </pages> <month> Oct </month> <year> 1991. </year>
Reference-contexts: Experimentation with higher number of message buffers yielded similar performance. 2.5 Number of physical consumption channels supportable by router pinout Current technology supports up to 250 to 400 pins [5] per router. The pinout restricts the number of channels and channel width that can be supported from a router <ref> [2] </ref>. Although a very high number of consumption channels is clearly not possible, let us derive an estimate on reasonable number of consumption channels supportable by contemporary router pinout technology. Let R denote the required router pinout, in a k-ary n-cube system with W bytes wide data channels. <p> The actual maximum achievable throughput is typically lower due to network contention. Similar observations continue to hold with such throughput also <ref> [2, 13] </ref>. Network contention depends on various factors including virtual channel flow control, routing adaptivity, and message length. In Sec. 6 we study these aspects in detail through simulation experiments. <p> Without loss of generality, in this paper we choose this number as 5%. Earlier studies <ref> [2, 13] </ref> have proposed contention models to determine latency versus throughput performance in wormhole-switched k-ary n-cube networks. However, these studies focused mostly on dimension-order routing and assumed no consumption collision at the destination node 19 (consumption assumption [2, 13, 14]). <p> Earlier studies [2, 13] have proposed contention models to determine latency versus throughput performance in wormhole-switched k-ary n-cube networks. However, these studies focused mostly on dimension-order routing and assumed no consumption collision at the destination node 19 (consumption assumption <ref> [2, 13, 14] </ref>). In this study our focus is on designing the consumption interface and studying the impact of various factors on such design.
Reference: [3] <author> K. V. Anjan and T. M. Pinkston. </author> <title> An efficient, fully adaptive deadlock recovery scheme: </title> <booktitle> Disha. In Proc. of the Int. Symp. on Computer Architecture, </booktitle> <pages> pages 201-210, </pages> <year> 1995. </year>
Reference-contexts: In the absence of sufficient consumption capacity at a node the advantages of these schemes become somewhat limited. Over the years multiple virtual channels per network channel has been proposed to provide deadlock-freedom [18], routing adaptivity <ref> [3, 8] </ref>, and VCFC [14, 35]. Contemporary systems are adopting such multiple virtual channels/lanes on network channels [12]. In such systems, a consumption channel is required to support virtual multiplexing. <p> The other impact of adaptivity is in offering higher network throughput <ref> [3, 8] </ref> by allowing a message to circumvent points of congestion. Similar impact is also achieved with virtual channel flow control (VCFC) [14] which allows an active message to bypass blocked messages on a channel leading to lower blocking and better network utilization.
Reference: [4] <author> S. Balakrishnan and D. K. Panda. </author> <title> Impact of Multiple Consumption Channels on Wormhole Routed k-ary n-cube Networks. </title> <booktitle> In Proc. of the Int. Parallel Processing Symp., </booktitle> <pages> pages 163-167, </pages> <month> April </month> <year> 1993. </year>
Reference: [5] <author> D. Basak and D. K. Panda. </author> <title> Designing Clustered Multiprocessor Systems under Packaging and Technological Advancements. </title> <note> To appear in IEEE Trans. on Parallel and Distributed Systems, currently available at http://www.cis.ohio-state.edu/~panda/pac.html. </note>
Reference-contexts: Experimentation with higher number of message buffers yielded similar performance. 2.5 Number of physical consumption channels supportable by router pinout Current technology supports up to 250 to 400 pins <ref> [5] </ref> per router. The pinout restricts the number of channels and channel width that can be supported from a router [2]. Although a very high number of consumption channels is clearly not possible, let us derive an estimate on reasonable number of consumption channels supportable by contemporary router pinout technology.
Reference: [6] <author> M. A. Blumrich and K. Li et al. </author> <title> Virtual Memory Mapped Network Interface for the SHRIMP Multicomputer. </title> <booktitle> In Proc. of the Int. Symp. on Computer Architecture, </booktitle> <pages> pages 142-153, </pages> <year> 1994. </year>
Reference-contexts: This can lead to much of the communication bandwidth offered by the expensive fast interconnect to remain unutilized. With low maximum message rate per node, the probability of consumption delay can be small leading to limited benefits from higher number of consumption channels. Several research studies are ongoing <ref> [27, 19, 26, 6] </ref> for designing messaging protocols and hardware to reduce such overheads. In the near future we expect efficient protocols to offer t s in the range of few tens to hundreds of cycles.
Reference: [7] <author> R. V. Boppana and S. Chalasani. </author> <title> A Comparison of Adaptive Wormhole Routing Algorithms. </title> <booktitle> In International Symposium on Computer Architecture, </booktitle> <pages> pages 351-360, </pages> <year> 1993. </year> <month> 28 </month>
Reference-contexts: Such blocking besides leading to under-utilization of channels, may block other messages in the network. Though the wormhole-routing was initially proposed with deterministic routing [15, 11], a number of adaptive routing schemes have been proposed recently by many researchers <ref> [7, 9, 29, 30, 34] </ref> to reduce such message blocking in the network. Similarly, the use of multiple virtual networks (or lanes) with Virtual Channel Flow Control (VCFC) has been proposed [14] in literature to be used with either deterministic or adaptive routing.
Reference: [8] <author> Y. M. Boura and C. R. Das. </author> <title> Efficient fully adaptive wormhole routing in n-dimensional meshes. </title> <booktitle> In Proc. of the Int. Conference on Distributed Computing Systems, </booktitle> <pages> pages 589-596, </pages> <year> 1994. </year>
Reference-contexts: In the absence of sufficient consumption capacity at a node the advantages of these schemes become somewhat limited. Over the years multiple virtual channels per network channel has been proposed to provide deadlock-freedom [18], routing adaptivity <ref> [3, 8] </ref>, and VCFC [14, 35]. Contemporary systems are adopting such multiple virtual channels/lanes on network channels [12]. In such systems, a consumption channel is required to support virtual multiplexing. <p> The other impact of adaptivity is in offering higher network throughput <ref> [3, 8] </ref> by allowing a message to circumvent points of congestion. Similar impact is also achieved with virtual channel flow control (VCFC) [14] which allows an active message to bypass blocked messages on a channel leading to lower blocking and better network utilization.
Reference: [9] <author> A. A. Chien and J. H. Kim. </author> <title> Planar Adaptive Routing: Low cost adaptive networks for multiprocessors. </title> <booktitle> In Proc. 19 th Annual International Symposium on Computer Architecture, </booktitle> <pages> pages 268-277, </pages> <year> 1992. </year>
Reference-contexts: Such blocking besides leading to under-utilization of channels, may block other messages in the network. Though the wormhole-routing was initially proposed with deterministic routing [15, 11], a number of adaptive routing schemes have been proposed recently by many researchers <ref> [7, 9, 29, 30, 34] </ref> to reduce such message blocking in the network. Similarly, the use of multiple virtual networks (or lanes) with Virtual Channel Flow Control (VCFC) has been proposed [14] in literature to be used with either deterministic or adaptive routing.
Reference: [10] <author> S. Chittor and R. Enbody. </author> <title> Performance Evaluation of Mesh-Connected Wormhole-Routed Net works for Interprocessor Communication in Multicomputers. </title> <booktitle> In Proceedings of the Supercomputing '90, </booktitle> <address> New York, </address> <pages> pages 647-656, </pages> <month> Nov </month> <year> 1990. </year>
Reference-contexts: If the worm gets blocked or slowed down due to limited consumption channels, then the subsequent flits of the worm remain in the network for additional time leading to wastage of network bandwidth. In <ref> [10] </ref>, it was first reported that wormhole systems can undergo severe performance degradation due to limited number of router-to-processor consumption channels. The results were based on experimentation on the deterministic wormhole routed Symult-2010 system and suggested using multiple consumption channels in future wormhole systems.
Reference: [11] <author> L. D. Coster, N. Dewulf, and C.-T. Ho. </author> <title> Efficient multi-packet multicast algorithms on meshes with wormhole and dimension-ordered routing. </title> <booktitle> In Int. Conf. on Parallel Processing, </booktitle> <pages> pages 137-141, </pages> <year> 1995. </year>
Reference-contexts: If the header flit gets blocked due to unavailability of a network channel, the remaining flits are blocked in the network. Such blocking besides leading to under-utilization of channels, may block other messages in the network. Though the wormhole-routing was initially proposed with deterministic routing <ref> [15, 11] </ref>, a number of adaptive routing schemes have been proposed recently by many researchers [7, 9, 29, 30, 34] to reduce such message blocking in the network.
Reference: [12] <author> Cray Reasearch Inc. </author> <title> Cray T3D System Architecture Overview, </title> <year> 1993. </year>
Reference-contexts: 1 Introduction The wormhole-routing switching technique, often referred to as wormhole routing, is becoming the trend in building parallel systems due to its inherent advantages like low-latency communication and reduced communication hardware overhead [31]. Intel Paragon [25], Cray T3D <ref> [12] </ref>, Ncube, J-Machine [32], and Stanford DASH/FLASH [22] are representative systems falling into this category. In wormhole-switching technique, the flow of header flit triggers the movement of the remaining flits in a message. <p> Over the years multiple virtual channels per network channel has been proposed to provide deadlock-freedom [18], routing adaptivity [3, 8], and VCFC [14, 35]. Contemporary systems are adopting such multiple virtual channels/lanes on network channels <ref> [12] </ref>. In such systems, a consumption channel is required to support virtual multiplexing. Otherwise, virtual multiplexing on the network channels, causing slowdown in propagation of messages, can lead to messages arriving at their destinations at a speed slower than the full network channel speed. <p> Only the header flit has routing information. Each router only dedicates a few flit buffers for a message. With the header getting blocked due to contention, the remaining flits in the network are blocked in place. Many current systems built in industry and academia, like the Cray T3D <ref> [12] </ref>, Intel Paragon [25], and Stanford FLASH [23] employ such wormhole-switched mesh/torus interconnection networks with 2D/3D organization. illustrated for a k-ary n-cube system with one consumption channel per node. 2.1 Typical interface with single consumption channel Let us analyze the typical router processor interface as shown in Fig. 1. <p> Larger messages are divided into such smaller messages packets before being transferred over the network. For example, on the Cray-T3D and IBM SP2 such transfer size on the network is approximately 64 and 256 bytes <ref> [12, 21] </ref>, respectively. Earlier research [1, 37] has demonstrated that providing a small amount of memory, corresponding to a few message packet buffers, is sufficient to approximate infinite buffering performance.
Reference: [13] <author> W. J. Dally. </author> <title> Performance Analysis of k-ary n-cube Interconnection Networks. </title> <journal> IEEE Trans. on Computers, </journal> <volume> 39(6) </volume> <pages> 775-785, </pages> <month> June </month> <year> 1990. </year>
Reference-contexts: The routers 3 are interconnected as a 3x3 mesh. Each processor is connected to its router so that it can inject messages to other nodes and consume messages destined to it. In this study we assume the inter-processor messages to traverse across the interconnection network using wormhole-routing <ref> [13] </ref>. In such routing a message is transferred as a train of flow control digits (flits). A flit is typically the size of the network channel width. Only the header flit has routing information. Each router only dedicates a few flit buffers for a message. <p> Let B denote the bisection size of a network. It is the minimum number of network channels to be cut so as to divide the network into two equal halves. The bisection size of a k-ary n-cube network is derived <ref> [13] </ref> as, 4 B = 2k n1 channels = 2k n1 W bytes (9) where W , as defined earlier, denotes the channel width in bytes. Thus, at most B = 2k n1 W bytes can be sent across the network bisection per cycle. <p> The actual maximum achievable throughput is typically lower due to network contention. Similar observations continue to hold with such throughput also <ref> [2, 13] </ref>. Network contention depends on various factors including virtual channel flow control, routing adaptivity, and message length. In Sec. 6 we study these aspects in detail through simulation experiments. <p> Without loss of generality, in this paper we choose this number as 5%. Earlier studies <ref> [2, 13] </ref> have proposed contention models to determine latency versus throughput performance in wormhole-switched k-ary n-cube networks. However, these studies focused mostly on dimension-order routing and assumed no consumption collision at the destination node 19 (consumption assumption [2, 13, 14]). <p> Earlier studies [2, 13] have proposed contention models to determine latency versus throughput performance in wormhole-switched k-ary n-cube networks. However, these studies focused mostly on dimension-order routing and assumed no consumption collision at the destination node 19 (consumption assumption <ref> [2, 13, 14] </ref>). In this study our focus is on designing the consumption interface and studying the impact of various factors on such design.
Reference: [14] <author> W. J. Dally. </author> <title> Virtual-channel flow control. </title> <journal> IEEE Trans. on Parallel and Distributed Systems, </journal> <volume> 3(2) </volume> <pages> 194-205, </pages> <month> March </month> <year> 1992. </year>
Reference-contexts: Similarly, the use of multiple virtual networks (or lanes) with Virtual Channel Flow Control (VCFC) has been proposed <ref> [14] </ref> in literature to be used with either deterministic or adaptive routing. These schemes emphasize reducing message blocking or contention in the network. However, once a worm reaches a destination node, it needs to be consumed (taken out from network) [31]. <p> In the absence of sufficient consumption capacity at a node the advantages of these schemes become somewhat limited. Over the years multiple virtual channels per network channel has been proposed to provide deadlock-freedom [18], routing adaptivity [3, 8], and VCFC <ref> [14, 35] </ref>. Contemporary systems are adopting such multiple virtual channels/lanes on network channels [12]. In such systems, a consumption channel is required to support virtual multiplexing. <p> Let us consider an enhanced interface design to support multiple physical consumption channels, each supporting virtual channels to match degree of network channel multiplexing. Design implementation of virtual channels has been studied in detail in <ref> [14] </ref>. Assuming routers already supporting v virtual channels on each network channel it is straight-forward to extend such design to also support v virtual consumption channels on each physical consumption channel as shown in Fig. 4. <p> As discussed earlier, let v be the degree of virtual multiplexing in the system. The number of control bits required per physical channel for identifying the virtual channel being send or acknowledged is 2 log 2 v bits <ref> [14] </ref>. For a system with W = 2 bytes (16 bits) and v = 4, 20 bits are required per channel, leading to R = 20 (4n + 2C). <p> The other impact of adaptivity is in offering higher network throughput [3, 8] by allowing a message to circumvent points of congestion. Similar impact is also achieved with virtual channel flow control (VCFC) <ref> [14] </ref> which allows an active message to bypass blocked messages on a channel leading to lower blocking and better network utilization. <p> Earlier studies [2, 13] have proposed contention models to determine latency versus throughput performance in wormhole-switched k-ary n-cube networks. However, these studies focused mostly on dimension-order routing and assumed no consumption collision at the destination node 19 (consumption assumption <ref> [2, 13, 14] </ref>). In this study our focus is on designing the consumption interface and studying the impact of various factors on such design.
Reference: [15] <author> W. J. Dally and C. L. Seitz. </author> <title> Deadlock-free message routing in multiprocessor interconnection networks. </title> <journal> IEEE Trans. on Computers, </journal> <volume> C-36:547-553, </volume> <month> May </month> <year> 1987. </year>
Reference-contexts: If the header flit gets blocked due to unavailability of a network channel, the remaining flits are blocked in the network. Such blocking besides leading to under-utilization of channels, may block other messages in the network. Though the wormhole-routing was initially proposed with deterministic routing <ref> [15, 11] </ref>, a number of adaptive routing schemes have been proposed recently by many researchers [7, 9, 29, 30, 34] to reduce such message blocking in the network. <p> It accurately models flit-level transfer corresponding to multiple virtual channels using demand multiplexing over network and consumption channels. Similarly, DMA operations over the local bus for transferring messages are also modeled. Without loss of generality, a network cycle time of 0:01sec was assumed. Deterministic <ref> [15] </ref> and fully-adaptive [18] routing schemes with variable number of virtual channels (lanes) were used. Four different system configurations, 8x8, 16x16, 4x4x4, and 6x6x6 were examined. Three different traffic models were considered: uniform traffic, hot-spot traffic, and all-to-one pattern.
Reference: [16] <author> S. Dandamudi and D. Eager. </author> <title> Hot-spot contention in binary hypercube networks. </title> <journal> IEEE Trans. on Computers, </journal> <volume> C-41:239-244, </volume> <month> Feb </month> <year> 1992. </year>
Reference-contexts: Most contemporary systems provide only one consumption channel per processor. Under traffic conditions when multiple messages are destined to a node within a short duration, a single consumption channel can become a bottleneck. For example, many parallel applications exhibit non-uniform traffic with hot-spots <ref> [16, 28, 39] </ref>, both in distributed-memory and distributed-shared-memory paradigms. Such traffic leads to more messages being destined towards some nodes in the system. Even with uniform traffic, at higher rate of communication, there is more probability that some nodes receive multiple messages during a small interval of time.
Reference: [17] <author> J. J. Dongarra and T. Dunigan. </author> <title> Message-Passing Performance of Various Computers. </title> <note> Available at http://www.netlib.org/utk/papers/latbw/commperf.html, Aug 1995. </note>
Reference-contexts: Let t s cycles/message denote such overhead. The maximum message handling rate from such overhead, denoted by sw , is derived as: sw = 1=t s messages/cycle. (11) Such overheads, usually in the range of few hundreds to thousands of cycles <ref> [17] </ref>, can severely limit the rate at which messages can be sent or received from a node [26]. For example, a messaging overhead of 500 cycles limits maximum message rate per node to 0.002 messages/cycle.
Reference: [18] <author> J. Duato. </author> <title> A New Theory of Deadlock-Free Adaptive Routing in Wormhole N etworks. </title> <journal> IEEE Transactions on Parallel and Distributed Systems, </journal> <volume> 4(12) </volume> <pages> 1320-1331, </pages> <year> 1993. </year>
Reference-contexts: In the absence of sufficient consumption capacity at a node the advantages of these schemes become somewhat limited. Over the years multiple virtual channels per network channel has been proposed to provide deadlock-freedom <ref> [18] </ref>, routing adaptivity [3, 8], and VCFC [14, 35]. Contemporary systems are adopting such multiple virtual channels/lanes on network channels [12]. In such systems, a consumption channel is required to support virtual multiplexing. <p> Observation 5 Routing algorithms with adaptivity, offering balanced message rates along incoming channels, can gain from higher number of consumption channels than non-adaptive (dimension-order) routing. In Sec. 6 we compare fully adaptive <ref> [18] </ref> routing against dimension-order to determine the impact of routing on the effective number of consumption channels. 4.2 Impact of message length message length of 64 and 256 bytes, respectively. <p> It accurately models flit-level transfer corresponding to multiple virtual channels using demand multiplexing over network and consumption channels. Similarly, DMA operations over the local bus for transferring messages are also modeled. Without loss of generality, a network cycle time of 0:01sec was assumed. Deterministic [15] and fully-adaptive <ref> [18] </ref> routing schemes with variable number of virtual channels (lanes) were used. Four different system configurations, 8x8, 16x16, 4x4x4, and 6x6x6 were examined. Three different traffic models were considered: uniform traffic, hot-spot traffic, and all-to-one pattern.
Reference: [19] <author> T. Eicken, D. E. Culler, S. C. Goldstein, and K. E. Schauser. </author> <title> Active Messages: a Mechanism for Integrated Communication and Computation. </title> <booktitle> In The 19 th Annual International Symposium on Computer Architecure, </booktitle> <pages> pages 256-266, </pages> <month> May </month> <year> 1992. </year>
Reference-contexts: This can lead to much of the communication bandwidth offered by the expensive fast interconnect to remain unutilized. With low maximum message rate per node, the probability of consumption delay can be small leading to limited benefits from higher number of consumption channels. Several research studies are ongoing <ref> [27, 19, 26, 6] </ref> for designing messaging protocols and hardware to reduce such overheads. In the near future we expect efficient protocols to offer t s in the range of few tens to hundreds of cycles.
Reference: [20] <author> C. Stunkel et al. </author> <title> The SP1 High-Performance Switch. </title> <booktitle> In Proc. of the Scalable High-Performance Computing Conference, </booktitle> <pages> pages 150-157, </pages> <year> 1994. </year>
Reference-contexts: A message being consumed is removed from the network along a consumption channel, stored temporarily at the interface in a message buffer, and then transferred over a local bus [21] to the processor-memory. In the past programmed I/O was used <ref> [20] </ref> to transfer bytes of a message from the interface to the processor-memory. Clearly, this leads to low communication bandwidth with the processor becoming the bottleneck. It also results in lack of overlap between computation and communication.
Reference: [21] <author> C. Stunkel et al. </author> <title> The SP2 High-Performance Switch. </title> <journal> IBM Systems Journal, </journal> <volume> 34(2) </volume> <pages> 185-204, </pages> <year> 1995. </year>
Reference-contexts: Let us consider the process of message consumption in more detail. A message being consumed is removed from the network along a consumption channel, stored temporarily at the interface in a message buffer, and then transferred over a local bus <ref> [21] </ref> to the processor-memory. In the past programmed I/O was used [20] to transfer bytes of a message from the interface to the processor-memory. Clearly, this leads to low communication bandwidth with the processor becoming the bottleneck. It also results in lack of overlap between computation and communication. <p> Larger messages are divided into such smaller messages packets before being transferred over the network. For example, on the Cray-T3D and IBM SP2 such transfer size on the network is approximately 64 and 256 bytes <ref> [12, 21] </ref>, respectively. Earlier research [1, 37] has demonstrated that providing a small amount of memory, corresponding to a few message packet buffers, is sufficient to approximate infinite buffering performance.
Reference: [22] <author> D. Lenoski et al. </author> <title> The Stanford DASH Multiprocessor. </title> <booktitle> IEEE Computer, </booktitle> <pages> pages 63-79, </pages> <year> 1990. </year>
Reference-contexts: 1 Introduction The wormhole-routing switching technique, often referred to as wormhole routing, is becoming the trend in building parallel systems due to its inherent advantages like low-latency communication and reduced communication hardware overhead [31]. Intel Paragon [25], Cray T3D [12], Ncube, J-Machine [32], and Stanford DASH/FLASH <ref> [22] </ref> are representative systems falling into this category. In wormhole-switching technique, the flow of header flit triggers the movement of the remaining flits in a message. If the header flit gets blocked due to unavailability of a network channel, the remaining flits are blocked in the network.
Reference: [23] <author> J. Kuskin et al. </author> <title> The stanford flash multiprocessor. </title> <booktitle> In Proc. of the Int. Symp. on Computer Architecture, </booktitle> <pages> pages 302-313, </pages> <year> 1994. </year>
Reference-contexts: Each router only dedicates a few flit buffers for a message. With the header getting blocked due to contention, the remaining flits in the network are blocked in place. Many current systems built in industry and academia, like the Cray T3D [12], Intel Paragon [25], and Stanford FLASH <ref> [23] </ref> employ such wormhole-switched mesh/torus interconnection networks with 2D/3D organization. illustrated for a k-ary n-cube system with one consumption channel per node. 2.1 Typical interface with single consumption channel Let us analyze the typical router processor interface as shown in Fig. 1.
Reference: [24] <author> M. Snir et al. </author> <title> The communication software and parallel environment of the IBM SP2. </title> <journal> IBM Systems Journal, </journal> <volume> 34(2) </volume> <pages> 205-221, </pages> <year> 1995. </year>
Reference-contexts: Clearly, this leads to low communication bandwidth with the processor becoming the bottleneck. It also results in lack of overlap between computation and communication. In recent systems, DMA-based message consumption/injection) is used <ref> [24] </ref> for transferring messages between the interface and processor-memory. As shown in Fig. 1, the local processor-memory bus bandwidth is shared between DMA operations to write consumed messages, messages to be injected, memory read/write operations due to processor-cache subsystem, and other I/O.
Reference: [25] <author> Intel Corporation. </author> <title> Paragon XP/S Product Overview, </title> <year> 1991. </year>
Reference-contexts: 1 Introduction The wormhole-routing switching technique, often referred to as wormhole routing, is becoming the trend in building parallel systems due to its inherent advantages like low-latency communication and reduced communication hardware overhead [31]. Intel Paragon <ref> [25] </ref>, Cray T3D [12], Ncube, J-Machine [32], and Stanford DASH/FLASH [22] are representative systems falling into this category. In wormhole-switching technique, the flow of header flit triggers the movement of the remaining flits in a message. <p> Each router only dedicates a few flit buffers for a message. With the header getting blocked due to contention, the remaining flits in the network are blocked in place. Many current systems built in industry and academia, like the Cray T3D [12], Intel Paragon <ref> [25] </ref>, and Stanford FLASH [23] employ such wormhole-switched mesh/torus interconnection networks with 2D/3D organization. illustrated for a k-ary n-cube system with one consumption channel per node. 2.1 Typical interface with single consumption channel Let us analyze the typical router processor interface as shown in Fig. 1.
Reference: [26] <author> V. Karamcheti and A. A. Chien. </author> <title> Software Overhead in Messaging Layers: Where Does the Time Go? In Proc. </title> <booktitle> of the Int. Conference on Architectural Support for Programming Languages and Operating Systems, </booktitle> <pages> pages 51-60, </pages> <year> 1994. </year> <month> 29 </month>
Reference-contexts: maximum message handling rate from such overhead, denoted by sw , is derived as: sw = 1=t s messages/cycle. (11) Such overheads, usually in the range of few hundreds to thousands of cycles [17], can severely limit the rate at which messages can be sent or received from a node <ref> [26] </ref>. For example, a messaging overhead of 500 cycles limits maximum message rate per node to 0.002 messages/cycle. This can lead to much of the communication bandwidth offered by the expensive fast interconnect to remain unutilized. <p> This can lead to much of the communication bandwidth offered by the expensive fast interconnect to remain unutilized. With low maximum message rate per node, the probability of consumption delay can be small leading to limited benefits from higher number of consumption channels. Several research studies are ongoing <ref> [27, 19, 26, 6] </ref> for designing messaging protocols and hardware to reduce such overheads. In the near future we expect efficient protocols to offer t s in the range of few tens to hundreds of cycles.
Reference: [27] <author> V. Karamcheti and A. A. Chien. </author> <title> A Comparison of Architectural Support for Messaging on the TMC CM-5 and the Cray T3D. </title> <booktitle> In Proc. of the Int. Symp. on Computer Architecture, </booktitle> <year> 1995. </year>
Reference-contexts: This can lead to much of the communication bandwidth offered by the expensive fast interconnect to remain unutilized. With low maximum message rate per node, the probability of consumption delay can be small leading to limited benefits from higher number of consumption channels. Several research studies are ongoing <ref> [27, 19, 26, 6] </ref> for designing messaging protocols and hardware to reduce such overheads. In the near future we expect efficient protocols to offer t s in the range of few tens to hundreds of cycles.
Reference: [28] <author> T. Lang and L. Kurisaki. </author> <title> Nonuniform traffic spots (nuts) in multistage interconnection networks. </title> <journal> Jour. of Parallel and Distributed Computing, </journal> <volume> 10 </volume> <pages> 55-67, </pages> <year> 1990. </year>
Reference-contexts: Most contemporary systems provide only one consumption channel per processor. Under traffic conditions when multiple messages are destined to a node within a short duration, a single consumption channel can become a bottleneck. For example, many parallel applications exhibit non-uniform traffic with hot-spots <ref> [16, 28, 39] </ref>, both in distributed-memory and distributed-shared-memory paradigms. Such traffic leads to more messages being destined towards some nodes in the system. Even with uniform traffic, at higher rate of communication, there is more probability that some nodes receive multiple messages during a small interval of time.
Reference: [29] <author> X. Lin, P. K. McKinley, and L. M. Ni. </author> <title> Deadlock-free multicast wormhole routing in 2D mesh multicomputers. </title> <journal> IEEE Trans. on Parallel and Distributed Systems, </journal> <note> To appear. </note>
Reference-contexts: Such blocking besides leading to under-utilization of channels, may block other messages in the network. Though the wormhole-routing was initially proposed with deterministic routing [15, 11], a number of adaptive routing schemes have been proposed recently by many researchers <ref> [7, 9, 29, 30, 34] </ref> to reduce such message blocking in the network. Similarly, the use of multiple virtual networks (or lanes) with Virtual Channel Flow Control (VCFC) has been proposed [14] in literature to be used with either deterministic or adaptive routing.
Reference: [30] <author> D. H. Linder and J. C. Harden. </author> <title> An adaptive and fault tolerant wormhole routing strategy for k-ary n-cubes. </title> <journal> IEEE Trans. on Computers, </journal> <volume> 40(1) </volume> <pages> 2-12, </pages> <month> Jan. </month> <year> 1991. </year>
Reference-contexts: Such blocking besides leading to under-utilization of channels, may block other messages in the network. Though the wormhole-routing was initially proposed with deterministic routing [15, 11], a number of adaptive routing schemes have been proposed recently by many researchers <ref> [7, 9, 29, 30, 34] </ref> to reduce such message blocking in the network. Similarly, the use of multiple virtual networks (or lanes) with Virtual Channel Flow Control (VCFC) has been proposed [14] in literature to be used with either deterministic or adaptive routing.
Reference: [31] <author> L. M. Ni and P. K. McKinley. </author> <title> A survey of wormhole routing techniques in direct networks. </title> <journal> IEEE Computer, </journal> <volume> 26 </volume> <pages> 62-76, </pages> <month> Feb </month> <year> 1993. </year>
Reference-contexts: 1 Introduction The wormhole-routing switching technique, often referred to as wormhole routing, is becoming the trend in building parallel systems due to its inherent advantages like low-latency communication and reduced communication hardware overhead <ref> [31] </ref>. Intel Paragon [25], Cray T3D [12], Ncube, J-Machine [32], and Stanford DASH/FLASH [22] are representative systems falling into this category. In wormhole-switching technique, the flow of header flit triggers the movement of the remaining flits in a message. <p> These schemes emphasize reducing message blocking or contention in the network. However, once a worm reaches a destination node, it needs to be consumed (taken out from network) <ref> [31] </ref>. Thus, after the header flit of a worm reaches its destination the movement of its subsequent flits in the network depends on the rate at which the message gets consumed. <p> Concluding remarks are presented in Section 7. 2 Designing efficient consumption channel interface Multicomputers with direct networks supporting wormhole switching have become a popular trend in building large parallel systems. Most commonly used direct network topologies are meshes/tori belonging to the class of generalized k-ary n-cube interconnections <ref> [31] </ref>. These are n-dimensional grid structures with k 0 ; k 1 ; ; k n1 nodes along dimensions 0; 1; ; n 1, respectively. The values of k 0 ; k 1 ; ; k n1 may be same or different. <p> In this paper, we focus on the design of consumption channel interface. It is to be noted that a message in a wormhole network may also get blocked at its source node due to limited number of injection channels <ref> [31] </ref>. Under high network load, a message may hold onto an injection channel longer because of its slower 7 propagation due to network contention. In such a situation it seems that having additional injection channels may help to inject waiting messages out of the node.
Reference: [32] <author> M. D. Noakes, D. A. Wallach, and W. J. Dally. </author> <title> The J-Machine Multicomputer: An Architectural Evaluation. </title> <booktitle> In Proc. of the Int. Symposium on Computer Architecture, </booktitle> <pages> pages 224-235, </pages> <year> 1993. </year>
Reference-contexts: 1 Introduction The wormhole-routing switching technique, often referred to as wormhole routing, is becoming the trend in building parallel systems due to its inherent advantages like low-latency communication and reduced communication hardware overhead [31]. Intel Paragon [25], Cray T3D [12], Ncube, J-Machine <ref> [32] </ref>, and Stanford DASH/FLASH [22] are representative systems falling into this category. In wormhole-switching technique, the flow of header flit triggers the movement of the remaining flits in a message.
Reference: [33] <author> G. F. Pfister and V. A. Norton. </author> <title> Hot-spot Contention and Combining in Multistage Interconnection Networks. </title> <journal> IEEE Transactions on Computers, </journal> <volume> 34 </volume> <pages> 943-948, </pages> <year> 1985. </year>
Reference: [34] <author> G. D. Pifarre, L. Gravano, S. A. Felperin, and J. Sanz. </author> <title> Fully Adaptive Minimal Deadlock-Free Routing in Hypercubes, Meshes, and Other Networks: Algorithms and Simulations. </title> <journal> IEEE Transactions on Parallel and Distributed Systems, </journal> <volume> 5(3) </volume> <pages> 247-263, </pages> <year> 1994. </year>
Reference-contexts: Such blocking besides leading to under-utilization of channels, may block other messages in the network. Though the wormhole-routing was initially proposed with deterministic routing [15, 11], a number of adaptive routing schemes have been proposed recently by many researchers <ref> [7, 9, 29, 30, 34] </ref> to reduce such message blocking in the network. Similarly, the use of multiple virtual networks (or lanes) with Virtual Channel Flow Control (VCFC) has been proposed [14] in literature to be used with either deterministic or adaptive routing.
Reference: [35] <author> S. Ramany and D. Eager. </author> <title> The Interaction between Virtual Channel Flow Control and Adaptive Routing in Wormhole Networks. </title> <booktitle> In International Conference on Supercomputing, </booktitle> <pages> pages 136-145, </pages> <year> 1994. </year>
Reference-contexts: In the absence of sufficient consumption capacity at a node the advantages of these schemes become somewhat limited. Over the years multiple virtual channels per network channel has been proposed to provide deadlock-freedom [18], routing adaptivity [3, 8], and VCFC <ref> [14, 35] </ref>. Contemporary systems are adopting such multiple virtual channels/lanes on network channels [12]. In such systems, a consumption channel is required to support virtual multiplexing.
Reference: [36] <author> H.D. Schwetman. </author> <title> Using CSIM to Model Complex Systems. </title> <booktitle> In Proceedings of the 1988 Winter Simulation Conference, </booktitle> <pages> pages 246-253, </pages> <year> 1988. </year>
Reference-contexts: This simulator is designed using CSIM <ref> [36] </ref>. It accurately models flit-level transfer corresponding to multiple virtual channels using demand multiplexing over network and consumption channels. Similarly, DMA operations over the local bus for transferring messages are also modeled. Without loss of generality, a network cycle time of 0:01sec was assumed.
Reference: [37] <author> C. B. Stunkel, D. G. Shea, B. Abali, M. M. Denneeau, P. H. Hochschild, D. J. Joseph, B. J. Nathanson, M. Tsao, and P. R. Varker. </author> <booktitle> Architecture and Implementation of Vulcan. In Proceedings of the Int'l Parallel Processing Symposium, </booktitle> <pages> pages 268-274, </pages> <year> 1994. </year>
Reference-contexts: Larger messages are divided into such smaller messages packets before being transferred over the network. For example, on the Cray-T3D and IBM SP2 such transfer size on the network is approximately 64 and 256 bytes [12, 21], respectively. Earlier research <ref> [1, 37] </ref> has demonstrated that providing a small amount of memory, corresponding to a few message packet buffers, is sufficient to approximate infinite buffering performance. In the eventuality that all message packet buffers are full, further consumption is stalled and incoming messages forced to block in the network.
Reference: [38] <author> R. Suaya and G. Birtwistle. </author> <title> VLSI and Parallel Computation, chapter 3.2. </title> <publisher> Morgan Kaufman, </publisher> <year> 1990. </year>
Reference-contexts: Our model is based on an analysis by Dally for estimating wormhole contention delay in <ref> [38] </ref>. To keep the model simple we do not consider the impact of virtual channels here. Such impact is discussed in a later section. Trends based on the model are validated with accurate simulation modeling in Sec. 6. <p> The probability of collision is the single consumption channel being busy handling a message along another channel. Based on the 10 analysis in <ref> [38] </ref> the probability of such an event is the total duty factor on other channels, leading to: i = d 1 + + d i1 + d i+1 + + d l In general with C consumption channels, the probability of a consumption collision along channel i is that of all
Reference: [39] <author> P. C. Yew, N. F. Tzeng, and D. H. Lawrie. </author> <title> Distributed Hot-spot Addressing in Large-scale Multiprocessor. </title> <journal> IEEE Transactions on Computers, </journal> <pages> pages 388-395, </pages> <month> Apr </month> <year> 1987. </year> <month> 30 </month>
Reference-contexts: Most contemporary systems provide only one consumption channel per processor. Under traffic conditions when multiple messages are destined to a node within a short duration, a single consumption channel can become a bottleneck. For example, many parallel applications exhibit non-uniform traffic with hot-spots <ref> [16, 28, 39] </ref>, both in distributed-memory and distributed-shared-memory paradigms. Such traffic leads to more messages being destined towards some nodes in the system. Even with uniform traffic, at higher rate of communication, there is more probability that some nodes receive multiple messages during a small interval of time.
References-found: 39

