URL: ftp://ftp.cse.ucsc.edu/pub/hsnlab/ucsc-crl-98-4.ps.Z
Refering-URL: http://www.cse.ucsc.edu/research/hsnlab/projects/video_over_ATM.html
Root-URL: http://www.cse.ucsc.edu
Title: A Restamping Approach to Clock Recovery in MPEG-2 Systems Layer  OPNET modeling tool used for simulations  
Author: Christos Tryfonas Anujan Varma 
Keyword: MPEG-2, clock recovery, ATM networks, set-top box.  
Note: 0 This research is supported by the Advanced Research Projects Agency (ARPA) under Contract No. F19628-96-C-0038 and by the NSF Young Investigator Award No. MIP-9257103. The  was donated to us by MIL-3, Inc.  
Address: Santa Cruz, CA 95064  
Affiliation: Board of Studies in Computer Engineering University of California, Santa Cruz  
Date: May 4, 1998  
Pubnum: UCSC-CRL-98-4  
Abstract: This paper addresses the clock recovery problem while transporting MPEG-2 Systems Layer streams over packet-switched networks. The packet delay variation (jitter) introduced by the network affects the stability and thus the quality of the recovered clock. A decoder design methodology is described in which a jitter estimator that performs restamping on all the incoming packets containing clock values is used in conjunction with a standard phase-locked loop (PLL). A simple implementation of this methodology is described, where a new heuristic has been added to the standard PLL to eliminate the effects of the jitter. The methodology is evaluated by both analysis and extensive simulation experiments in a multi-hop ATM network using constant bit-rate MPEG-2 Transport Streams produced by hardware encoders with varying levels of cross traffic. The results show that the restamping approach outperforms standard dejittering methods, especially under heavy load conditions. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> I. F. Akyildiz, S. Hrastr, H. Uzunalioglu, and W. Yen. </author> <title> Comparison and evaluation of packing schemes for MPEG-2 over ATM using AAL5. </title> <booktitle> In Proceeding of ICC '96, </booktitle> <volume> volume 3, </volume> <pages> pages 1411-1415, </pages> <month> June </month> <year> 1996. </year>
Reference-contexts: 1. Introduction 2 Packetization jitter is mainly caused by the packet encapsulation procedure. In the context of an ATM network, two distinct approaches have been proposed for encapsulation of MPEG-2 Transport Streams in ATM Adaptation Layer 5 (AAL5) packets <ref> [1] </ref>. In the PCR-aware approach, the packetization is done ensuring that when a Transport-Stream packet contains a PCR value it will be the last packet encapsulated in an AAL-5 packet. This reduces the jitter experienced by PCR values during packetization. <p> Although the jitter introduced by the network may be computed on a per packet-basis in this scheme, it requires constant spacing between timestamps in the packet stream, an assumption that may not hold in MPEG-2 Transport Streams. Finally, Akyildiz, et al. <ref> [1] </ref> proposed a simple method to deal with the packetization jitter of CBR MPEG-2 Transport Streams in an ATM network by subtracting a fixed offset from the received timestamps. This scheme, also called Enhanced 2/2 scheme, deals only with the packetization jitter, and is not designed to correct network-induced jitter. <p> In our first experiment, the clocking delay zone remained in one mode of the packet delay distribution resulting in an almost perfect behavior similar to the Enhanced 2/2 scheme <ref> [1] </ref>. An interesting observation is that both the Enhanced 2/2 scheme with its variations and the various dejittering approaches make use of the clocking delay zone concept and fall indirectly into the CDZ class. <p> The reduction in the memory requirements afforded by the restamping scheme, and its simplicity, are both desirable attributes in the design of a set-top decoder. In addition, the restamping technique can be combined with standard dejittering approaches or with the Enhanced 2/2 scheme <ref> [1] </ref> in order to improve their performance. A number of issues still remain to be investigated: Evaluation of the tradeoff of acquisition speed versus accuracy for the selection of the downpressure factors is one of them.
Reference: [2] <author> G. F. Andreotti, G. Michieletto, L. Mori, and A. Profumo. </author> <title> Clock recovery and reconstruction of PAL pictures for MPEG coded streams transported over ATM networks. </title> <journal> IEEE Transactions on Circuits and Systems for Video Technology, </journal> <volume> 5(6) </volume> <pages> 508-514, </pages> <month> December </month> <year> 1995. </year>
Reference-contexts: Besides, although the method proposed minimizes the effects of high jitter autocorrelation <ref> [2, 19] </ref>, it does not eliminate the problem since it only compresses the error term. <p> All the LPFs considered were Butterworth LPFs with different orders and cutoff frequencies. The designed PLL must have a bandwidth that is much more narrow than the one of the demodulator sub-carrier reconstructor which is about 100 Hz <ref> [2] </ref>. Thus, different cutoff frequencies around 0.1 Hz were considered in the LPF selection process. The LPFs selected for the simulations was a second order digital Butterworth Low-Pass filter (LPF) with cutoff of 0.1 Hz and a sampling frequency of 30 Hz. <p> This quantization process introduces a small error which, however, does not affect the convergence time and the steady-state behavior <ref> [2] </ref>. The loop acquisition time of the PLL affects the amount of additional buffering needed at the decoder. The phase difference is defined as the difference between the time at which an access 3.
Reference: [3] <author> M. De Prycker. </author> <title> Asynchronous Transfer Mode : Solution for Broadband ISDN. </title> <publisher> Ellis Horwood, </publisher> <address> second edition, </address> <year> 1993. </year>
Reference: [4] <author> S. Dixit and P. Skelly. </author> <title> MPEG-2 over ATM for video dial tone networks: issues and strategies. </title> <journal> IEEE Network, </journal> <volume> 9(5) </volume> <pages> 30-40, </pages> <month> September-October </month> <year> 1995. </year>
Reference: [5] <author> D. Fibush. </author> <title> Subcarrier Frequency, Drift and Jitter in NTSC Systems. ATM Forum, </title> <month> July </month> <year> 1994. </year> <month> ATM94-0722. </month>
Reference: [6] <author> S. J. Golestani. </author> <title> A self-clocked fair queueing scheme for broadband applications. </title> <booktitle> In Proceedings of IEEE INFOCOM '94, </booktitle> <volume> volume 2, </volume> <pages> pages 643-646, </pages> <month> June </month> <year> 1994. </year> <note> References 27 </note>
Reference: [7] <author> P. Hodgins and E. Itakura. </author> <title> The Issues of Transportation of MPEG over ATM. ATM Forum, </title> <month> July </month> <year> 1994. </year> <month> ATM94-0570. </month>
Reference-contexts: In addition, this approach wastes memory by using two separate buffers, the system decoder buffer and the dejittering buffer. Another approach to tolerate jitter at the receiver is to use special pre-filtering techniques to filter the delay variation before the PLL <ref> [7] </ref>. A third technique to minimize the effects of jitter in the clock recovery process is by counting the time difference between successive timestamps in the packet stream [10].
Reference: [8] <author> P. Hodgins and E. Itakura. VBR MPEG-2 over AAL5. ATM Forum, </author> <month> December </month> <year> 1994. </year> <month> ATM94-1052. </month>
Reference-contexts: However, changes in the transport rate cannot always be determined exactly from the PCR values. An interesting solution to this problem was proposed by Hodgins and Itakura <ref> [8] </ref>, where a rate change indicator is sent within the stream. However, this scheme requires changes to the MPEG-2 standards.
Reference: [9] <author> International Organization for Standardization. </author> <title> Information Technology | Generic Coding of Moving Pictures and Associated Audio: </title> <journal> Systems, </journal> <note> Recommendation H.222.0, ISO/IEC 13818-1, draft international standard edition, </note> <month> November </month> <year> 1994. </year>
Reference-contexts: In the case of a variable bit-rate stream, constant buffer occupancy is difficult to achieve without knowledge of the rate changes. 2. Restamping Algorithm 3 These rate changes, in principle, can be determined from the PCR values in the stream using their piecewise linearity property <ref> [9] </ref>. However, changes in the transport rate cannot always be determined exactly from the PCR values. An interesting solution to this problem was proposed by Hodgins and Itakura [8], where a rate change indicator is sent within the stream. However, this scheme requires changes to the MPEG-2 standards. <p> Assuming the worst frequency change when the encoder and the decoder have the maximum allowable frequency difference, which is 60 ppm or 1620 Hz according to MPEG-2 standard <ref> [9] </ref>, and t s the settling time for this frequency difference, an approximate upper bound for T f that assumes the maximum frequency difference over the loop acquisition time, is given by T f t s fi 1620: (2.1) The settling time t s can be calculated knowing the internal parameters <p> The design of the VCO takes into account the maximum difference in ticks of a 27 MHz clock when the jitter is at its maximum allowed value. Since, according to MPEG-2 standard <ref> [9] </ref>, the maximum 3. Simulation Results 12 jitter expected is around 1 ms, this difference is around 30000 ticks. For this maximum difference, the STC frequency must operate within the limits defined by the standard [9]. The enhanced PLL architecture depicted in Figure 2.4 is used for the restamping method. <p> Since, according to MPEG-2 standard <ref> [9] </ref>, the maximum 3. Simulation Results 12 jitter expected is around 1 ms, this difference is around 30000 ticks. For this maximum difference, the STC frequency must operate within the limits defined by the standard [9]. The enhanced PLL architecture depicted in Figure 2.4 is used for the restamping method. Three schemes for doing the restamping were used throughout the experiments in addition to the standard and the Enhanced 2/2 scheme, whenever applicable.
Reference: [10] <author> Y. Kaiser. </author> <title> Synchronization and dejittering of a TV decoder in ATM networks. </title> <booktitle> In Proceedings of PV '93, </booktitle> <volume> volume 1, </volume> <year> 1993. </year>
Reference-contexts: A third technique to minimize the effects of jitter in the clock recovery process is by counting the time difference between successive timestamps in the packet stream <ref> [10] </ref>. Although the jitter introduced by the network may be computed on a per packet-basis in this scheme, it requires constant spacing between timestamps in the packet stream, an assumption that may not hold in MPEG-2 Transport Streams. <p> The LPFs selected for the simulations was a second order digital Butterworth Low-Pass filter (LPF) with cutoff of 0.1 Hz and a sampling frequency of 30 Hz. This cutoff frequency was derived from both experimental results of [19] and the analysis done in <ref> [10] </ref>.
Reference: [11] <author> H. Meyr and G. Ascheid. </author> <title> Synchronization in Digital Communications, volume 1 of Wiley Series in Telecommunications. </title> <publisher> John Wiley & Sons, </publisher> <year> 1990. </year>
Reference-contexts: In order to analyze the behavior of the control loop, we need to derive its steady-state phase error, stability, tracking control and loop acquisition behavior. We follow an approach similar to that in <ref> [11] </ref> for traditional PLLs. The main difference in our analysis is the nature of the input signal. In our case, the input signal is a linear function as shown in Figure 4.1, whereas in the case of traditional PLLs, the input signal is considered to be a sinusoidal function. <p> The worst-case behavior in the enhanced loop occurs again when the unit step function produces a transition from a zone with high-gain (g 1 ) to the zone with low-gain (g 2 ). According to <ref> [11] </ref>, the settling time T s is approximately equal to 3=! c , where ! c is the crossover frequency of the system. T s is defined as the time taken by the phase step-response error to settle within 5% of its final value.
Reference: [12] <author> M. Nilsson. </author> <title> MPEG-2 over ATM. In IEE Colloqium on "MPEG-2 what it is and what it isn't", number 1995/012. </title> <booktitle> The Institute of Electrical Engineers, </booktitle> <month> January </month> <year> 1995. </year>
Reference: [13] <author> M. Perkins and P. Skelly. </author> <title> A Hardware MPEG Clock Recovery Experiment in the Presence of ATM Jitter. ATM Forum, </title> <month> May </month> <year> 1994. </year> <month> ATM94-0434. </month>
Reference: [14] <author> P. V. Rangan, S. S. Kumar, and S. Rajan. </author> <title> Continuity and synchronization in MPEG. </title> <journal> IEEE Journal on Selected Areas in Communications, </journal> <volume> 14(1) </volume> <pages> 52-60, </pages> <month> January </month> <year> 1996. </year>
Reference-contexts: The idea of providing a dejittering space in the MPEG-2 system decoder buffer was first proposed by Rangan, et al. <ref> [14] </ref>. Their scheme subtracts a constant offset from incoming timestamps to establish a dejittering space in the system decoder buffer. However, the stability and accuracy of the reconstructed clock are still affected by the jitter. <p> The clock recovery method described above does not identify any underflows that may occur in the system decoder buffer. This needs to be taken into account separately. We follow the same approach as the one proposed in <ref> [14] </ref> to impose a constant amount of dejittering space in the system decoder buffer. According to this approach, we delay using all the incoming PCR values by a time interval equal to the network jitter we want to absorb, which is equivalent to subtracting a constant 3.
Reference: [15] <author> P. A. Sarginson. </author> <title> MPEG-2 a tutorial introduction to the systems layer. In IEE Colloqium on "MPEG-2 what it is and what it isn't", number 1995/012. </title> <booktitle> The Institute of Electrical Engineers, </booktitle> <month> January </month> <year> 1995. </year>
Reference: [16] <author> M. Schwartz and D. Beaumont. </author> <title> Quality of Service Requirements for Audio-Visual Multimedia Services. ATM Forum, </title> <month> July </month> <year> 1994. </year> <month> ATM94-0640. </month>
Reference: [17] <author> R. P Singh, Sang-Hoon Lee, and Chong-Kwoon Kim. </author> <title> Jitter and clock recovery for periodic traffic in broadband packet networks. </title> <journal> IEEE Transactions on Communications, </journal> <volume> 42(5) </volume> <pages> 2189-2196, </pages> <month> May </month> <year> 1994. </year>
Reference-contexts: However, this scheme requires changes to the MPEG-2 standards. Alternative approaches for clock recovery in variable bit-rate streams include the use of a control system for frequency estimation and adjustment in order to provide constant average delay through the buffer <ref> [17] </ref>. <p> This allows T f to have smaller values in steady state than in the static case, The problem in this case is to estimate the current phase-error correctly when heavy jitter is present. A robust approach to estimating jitter was presented by Singh. et al. <ref> [17] </ref>, where the phase error is averaged using a time-averaging algorithm in which the length of the averaging periods is not constant. Using a similar approach, the parameter T f can be made variable for the loop acquisition time by using a simple function. <p> As shown above, T s depends heavily on g 2 in the worst case and in that case results in slow loop acquisition. As noted in Section 2 in order to improve the acquisition time a technique similar to the one presented in <ref> [17] </ref> can be used in which g 2 is time-varying during loop acquisition, starting from high values and ending with its final one. 5 Conclusions In this paper, we studied the clock recovery problem for MPEG-2 Systems Layer streams.
Reference: [18] <author> D. Stiliadis and A. Varma. </author> <title> Efficient fair-queueing algorithms for packet-switched networks. </title> <journal> IEEE/ACM Transactions on Networking, </journal> <month> April </month> <year> 1998. </year>
Reference-contexts: To study the effect of scheduling policy in the switch on the end-to-end behavior of the video streams, we simulated both the FIFO scheduling policy and a fair-queueing scheduler that provides bandwidth guarantees to the end-to-end session. The actual fair-queueing algorithm simulated was Frame-based Fair Queueing (FFQ) <ref> [18] </ref>. The frame-size parameter in the FFQ algorithm was chosen as 3 ms in all the experiments. The cross traffic sources generate ATM cells based on the ON-OFF traffic model (Figure 3.3). Both ON- and OFF-periods are exponentially distributed.
Reference: [19] <author> C. Tryfonas. </author> <title> MPEG-2 transport over ATM networks. </title> <type> Master's thesis, </type> <institution> University of California at Santa Cruz, </institution> <month> September </month> <year> 1996. </year> <note> Available at http://www.cse.ucsc.edu/research/hsnlab. </note>
Reference-contexts: Several products are designed based on a maximum value of 10 ms for the jitter. Our simulations of MPEG-2 traffic over an ATM network showed that the jitter often exceeds 10 ms, severely degrading the recovered clock signal <ref> [19] </ref>. In addition, this approach wastes memory by using two separate buffers, the system decoder buffer and the dejittering buffer. Another approach to tolerate jitter at the receiver is to use special pre-filtering techniques to filter the delay variation before the PLL [7]. <p> Alternative approaches for clock recovery in variable bit-rate streams include the use of a control system for frequency estimation and adjustment in order to provide constant average delay through the buffer [17]. This work is motivated by our observations from extensive simulations of MPEG-2 Transport Streams over ATM networks <ref> [19] </ref>: Although we found that the quality of the reconstructed clock was degraded even with moderate amounts of jitter, the jitter did not cause the MPEG-2 system decoder buffer to overflow or underflow. <p> Besides, although the method proposed minimizes the effects of high jitter autocorrelation <ref> [2, 19] </ref>, it does not eliminate the problem since it only compresses the error term. <p> The LPFs selected for the simulations was a second order digital Butterworth Low-Pass filter (LPF) with cutoff of 0.1 Hz and a sampling frequency of 30 Hz. This cutoff frequency was derived from both experimental results of <ref> [19] </ref> and the analysis done in [10]. <p> This behavior is consistent with that observed in <ref> [19] </ref>. Use of FFQ scheduling discipline in the switches yielded very good results in the quality of the recovered clock for both packetization schemes (Figures 3.30 and 3.31).
Reference: [20] <author> S. Varma. </author> <title> MPEG-2 over ATM: System design issues. LSI Logic Corp. </title>
Reference: [21] <author> L. Zhang. </author> <title> VirtualClock : A new traffic control algorithm for packet-switched networks. </title> <journal> ACM Transactions on Computer Systems, </journal> <volume> 9(2) </volume> <pages> 101-124, </pages> <month> May </month> <year> 1991. </year>
References-found: 21

