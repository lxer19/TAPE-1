URL: http://www.research.digital.com/SRC/personal/Michael_Mitzenmacher/NEWWORK/postscripts/ffbin-tn.ps.gz
Refering-URL: http://www.research.digital.com/SRC/personal/Michael_Mitzenmacher/NEWWORK/papers.html
Root-URL: http://www.research.digital.com
Title: Average-Case Analysis of First Fit and Random Fit Bin Packing  
Author: Susanne Albers and Michael Mitzenmacher d i g i t a l 
Note: Copyright c flDigital Equipment Corporation 1997. All rights reserved  
Web: http://www.research.digital.com/SRC/  
Address: 130 Lytton Avenue Palo Alto, California 94301  
Affiliation: Systems Research Center  
Date: 1997 002 February 21, 1997  
Pubnum: SRC Technical Note  
Abstract-found: 0
Intro-found: 1
Reference: [1] <author> Y. Azar, A. Broder, A. Karlin and E. Upfal. </author> <title> Balanced allocations. </title> <booktitle> In Proc. 26 Annual ACM Symposium on Theory of Computing, </booktitle> <pages> pages 593602, </pages> <year> 1994. </year>
Reference-contexts: While RF has a guaranteed worst-case performance, it does not achieve the same bounds as First Fit and Best Fit. In the worst case, RF is only as good as Next Fit and Worst Fit. Motivated by recent work <ref> [1, 15] </ref>, we also consider an extension of Random Fit, called Random-Fit (d), that is defined for any integer d 2. Whenever a new item arrives, RF (d) examines bins in the same way as RF until d bins are found that can hold the item.
Reference: [2] <author> E.G. Coffman, C. Courcoubetis, M.R. Garey, D.S. Johnson, L.A. McGeoch, P.W. Shor R.R. Weber and M. Yannakakis. </author> <title> Fundamental discrepancies between average-case analyses under discrete and continuous distributions: A bin packing case study. </title> <booktitle> In Proc. 23th Annual ACM Symposium on Theory of Computing, </booktitle> <pages> pages 230240, </pages> <year> 1991. </year>
Reference-contexts: For U fk; kg, k &gt; 1, First Fit and Best Fit achieve expected waste 2. p p n log k/, respectively, (see Coffman et al. <ref> [2] </ref>). Similar bounds hold for U fk 1; kg. Of particular interest are distributions for which the algorithms are stable. We say that a algorithm is stable under a distribution if the expected waste remains bounded (that is, O.1/), even as the number of items n goes to infinity. <p> Of particular interest are distributions for which the algorithms are stable. We say that a algorithm is stable under a distribution if the expected waste remains bounded (that is, O.1/), even as the number of items n goes to infinity. Coffman et al. <ref> [2] </ref> proved that First Fit is stable under U f j; kg, when k j 2 , and Best Fit is stable under U f j; kg, when k j . j C 3/=2.
Reference: [3] <author> E.G. Coffman Jr., M.R. Garey and D.S. Johnson. </author> <title> Approximation algorithms for bin packing: A survey. In Approximation Algorithms for NP-hard Problems, edited by D. </title> <address> Hochbaum, PWS, </address> <year> 1996. </year>
Reference-contexts: A great deal of literature has focused on this problem, perhaps because, as Coffman, Garey, and Johnson <ref> [3] </ref> observe in their recent survey on bin packing, The classical one-dimensional bin packing problem has long served as a proving ground for new approaches to the analysis of approximation algorithms. <p> In this paper, we remedy this problem by demonstrating a Markov chain argument that shows that First Fit is in fact stable under the family of distributions U fk 2; kg. This result disproves a conjecture made by Coffman et al. <ref> [3] </ref>, who state that limited experiments suggest that the expected waste may grow unbounded on U fk 2; kg for sufficiently large k. Moreover, it demonstrates that the Markov chain approach may be more generally applicable than previously believed.
Reference: [4] <author> E.G. Coffman Jr., D.S. Johnson, P.W. Shor and R.R. Weber. </author> <title> Markov chains, computer proofs, and average-case analysis of Best Fit Bin packing. </title> <booktitle> In Proc. 25th Annual ACM Symposium on Theory of Computing, </booktitle> <pages> pages 412421, </pages> <year> 1993. </year>
Reference-contexts: Coffman et al. [2] proved that First Fit is stable under U f j; kg, when k j 2 , and Best Fit is stable under U f j; kg, when k j . j C 3/=2. Later, Coffman et al. <ref> [4] </ref> introduced a novel method for proving the stability (and instability) of bin packing algorithms based on multi-dimensional Markov chains. Their methodology allowed them to show that U f j; kg is stable under Best Fit for several specific pairs of values for j and k.
Reference: [5] <author> G. Fayolle, </author> <title> V.A. Malyeshev and M.V. Menshikov. Topics in Constructive Theory of Countable Markov chains. </title> <publisher> Cambridge University Press, </publisher> <year> 1995. </year>
Reference-contexts: It is easy to verify that equation (1) evaluates to 1=j . The third step relies on general conditions for a multi-dimensional Markov chain to be ergodic; we cite the appropriate lemma from [11], which is derived from <ref> [5] </ref>. Lemma 6 ([11], Lemma 6, or [5], Corollary 7.1.3) Let M be an irreducible, aperiodic Markov chain with state space S Z k , and b a positive integer. <p> It is easy to verify that equation (1) evaluates to 1=j . The third step relies on general conditions for a multi-dimensional Markov chain to be ergodic; we cite the appropriate lemma from [11], which is derived from <ref> [5] </ref>. Lemma 6 ([11], Lemma 6, or [5], Corollary 7.1.3) Let M be an irreducible, aperiodic Markov chain with state space S Z k , and b a positive integer. Denote by p b s s 0 the transition probability from s to s 0 in M b , the b-step version of M.
Reference: [6] <author> B. Hajek. </author> <title> Hitting-time and occupation-time bounds implied by drift analysis with applications. </title> <booktitle> Advances in Applied Probability, </booktitle> <address> 14:502525, </address> <year> 1982. </year>
Reference-contexts: Similar results, however, can be applied in this setting, once we have shown that the expected change in the waste f is negative for a suitably large T . For example, [14, Theorem 13.0.1] can be used to show that the chain is ergodic, and <ref> [6, Theorem 3.1] </ref> implies that in the stationary distribution, the distribution of the waste has an exponentially decreasing tail. 5 Conclusions We have demonstrated that the First Fit bin packing algorithm is stable on the distribution U fk 2; kg.
Reference: [7] <author> D.S. Johnson. </author> <title> Near-Optimal Bin Packing Algorithms. </title> <type> PhD Thesis, </type> <institution> Massachusetts Institute of Technology, Department of Mathematics, </institution> <year> 1973. </year> <month> 15 </month>
Reference-contexts: For any algorithm A, let R 1 A D fr 1j for some N &gt; 0; A.S/=O P T .S/ r for all S with O P T .S/ N g: Theorem 2 For every d 2, R 1 RF .d/ 17 Proof: Follows from a result by Johnson <ref> [7, 8] </ref> because RF (d) belongs to the class of Almost Any Fit algorithms. 3 Average-case analysis of Random Fit In this section we prove that Random Fit is stable under the input distribution U fk 2; kg and derive some related results for U fk 1; kg and U fk;
Reference: [8] <author> D.S. Johnson. </author> <title> Fast algorithms for bin packing. </title> <journal> Journal of Computer and System Sciences, </journal> <volume> 8:272314, </volume> <year> 1974. </year>
Reference-contexts: For any algorithm A, let R 1 A D fr 1j for some N &gt; 0; A.S/=O P T .S/ r for all S with O P T .S/ N g: Theorem 2 For every d 2, R 1 RF .d/ 17 Proof: Follows from a result by Johnson <ref> [7, 8] </ref> because RF (d) belongs to the class of Almost Any Fit algorithms. 3 Average-case analysis of Random Fit In this section we prove that Random Fit is stable under the input distribution U fk 2; kg and derive some related results for U fk 1; kg and U fk;
Reference: [9] <author> D.S. Johnson. </author> <title> Private communication, </title> <year> 1996. </year>
Reference-contexts: An open question is to tighten the bounds developed in this paper. For both First Fit and Random Fit, our bounds for the expected waste are doubly exponential in j . Simulations suggest that the expected waste for First Fit may only be exponential in j <ref> [9] </ref>. Unfortunately, the simulations for Random Fit seem to suggest that the expected waste for Random Fit may indeed be doubly exponential in j , in which case it seems that another approach may be necessary to achieve better bounds for First Fit.
Reference: [10] <author> D.S. Johnson, A. Demers, J.D. Ullman, M.R. Garey and R.L. Graham. </author> <title> Worst case bounds for simple one-dimensional packing algorithms. </title> <journal> SIAM Journal on Computing, </journal> <volume> 3:299325, </volume> <year> 1974. </year>
Reference-contexts: In the worst case, the number of bins used by any of these algorithms is at most 17 10 times the optimum number of bins, as shown by Johnson et al. <ref> [10] </ref>. When item sizes are generated by U .0; 1/, the continuous uniform distribution on .0; 1], then the performance measure of interest is the expected waste, which is the difference between the number of bins used and the total size of the items packed so far.
Reference: [11] <author> C. Kenyon, A. Sinclair, and Y. Rabani. </author> <title> Biased Random Walks, Lyapunov Functions, and Stochastic Analysis of Best Fit Bin Packing. </title> <booktitle> In Proc. 7th Annual ACM-SIAM Symposium on Discrete Algorithms, </booktitle> <pages> pages 351358, </pages> <year> 1995. </year> <note> Submitted to Journal of Algorithms. </note>
Reference-contexts: Their methodology allowed them to show that U f j; kg is stable under Best Fit for several specific pairs of values for j and k. Kenyon et al. <ref> [11] </ref> expanded on this work by proving that Best Fit is stable under the entire family of distributions U fk 2; kg, using a complex analysis of the underlying Markov chains. 1 We briefly describe the Markov chain setting used in the results described above. <p> In the following sections we then concentrate on average-case analysis. Random Fit has the advantage that, like Best Fit, a packing can be represented by the number of bins of each possible residual capacity. Therefore, in Section 3, we first generalize the analysis of Best Fit shown in <ref> [11] </ref> to Random Fit. We prove stability of Random Fit under the input distribution U fk 2; kg and derive some related results for U fk 1; kg and U fk; kg. <p> 3 Average-case analysis of Random Fit In this section we prove that Random Fit is stable under the input distribution U fk 2; kg and derive some related results for U fk 1; kg and U fk; kg. 3.1 Preliminaries We begin by reviewing some important definitions and lemmas from <ref> [11] </ref>. For considering the distribution U f j; kg, rather than have bins of size 1, we shall instead think of having bins of size k and item sizes chosen 3 uniformly from f1; : : : ; j g. The two notions are clearly equivalent. <p> The result follows. The second part is almost exactly the same as in Proposition 4 of <ref> [11] </ref>, which we sketch here for completeness. If s i D 0, and s i 0 D 0 for all i 0 k i, then clearly s i moves to 1 with probability at least 1=j . <p> One may check that this fact suffices to prove the lemma. 4 3.2 Outline of the proof We now sketch how we will prove that RF is stable, following the same approach as <ref> [11] </ref>. We first note that by Lemma 3, the amount of waste from non-small tokens is bounded by a constant. Hence we need only consider the waste due to small tokens, which we denote by f .t / D P d j=2e The proof breaks down into three steps. <p> The challenging part of the proof is the second step, where we must show that s d j 2 e &gt; 0 for most of a suitably large interval. The first step is actually a simple lemma, entirely similar to one given in <ref> [11] </ref>. However, since the lemma is heavily based on the fact that j D k 2, we present a proof here. Lemma 5 ([11], Proposition 5) Suppose that s d j 2 e .t / &gt; 0. <p> It is easy to verify that equation (1) evaluates to 1=j . The third step relies on general conditions for a multi-dimensional Markov chain to be ergodic; we cite the appropriate lemma from <ref> [11] </ref>, which is derived from [5]. Lemma 6 ([11], Lemma 6, or [5], Corollary 7.1.3) Let M be an irreducible, aperiodic Markov chain with state space S Z k , and b a positive integer. <p> Moreover, these steps may affect the behavior of s iC1 at any point. We avoid the problem by introducing an adversary model, generalizing a similar argument from <ref> [11] </ref>. This adversary model allows us to consider the worst possible case for the steps where s i is smaller than we need. 7 We consider how an adversary can affect a homogeneous downward biased random walk on [0; R]. <p> Proof: The case where l D 0, the walk is unbiased, and the self-loop probability is 0 corresponds to what is proven in <ref> [11, Lemma 7] </ref>; we extend the argument to this more general case. We use induction on n. We first note that any adversary that uses a downward move when the walk is below l can be replaced by one that does not. This follows by a simple coupling argument. <p> We are now ready to prove the main theorem: Theorem 14 Random Fit is stable under the distribution U fk 2; kg for all k 3. Proof: As in our previous calculations we first assume that k is odd. As in Theorem 1 of <ref> [11] </ref>, it suffices to consider the drift of f .s/ over a suitably large interval T , and show that it is negative for all but a finite number of states.
Reference: [12] <author> N. Kahale. </author> <title> Large Deviation Bounds for Markov Chains. </title> <type> DIMACS Technical Report 94-39. </type>
Reference-contexts: In order to bound the behavior of the random walks we study, we shall require the following lemma, which is a weak bound derived from Corollary 4.2 of <ref> [12] </ref>: Lemma 7 Let 1 &lt; 1 denote the second largest eigenvalue of the transition matrix for a random walk W on [0; R]. Let . A/ D a2A a be the stationary probability that the walk lies in A ae R, and W l .
Reference: [13] <author> T. Leighton and P. Shor. </author> <title> Tight bounds for minimax grid matching with applications to average case analysis of algorithms. </title> <journal> Combinatorica 9:161187, </journal> <year> 1989. </year>
Reference-contexts: Shor [16] showed that the expected waste created by First Fit is 2.n 2=3 /. Shor [16] and Leighton and Shor <ref> [13] </ref> proved that Best Fit does better, generating expected waste 2. p Because of these tight bounds, research on First Fit and Best Fit is now focused on analyzing expected waste when item sizes are generated by discrete uniform distributions.
Reference: [14] <author> S. Meyn and R. Tweedie. </author> <title> Markov Chains and Stochastic Stability, </title> <publisher> Springer-Verlag, </publisher> <year> 1996. </year>
Reference-contexts: Similar results, however, can be applied in this setting, once we have shown that the expected change in the waste f is negative for a suitably large T . For example, <ref> [14, Theorem 13.0.1] </ref> can be used to show that the chain is ergodic, and [6, Theorem 3.1] implies that in the stationary distribution, the distribution of the waste has an exponentially decreasing tail. 5 Conclusions We have demonstrated that the First Fit bin packing algorithm is stable on the distribution U
Reference: [15] <author> M. Mitzenmacher. </author> <title> Load balancing and density dependent jump Markov processes. </title> <booktitle> In Proc. 37th IEEE Annual Symposium on Foundations of Computer Science, </booktitle> <year> 1996. </year>
Reference-contexts: While RF has a guaranteed worst-case performance, it does not achieve the same bounds as First Fit and Best Fit. In the worst case, RF is only as good as Next Fit and Worst Fit. Motivated by recent work <ref> [1, 15] </ref>, we also consider an extension of Random Fit, called Random-Fit (d), that is defined for any integer d 2. Whenever a new item arrives, RF (d) examines bins in the same way as RF until d bins are found that can hold the item.
Reference: [16] <author> P.W. Shor. </author> <title> The average-case analysis of some on-line algorithms for bin packing. </title> <journal> Combinatorica, </journal> <volume> 6:179200, </volume> <year> 1986. </year>
Reference-contexts: When item sizes are generated by U .0; 1/, the continuous uniform distribution on .0; 1], then the performance measure of interest is the expected waste, which is the difference between the number of bins used and the total size of the items packed so far. Shor <ref> [16] </ref> showed that the expected waste created by First Fit is 2.n 2=3 /. Shor [16] and Leighton and Shor [13] proved that Best Fit does better, generating expected waste 2. p Because of these tight bounds, research on First Fit and Best Fit is now focused on analyzing expected waste <p> Shor <ref> [16] </ref> showed that the expected waste created by First Fit is 2.n 2=3 /. Shor [16] and Leighton and Shor [13] proved that Best Fit does better, generating expected waste 2. p Because of these tight bounds, research on First Fit and Best Fit is now focused on analyzing expected waste when item sizes are generated by discrete uniform distributions.
References-found: 16

