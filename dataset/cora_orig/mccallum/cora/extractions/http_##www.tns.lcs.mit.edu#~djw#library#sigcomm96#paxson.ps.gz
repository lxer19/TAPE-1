URL: http://www.tns.lcs.mit.edu/~djw/library/sigcomm96/paxson.ps.gz
Refering-URL: http://www.tns.lcs.mit.edu/~djw/library/sigcomm96/program.html
Root-URL: 
Email: vern@ee.lbl.gov  
Title: End-to-End Routing Behavior in the Internet  
Author: Vern Paxson 
Affiliation: University of California, Berkeley and Lawrence Berkeley National Laboratory  
Abstract: The large-scale behavior of routing in the Internet has gone virtually without any formal study, the exception being Chinoy's analysis of the dynamics of Internet routing information [Ch93]. We report on an analysis of 40,000 end-to-end route measurements conducted using repeated traceroutes between 37 Internet sites. We analyze the routing behavior for pathological conditions, routing stability, and routing symmetry. For pathologies, we characterize the prevalence of routing loops, erroneous routing, infrastructure failures, and temporary outages. We find that the likelihood of encountering a major routing pathology more than doubled between the end of 1994 and the end of 1995, rising from 1.5% to 3.4%. For routing stability, we define two separate types of stability, prevalence, meaning the overall likelihood that a particular route is encountered, and persistence, the likelihood that a route remains unchanged over a long period of time. We find that Internet paths are heavily dominated by a single prevalent route, but that the time periods over which routes persist show wide variation, ranging from seconds up to days. About 2/3's of the Internet paths had routes persisting for either days or weeks. For routing symmetry, we look at the likelihood that a path through the Internet visits at least one different city in the two directions. At the end of 1995, this was the case half the time, and at least one different autonomous system was visited 30% of the time. 
Abstract-found: 1
Intro-found: 1
Reference: [Ba95] <author> F. Baker, Ed., </author> <title> Requirements for IP Version 4 Routers, </title> <type> RFC 1812, </type> <institution> DDN Network Information Center, </institution> <month> June </month> <year> 1995. </year>
Reference-contexts: Louis, one of which sends all of its packets to Wash-ington, D.C. (solid; 17 hops to umann), and the other to Anaheim (dotted line; 29 hops). Thus, every other packet bound for umann travels via a different coast! While load splitting is explicitly allowed in <ref> [Ba95, p.79] </ref>, that document also cautions that there are situations for which it is inappropriate. We argue below that this is one of those situations.
Reference: [BDG95] <author> C. Baransel, W. Dobosiewicz, and P. Gburzynski, </author> <title> Routing in Multihop Packet Switching Networks: Gb/s Challenge, </title> <journal> IEEE Network, </journal> <volume> 9(3), </volume> <pages> pp. 38-61, </pages> <month> May/June </month> <year> 1995. </year>
Reference-contexts: on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering and Cheriton's seminal work on multicast routing [DC90]; Perlman's comparison of the popular OSPF and IS-IS protocols [Pe91]; and Baransel et al's survey of routing techniques for very high speed networks <ref> [BDG95] </ref>. For routing behavior, however, the literature contains considerably fewer studies. Some of these are based on simulation, such as Zaumen and Garcia-Luna Aceves' studies of routing behavior on several different wide-area topologies [ZG-LA92], and Sidhu et al's simulation of OSPF [SFANC93]. <p> Furthermore, if fluttering is done on a coarser granularity than per packet (say, per TCP connection), then the effects are also lessened. Finally, we note that deflection routing schemes that forward packets along sub-optimal routes to avoid the need to buffer packets at routers, and/or to simplify routing decisions <ref> [BDG95] </ref>, have virtually the same characteristics as fluttering paths.
Reference: [BM92] <author> I. Bilinskis and A. Mikelsons, </author> <title> Randomized Signal Processing, </title> <publisher> Prentice Hall International, </publisher> <year> 1992. </year>
Reference-contexts: Doing so gains two important (and related) properties. The first is that the measurements correspond to additive random sampling <ref> [BM92] </ref>. Such sampling is unbiased because it samples all instantaneous signal values with equal probability. The second important property is that the measurement times form a Poisson process.
Reference: [Bo93] <author> J-C. Bolot, </author> <title> End-to-End Packet Delay and Loss Behavior in the Internet, </title> <booktitle> Proceedings of SIGCOMM '93, </booktitle> <pages> pp. 289-298, </pages> <month> September </month> <year> 1993. </year>
Reference: [BCS94] <author> R. Braden, D. Clark, and S. Shenker, </author> <title> Integrated Services in the Internet Architecture: an Overview, </title> <type> RFC 1633, </type> <institution> DDN Network Information Center, </institution> <month> June </month> <year> 1994. </year>
Reference-contexts: aspects of networking affected by routing stability: the degree to which the properties of network paths are predictable; the degree to which a connection can learn about network conditions from past observations; the degree to which real-time protocols must be prepared to recreate or migrate state stored in the routers <ref> [DB95, FBZ94, ZDESZ93, BCS94] </ref>; and the degree to which network studies based on repeated measurements of network paths ([CPB93, Bo93, SAGJ93, Mu94]) can assume that the measurements are indeed observing the same path. 7.2 Two definitions of stability There are two distinct views of routing stability.
Reference: [BE90] <author> L. Breslau and D. Estrin, </author> <title> Design of Inter-Administrative Domain Routing Protocols, </title> <booktitle> Proceedings of SIGCOMM '90, </booktitle> <pages> pp. 231-241, </pages> <month> September </month> <year> 1990. </year>
Reference-contexts: books cited above, see, for example, discussions of the various ARPANET routing algorithms [MFR78, MRR80, KZ89]; the Exterior Gateway Protocol used in the NSFNET [Ro82] and the Border Gateway Protocol (BGP) that replaced it [RL95, RG95, Tr95a, Tr95b]; the related work by Estrin et al on routing between administrative domains <ref> [BE90, ERH92] </ref>; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering and Cheriton's seminal work on multicast routing [DC90]; Perlman's comparison of the popular OSPF and IS-IS protocols [Pe91]; and Baransel et al's survey of routing techniques for very high speed networks [BDG95].
Reference: [Ch93] <author> B. Chinoy, </author> <title> Dynamics of Internet Routing Information, </title> <booktitle> Proceedings of SIGCOMM '93, </booktitle> <pages> pp. 45-52, </pages> <month> September </month> <year> 1993. </year>
Reference-contexts: 1 Introduction The large-scale behavior of routing in the Internet has gone virtually without any formal study, the exception being Chinoy's analysis of the dynamics of Internet routing information <ref> [Ch93] </ref>. In this paper we analyze 40,000 end-to-end route measurements conducted using repeated traceroutes between 37 Internet sites. <p> In only a few studies do measurements play a significant role: Rekhter and Chinoy's trace-driven simulation of the tradeoffs in using inter-autonomous system routing information to optimize routing within a single autonomous system [RC92]; Chinoy's study of the dynamics of routing information propagated inside the NSFNET infrastructure <ref> [Ch93] </ref>; and Floyd and Jacobson's analysis of how periodicity in routing messages can lead to global synchronization among the routers [FJ94]. This is not to say that studies of routing protocols ignore routing behavior. But the presentation of routing behavior in the protocol studies is almost always qualitative. <p> For example, when a routing loop is observed, a natural question is: what router is responsible for having created this loop? A measurement study made internal to the network, such as <ref> [Ch93] </ref>, can attempt to answer this question because the network's internal state is more visible. But for an end-to-end measurement study such as ours, all that is actually visible is the fact that a loop occurs, with little possibility of determining why. <p> Finally, two thirds of the Internet paths we studied had quite stable routes, persisting for days or weeks. This finding is in accord with that of <ref> [Ch93] </ref>, which found that most networks are nearly quiescent (in terms of routing changes) while a few exhibit frequent connectivity transitions. 8 Routing symmetry We now analyze the measurements to assess the degree to which routes are symmetric or asymmetric.
Reference: [CBP95] <author> K. Claffy, H-W. Braun and G. Polyzos, </author> <title> A Parameterizable Methodology for Internet Traffic Flow Profiling, </title> <journal> IEEE JSAC, </journal> <volume> 13(8), </volume> <pages> pp. </pages> <month> 1481-1494 October </month> <year> 1995. </year>
Reference-contexts: if the paths between two NTP communities are predominantly asymmetric, with similar differences in one-way times. arrivals they observe, and the utility of routers establishing anticipatory flow state when they observe a new flow from A to B that is likely to generate a return flow from B to A <ref> [CBP95] </ref>. See [Pa96] for detailed discussion of these.
Reference: [CPB93] <author> K. Claffy, G. Polyzos and H-W. Braun, </author> <title> Measurement Considerations for Assessing Unidirectional Latencies, </title> <journal> Internet-working: Research and Experience, </journal> <volume> 4 (3), </volume> <pages> pp. 121-132, </pages> <month> September </month> <year> 1993. </year>
Reference-contexts: When attempting to assess the one-way propagation time between two Internet hosts, the common practice is to assume it is well approximated as half of the round-trip time (RTT) between the hosts <ref> [CPB93] </ref>. The Network Time Protocol (NTP) needs to make such an assumption when synchronizing clocks between widely separated hosts [Mi92]. 2 Claffy and colleagues studied variations in one-way latencies between the United States, Europe, and Japan [CPB93]. <p> it is well approximated as half of the round-trip time (RTT) between the hosts <ref> [CPB93] </ref>. The Network Time Protocol (NTP) needs to make such an assumption when synchronizing clocks between widely separated hosts [Mi92]. 2 Claffy and colleagues studied variations in one-way latencies between the United States, Europe, and Japan [CPB93]. They discuss the difficulties of measuring absolute differences in propagation times in the absence of separately-synchronized clocks, but for their study they focussed on variations, which does not require synchronization of the clocks.
Reference: [DC90] <author> S. Deering and D. Cheriton, </author> <title> Multicast Routing in Datagram In-ternetworks and Extended LANs, </title> <journal> ACM Transactions on Computer Systems, </journal> <volume> 8(2), </volume> <pages> pp. 85-110, </pages> <month> May </month> <year> 1990. </year>
Reference-contexts: in the NSFNET [Ro82] and the Border Gateway Protocol (BGP) that replaced it [RL95, RG95, Tr95a, Tr95b]; the related work by Estrin et al on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering and Cheriton's seminal work on multicast routing <ref> [DC90] </ref>; Perlman's comparison of the popular OSPF and IS-IS protocols [Pe91]; and Baransel et al's survey of routing techniques for very high speed networks [BDG95]. For routing behavior, however, the literature contains considerably fewer studies.
Reference: [DB95] <author> L. Delgrossi and L. Berger, Ed., </author> <title> Internet Stream Protocol Version 2 (ST2), Protocol SpecificationVersion ST2+, </title> <type> RFC 1819, </type> <institution> DDN Network Information Center, </institution> <month> August </month> <year> 1995. </year>
Reference-contexts: aspects of networking affected by routing stability: the degree to which the properties of network paths are predictable; the degree to which a connection can learn about network conditions from past observations; the degree to which real-time protocols must be prepared to recreate or migrate state stored in the routers <ref> [DB95, FBZ94, ZDESZ93, BCS94] </ref>; and the degree to which network studies based on repeated measurements of network paths ([CPB93, Bo93, SAGJ93, Mu94]) can assume that the measurements are indeed observing the same path. 7.2 Two definitions of stability There are two distinct views of routing stability.
Reference: [Do95] <author> Sean Doran, </author> <note> Route Flapping, with notes by Stan Barber, http: //www.merit.edu/routing.arbiter/NANOG/2.95.NANOG.notes/ route-flapping.html. </note>
Reference-contexts: The key to whether use of BGP will scale to a very large Internet lies in the stability of inter-AS routing [Tr95b]. If routes between AS's vary frequentlya phenomenon termed flapping <ref> [Do95] </ref> then the BGP routers will spend a great deal of their time updating their routing tables and propagating the routing changes. Daily statistics concerning routing flapping are available from [Me95b]. <p> While this bodes well for the scalability of BGP, we do not claim this finding as having major significance: one could make a much more thorough assessment of the degree of inter-AS route flapping by analyzing the data discussed in <ref> [Do95, Me95b] </ref>. Finally, two thirds of the Internet paths we studied had quite stable routes, persisting for days or weeks.
Reference: [ERH92] <author> D. Estrin, Y. Rekhter and S. Hotz, </author> <title> Scalable Inter-Domain Routing Architecture, </title> <booktitle> Proceedings of SIGCOMM '92, </booktitle> <pages> pp. 40-52, </pages> <month> August </month> <year> 1992. </year>
Reference-contexts: books cited above, see, for example, discussions of the various ARPANET routing algorithms [MFR78, MRR80, KZ89]; the Exterior Gateway Protocol used in the NSFNET [Ro82] and the Border Gateway Protocol (BGP) that replaced it [RL95, RG95, Tr95a, Tr95b]; the related work by Estrin et al on routing between administrative domains <ref> [BE90, ERH92] </ref>; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering and Cheriton's seminal work on multicast routing [DC90]; Perlman's comparison of the popular OSPF and IS-IS protocols [Pe91]; and Baransel et al's survey of routing techniques for very high speed networks [BDG95].
Reference: [FBZ94] <author> D. Ferrari, A. Banerjea and H. Zhang, </author> <title> Network support for multimedia: A discussion of the Tenet approach, </title> <journal> Computer Networks and ISDN Systems, </journal> <volume> 26(10), </volume> <pages> pp. 1267-1280, </pages> <month> July </month> <year> 1994. </year>
Reference-contexts: aspects of networking affected by routing stability: the degree to which the properties of network paths are predictable; the degree to which a connection can learn about network conditions from past observations; the degree to which real-time protocols must be prepared to recreate or migrate state stored in the routers <ref> [DB95, FBZ94, ZDESZ93, BCS94] </ref>; and the degree to which network studies based on repeated measurements of network paths ([CPB93, Bo93, SAGJ93, Mu94]) can assume that the measurements are indeed observing the same path. 7.2 Two definitions of stability There are two distinct views of routing stability.
Reference: [FJ94] <author> S. Floyd and V. Jacobson, </author> <title> The Synchronization of Periodic Routing Messages, </title> <journal> IEEE/ACM Transactions on Networking, </journal> <volume> 2(2), </volume> <pages> pp. 122-136, </pages> <month> April </month> <year> 1994. </year>
Reference-contexts: the tradeoffs in using inter-autonomous system routing information to optimize routing within a single autonomous system [RC92]; Chinoy's study of the dynamics of routing information propagated inside the NSFNET infrastructure [Ch93]; and Floyd and Jacobson's analysis of how periodicity in routing messages can lead to global synchronization among the routers <ref> [FJ94] </ref>. This is not to say that studies of routing protocols ignore routing behavior. But the presentation of routing behavior in the protocol studies is almost always qualitative. Furthermore, of the measurement studies only Chinoy's is devoted to characterizing routing behavior in-the-large.
Reference: [HK89] <author> S. Hares and D. Katz, </author> <title> Administrative Domains and Routing Domains: A Model for Routing in the Internet, </title> <type> RFC 1136, </type> <institution> Network Information Center, SRI International, </institution> <address> Menlo Park, CA, </address> <month> December, </month> <year> 1989. </year>
Reference-contexts: Originally, an AS was a collection of routers and hosts unified by running a single interior gateway protocol (IGP). Over time, the notion has evolved to be essentially synonymous with that of administrative domain <ref> [HK89] </ref>, in which the routers and hosts are unified by a single administrative authority, and a set of IGP's. Routing between autonomous systems provides the highest-level of Internet interconnection.
Reference: [Hu95] <author> C. Huitema, </author> <title> Routing in the Internet, </title> <publisher> Prentice Hall PTR, </publisher> <year> 1995. </year>
Reference-contexts: The subject has matured to the point where a number of books have been written thoroughly examining the different issues and solutions <ref> [Pe92, St95, Hu95] </ref>. A key distinction we will make is that between routing protocols, by which we mean mechanisms for disseminating routing information within a network and the particulars of how to use that information to forward traffic, and routing behavior, meaning how in practice the routing algorithms perform. <p> Thus, loops are apt to form when the network experiences a change in connectivity and that change is not immediately propagated to all of the routers <ref> [Hu95] </ref>. One hopes that forwarding loops resolve themselves quickly, as they represent a complete connectivity failure.
Reference: [Ja89] <author> V. Jacobson, traceroute, ftp://ftp.ee.lbl.gov/ traceroute.tar.Z, </author> <year> 1989. </year>
Reference: [KZ89] <author> A. Khanna and J. Zinky, </author> <title> The Revised ARPANET Routing Metric, </title> <booktitle> Proceedings of SIGCOMM '89, </booktitle> <pages> pp. 45-56, </pages> <year> 1989. </year>
Reference-contexts: This distinction is important because while routing protocols have been heavily studied, routing behavior has not. The literature contains many studies of routing protocols. In addition to the books cited above, see, for example, discussions of the various ARPANET routing algorithms <ref> [MFR78, MRR80, KZ89] </ref>; the Exterior Gateway Protocol used in the NSFNET [Ro82] and the Border Gateway Protocol (BGP) that replaced it [RL95, RG95, Tr95a, Tr95b]; the related work by Estrin et al on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering
Reference: [La96] <author> C. Labovitz, </author> <title> private communication, </title> <month> May </month> <year> 1996. </year>
Reference-contexts: An argument that it is a trend, however, comes from recent data indicating increasing inter-AS routing instability during the second quarter of 1996 <ref> [La96] </ref>. 7 End-to-end routing stability One key property we would like to know about an end-to-end Internet route is its stability: do routes change often, or are they stable over time? In this section we analyze the routing measurements to address this question.
Reference: [Li89] <author> M. Little, </author> <title> Goals and Functional Requirements for Inter-Autonomous System Routing, </title> <type> RFC 1126, </type> <institution> Network Information Center, SRI International, </institution> <address> Menlo Park, CA, </address> <month> October, </month> <year> 1989. </year>
Reference-contexts: Routing between autonomous systems provides the highest-level of Internet interconnection. RFC 1126 outlines the goals and requirements for inter-AS routing <ref> [Li89] </ref>, and [Re95] gives an overview of how inter-AS routing has evolved. BGP, currently in its fourth version [RL95, RG95], is now used between all significant AS's [Tr95a]. BGP allows arbitrary interconnection topologies between AS's, and also provides a mechanism for preventing routing loops between AS's (c.f. x 6.1). <p> While some researchers have downplayed the significance of temporary forwarding loops [MRR80], others have noted that loops can rapidly lead to congestion as a router is flooded with multiple copies of each packet it forwards [ZG-LA92], and minimizing loops is a major Internet design goal <ref> [Li89] </ref>. To this end, BGP is designed to never allow the creation of inter-AS forwarding loops, which it accomplishes by tagging all routing information with the AS path over which it has traversed. 1 Persistent routing loops. <p> In x 7.4 we characterize the prevalence of Internet routes, and then in x 7.5 we tackle the problem of assessing persistence. 7.1 Importance of routing stability One of the goals of the Internet architecture is that large-scale routing changes (i.e., those involving different autonomous systems) rarely occur <ref> [Li89] </ref>.
Reference: [Lo95] <author> M. Lottor, </author> <month> ftp://nic.merit.edu/nsfnet/statistics; October, </month> <year> 1995. </year>
Reference-contexts: This is a miniscule fraction of the estimated 6.6 million Internet hosts as of July, 1995 <ref> [Lo95] </ref>, so clearly behavior we observe that is due to the particular endpoint hosts in our study is not representative. Similarly, the 34 different stub networks to which these hosts belong are also a miniscule fraction of the more than 50,000 known to the NSFNET in April, 1995 [Me95a].
Reference: [MFR78] <author> J. McQuillan, G. Falk and I. Richer, </author> <title> A Review of the Development and Performance of the ARPANET Routing Algorithm, </title> <journal> IEEE Transactions on Communications, </journal> <volume> 26(12), </volume> <pages> pp. 1802-1811, </pages> <month> December </month> <year> 1978. </year>
Reference-contexts: This distinction is important because while routing protocols have been heavily studied, routing behavior has not. The literature contains many studies of routing protocols. In addition to the books cited above, see, for example, discussions of the various ARPANET routing algorithms <ref> [MFR78, MRR80, KZ89] </ref>; the Exterior Gateway Protocol used in the NSFNET [Ro82] and the Border Gateway Protocol (BGP) that replaced it [RL95, RG95, Tr95a, Tr95b]; the related work by Estrin et al on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering
Reference: [MRR80] <author> J. McQuillan, I. Richer and E. Rosen, </author> <title> The New Routing Algorithm for the ARPANET, </title> <journal> IEEE Transactions on Communications, </journal> <volume> 28(5), </volume> <pages> pp. 711-719, </pages> <month> May </month> <year> 1980. </year>
Reference-contexts: This distinction is important because while routing protocols have been heavily studied, routing behavior has not. The literature contains many studies of routing protocols. In addition to the books cited above, see, for example, discussions of the various ARPANET routing algorithms <ref> [MFR78, MRR80, KZ89] </ref>; the Exterior Gateway Protocol used in the NSFNET [Ro82] and the Border Gateway Protocol (BGP) that replaced it [RL95, RG95, Tr95a, Tr95b]; the related work by Estrin et al on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering <p> One hopes that forwarding loops resolve themselves quickly, as they represent a complete connectivity failure. While some researchers have downplayed the significance of temporary forwarding loops <ref> [MRR80] </ref>, others have noted that loops can rapidly lead to congestion as a router is flooded with multiple copies of each packet it forwards [ZG-LA92], and minimizing loops is a major Internet design goal [Li89].
Reference: [Me95a] <institution> Merit Network, Inc., </institution> <address> ftp://nic.merit.edu/nsfnet/statistics/ history.nets; May, </address> <year> 1995. </year>
Reference-contexts: Similarly, the 34 different stub networks to which these hosts belong are also a miniscule fraction of the more than 50,000 known to the NSFNET in April, 1995 <ref> [Me95a] </ref>. On the other hand, we argue that the routes between the 37 hosts are plausibly representative, because they include a non-negligible fraction of the AS's which together comprise the Internet.
Reference: [Me95b] <institution> Merit Network, Inc., </institution> <address> http://nic.merit.edu/routing.arbiter/RA/ statistics/flap.html. </address>
Reference-contexts: If routes between AS's vary frequentlya phenomenon termed flapping [Do95] then the BGP routers will spend a great deal of their time updating their routing tables and propagating the routing changes. Daily statistics concerning routing flapping are available from <ref> [Me95b] </ref>. <p> Most likely these widespread changes reflect the ripple effects of a single routing transition (a link going down), as a transient connectivity outage propagates through the Internet. This conjecture could be further assessed by an analysis of BGP routing transition statistics, such as those available from <ref> [Me95b] </ref>. Location of routing loops. We analyzed the looping routers to see if any of the loops involved more than one AS. As mentioned above, the design of BGP in theory prevents any inter-AS forwarding loops, by preventing any looping of routing information. <p> While this bodes well for the scalability of BGP, we do not claim this finding as having major significance: one could make a much more thorough assessment of the degree of inter-AS route flapping by analyzing the data discussed in <ref> [Do95, Me95b] </ref>. Finally, two thirds of the Internet paths we studied had quite stable routes, persisting for days or weeks.
Reference: [Mi92] <author> D. Mills, </author> <title> Network Time Protocol (Version 3): Specification, Implementation and Analysis, </title> <type> RFC 1305, </type> <institution> Network Information Center, SRI International, </institution> <address> Menlo Park, CA, </address> <month> March </month> <year> 1992. </year>
Reference-contexts: The Network Time Protocol (NTP) needs to make such an assumption when synchronizing clocks between widely separated hosts <ref> [Mi92] </ref>. 2 Claffy and colleagues studied variations in one-way latencies between the United States, Europe, and Japan [CPB93].
Reference: [Mu94] <author> A. Mukherjee, </author> <title> On the Dynamics and Significance of Low Frequency Components of Internet Load, Internetworking: </title> <journal> Research and Experience, </journal> <volume> Vol. 5, </volume> <pages> pp. 163-205, </pages> <month> December </month> <year> 1994. </year>
Reference: [Pa94] <author> V. Paxson, </author> <title> Empirically-Derived Analytic Models of Wide-Area TCP Connections, </title> <journal> IEEE/ACM Transactions on Networking, </journal> <volume> 2(4), </volume> <pages> pp. 316-336, </pages> <month> August </month> <year> 1994. </year>
Reference-contexts: Thus we can conclude: In general, Internet paths are strongly dominated by a single route. Previous traffic studies, however, have shown that many characteristics of network traffic exhibit considerable site-to-site variation <ref> [Pa94] </ref>, so it behooves us to assess the differences in ^ dom between the sites in our study. <p> A constant theme running through our study is that of widespread variation. We repeatedly find that different sites or pairs of sites encounter very different routing characteristics. This finding matches that of <ref> [Pa94] </ref>, which emphasizes that the variations in Internet traffic characteristics between sites are significant to the point that there is no typical Internet site. Similarly, there is no typical Internet path.
Reference: [Pa96] <author> V. Paxson, </author> <title> Part I of An Analysis of End-to-End Internet Dynamics, </title> <type> Ph.D. </type> <note> dissertation in preparation, </note> <institution> University of California, Berkeley, </institution> <year> 1996. </year>
Reference-contexts: For brevity we assume that the reader is familiar with the workings of the traceroute utility for measuring Internet routes ([Ja89]; see <ref> [Pa96] </ref> for detailed discussion). 4.1 Experimental apparatus We conducted our experiment by recruiting a number of Internet sites (see Table 1 in x 5) to run a network probe daemon (NPD) that provides several measurement services. <p> But we also had traceroute measurements from a TCP dynamics study we are conducting using the NPD framework (Part II of <ref> [Pa96] </ref>). These were also made on average two hours apart, so by including them the proportion of burst measurements shifted to 60% bursts, 40% more widely spaced. <p> By analyzing a BGP routing table dump obtained from an AS border router, we find in <ref> [Pa96] </ref> that the Internet presently has about 1,000 active AS's, of which the routes in our study traversed 8%. An important point, however, is that not all AS's are equalsome are much more prominent in Internet routing than others. <p> To address this problem, we need to associate a confidence interval with ^p, the interval being a range of values that, with high confidence, includes p. In <ref> [Pa96] </ref>, we develop tight bounds on the interval in which p must lie to be consistent, with confidence c, with observing k independent instances of P in n measurements. <p> If we then let c denote the confidence we wish to associate with a finding that the two datasets show a significant difference (i.e., c is the probability that an apparent difference is not simply due to chance), then in <ref> [Pa96] </ref> we show that we should compute confidence intervals for D 1 and D 2 using c 0 p 1 c. If these intervals do not overlap, then the prevalence of P in D 1 is significantly different than in D 2 , with confidence c. <p> For our analysis, we considered any traceroute showing a loop unresolved by end of the traceroute as a persistent loop. 10 traceroutes in D 1 exhibited persistent routing loops. See <ref> [Pa96] </ref> for details. In D 2 , 50 traceroutes showed persistent loops. <p> Temporary routing loops. We define a temporary loop as one that resolved during the traceroute. In D 1 we observed only two temporary loops, but in D 2 we found 23. These are detailed in <ref> [Pa96] </ref>. Here, we limit the discussion to an interesting property we often found associated with these loops, namely widespread connectivity or routing changes. <p> See <ref> [Pa96] </ref> for examples. Some of these changes were accompanied by outages, in which presumably the intermediary routers were rearranging their views of the current topology, and dropping many packets in the interim because they did not know how to forward them. <p> Here, though, the two split paths immediately rejoined, so the split's effects were completely localized. In D 2 , however, we saw very little flutteringsee <ref> [Pa96] </ref> for details and additional discussion. While fluttering can provide benefits as a way to balance load in a network, it also creates a number of problems for different networking applications. First, a fluttering network path presents the difficulties that arise from unstable network paths (x 7.1). <p> We analyze these failures in detail in <ref> [Pa96] </ref>. Here, we confine ourselves to infrastructure failures, in which a route terminates in the middle of the network. We observed a total of 13 infrastructure failures out of 6,459 D 1 observations, corresponding to an Internet infrastructure availability of 99.799.9%, while in D 2 this dropped to 99.499.6%. <p> For example, we observed a 1,500 km end-to-end route of only 3 hops, and a 2,000 km route of 5 hops. We also found that the route between mit and harv (about 3 km apart), was consistently 11 hops in both directions. See <ref> [Pa96] </ref> for details. 6.7 Temporary outages The final pathology we discuss here is temporary network outages. When a sequence of consecutive traceroute probes are lost, the most likely cause is either a temporary loss of network connectivity, or very heavy congestion lasting 10's of seconds. <p> For outages between 30 and 70 seconds, the duration still exhibits a strong geometric distribution, but with p = 0:62, suggesting two different recovery mechanisms. See <ref> [Pa96] </ref> for additional discussion. <p> For the stability concerns given in x 7.1, such a change will have little consequence, provided the two routers are co-located and capable of sharing state. We identified 5 such pairs of tightly coupled routers and merged each pair into a single router for purposes of assessing stability (see <ref> [Pa96] </ref> for details). Finally, we reduced the routes to three different levels of granularity: considering each route as a sequence of Internet hostnames (host granularity), as a sequence of cities (city granularity; see [Pa96] for details on geography), and as a sequence of AS's (AS granularity). <p> tightly coupled routers and merged each pair into a single router for purposes of assessing stability (see <ref> [Pa96] </ref> for details). Finally, we reduced the routes to three different levels of granularity: considering each route as a sequence of Internet hostnames (host granularity), as a sequence of cities (city granularity; see [Pa96] for details on geography), and as a sequence of AS's (AS granularity). The use of city and AS granularities introduces a notion of major change as opposed to any change. <p> 1 we observe route R 1 and then the next measurement at time t 2 observes route R 2 , we make a best guess that route R 1 terminated and route R 2 began half way between these measurements, i.e., at time t 1 +t 2 2 . (See <ref> [Pa96] </ref> for additional details.) long-lived routes. Even keeping in mind that our estimates are rough, it is clear that the distribution of long-lived route durations has two distinct regions, with many of the routes persisting for 1-7 days, and another group persisting for several weeks. <p> See <ref> [Pa96] </ref> for detailed discussion of these. <p> This work greatly benefited from the efforts and insights of Domenico Ferrari, Sally Floyd, John Hawkinson, Van Jacob-son, Kurt Lidl, Steve McCanne, Greg Minshall, Craig Partridge, and John Rice, all of whom gave detailed comments on <ref> [Pa96] </ref>; from discussions with Guy Almes, Robert Elz, Teus Hagen, John Hawkinson, Kate Lance, Paul Love, Jamshid Mahdavi, Matt Mathis, Dave Mills, and Curtis Villamizar; and from the comments of the SIGCOMM reviewers.
Reference: [PV88] <author> R. Perlman and G. Varghese, </author> <title> Pitfalls in the Design of Distributed Routing Algorithms, </title> <booktitle> Proceedings of SIGCOMM '88, </booktitle> <pages> pp. 43-54, </pages> <month> August </month> <year> 1988. </year>
Reference-contexts: algorithms [MFR78, MRR80, KZ89]; the Exterior Gateway Protocol used in the NSFNET [Ro82] and the Border Gateway Protocol (BGP) that replaced it [RL95, RG95, Tr95a, Tr95b]; the related work by Estrin et al on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms <ref> [PV88] </ref>; Deering and Cheriton's seminal work on multicast routing [DC90]; Perlman's comparison of the popular OSPF and IS-IS protocols [Pe91]; and Baransel et al's survey of routing techniques for very high speed networks [BDG95]. For routing behavior, however, the literature contains considerably fewer studies.
Reference: [Pe91] <author> R. Perlman, </author> <title> A comparison between two routing protocols: </title> <journal> OSPF and IS-IS, IEEE Network, </journal> <volume> 5(5), </volume> <pages> pp. 18-24, </pages> <month> September </month> <year> 1991. </year>
Reference-contexts: that replaced it [RL95, RG95, Tr95a, Tr95b]; the related work by Estrin et al on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering and Cheriton's seminal work on multicast routing [DC90]; Perlman's comparison of the popular OSPF and IS-IS protocols <ref> [Pe91] </ref>; and Baransel et al's survey of routing techniques for very high speed networks [BDG95]. For routing behavior, however, the literature contains considerably fewer studies.
Reference: [Pe92] <author> R. Perlman, </author> <title> Interconnections: Bridges and Routers, </title> <publisher> Addison-Wesley, </publisher> <year> 1992. </year>
Reference-contexts: The subject has matured to the point where a number of books have been written thoroughly examining the different issues and solutions <ref> [Pe92, St95, Hu95] </ref>. A key distinction we will make is that between routing protocols, by which we mean mechanisms for disseminating routing information within a network and the particulars of how to use that information to forward traffic, and routing behavior, meaning how in practice the routing algorithms perform.
Reference: [RC92] <author> Y. Rekhter and B. Chinoy, </author> <title> Injecting Inter-autonomous System Routes into Intra-autonomous System Routing: a Performance Analysis, Internetworking: </title> <journal> Research and Experience, </journal> <volume> Vol. 3, </volume> <pages> pp. 189-202, </pages> <year> 1992. </year>
Reference-contexts: In only a few studies do measurements play a significant role: Rekhter and Chinoy's trace-driven simulation of the tradeoffs in using inter-autonomous system routing information to optimize routing within a single autonomous system <ref> [RC92] </ref>; Chinoy's study of the dynamics of routing information propagated inside the NSFNET infrastructure [Ch93]; and Floyd and Jacobson's analysis of how periodicity in routing messages can lead to global synchronization among the routers [FJ94]. This is not to say that studies of routing protocols ignore routing behavior.
Reference: [Re95] <author> Y. Rekhter, Inter-Domain Routing: EGP, BGP, and IDRP, </author> <note> in [St95]. </note>
Reference-contexts: Routing between autonomous systems provides the highest-level of Internet interconnection. RFC 1126 outlines the goals and requirements for inter-AS routing [Li89], and <ref> [Re95] </ref> gives an overview of how inter-AS routing has evolved. BGP, currently in its fourth version [RL95, RG95], is now used between all significant AS's [Tr95a]. BGP allows arbitrary interconnection topologies between AS's, and also provides a mechanism for preventing routing loops between AS's (c.f. x 6.1).
Reference: [RL95] <author> Y. Rekhter and T. Li, </author> <title> A Border Gateway Protocol 4 (BGP-4), </title> <type> RFC 1771, </type> <institution> DDN Network Information Center, </institution> <month> March </month> <year> 1995. </year>
Reference-contexts: The literature contains many studies of routing protocols. In addition to the books cited above, see, for example, discussions of the various ARPANET routing algorithms [MFR78, MRR80, KZ89]; the Exterior Gateway Protocol used in the NSFNET [Ro82] and the Border Gateway Protocol (BGP) that replaced it <ref> [RL95, RG95, Tr95a, Tr95b] </ref>; the related work by Estrin et al on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering and Cheriton's seminal work on multicast routing [DC90]; Perlman's comparison of the popular OSPF and IS-IS protocols [Pe91]; and Baransel et <p> Routing between autonomous systems provides the highest-level of Internet interconnection. RFC 1126 outlines the goals and requirements for inter-AS routing [Li89], and [Re95] gives an overview of how inter-AS routing has evolved. BGP, currently in its fourth version <ref> [RL95, RG95] </ref>, is now used between all significant AS's [Tr95a]. BGP allows arbitrary interconnection topologies between AS's, and also provides a mechanism for preventing routing loops between AS's (c.f. x 6.1).
Reference: [RG95] <author> Y. Rekhter and P. Gross, </author> <title> Application of the Border Gateway Protocol in the Internet, </title> <type> RFC 1772, </type> <institution> DDN Network Information Center, </institution> <month> March </month> <year> 1995. </year>
Reference-contexts: The literature contains many studies of routing protocols. In addition to the books cited above, see, for example, discussions of the various ARPANET routing algorithms [MFR78, MRR80, KZ89]; the Exterior Gateway Protocol used in the NSFNET [Ro82] and the Border Gateway Protocol (BGP) that replaced it <ref> [RL95, RG95, Tr95a, Tr95b] </ref>; the related work by Estrin et al on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering and Cheriton's seminal work on multicast routing [DC90]; Perlman's comparison of the popular OSPF and IS-IS protocols [Pe91]; and Baransel et <p> Routing between autonomous systems provides the highest-level of Internet interconnection. RFC 1126 outlines the goals and requirements for inter-AS routing [Li89], and [Re95] gives an overview of how inter-AS routing has evolved. BGP, currently in its fourth version <ref> [RL95, RG95] </ref>, is now used between all significant AS's [Tr95a]. BGP allows arbitrary interconnection topologies between AS's, and also provides a mechanism for preventing routing loops between AS's (c.f. x 6.1).
Reference: [Ro82] <author> E. Rosen, </author> <title> Exterior Gateway Protocol (EGP), </title> <type> RFC 896, </type> <institution> Network Information Center, SRI International, </institution> <address> Menlo Park, CA, </address> <month> October </month> <year> 1982. </year>
Reference-contexts: The literature contains many studies of routing protocols. In addition to the books cited above, see, for example, discussions of the various ARPANET routing algorithms [MFR78, MRR80, KZ89]; the Exterior Gateway Protocol used in the NSFNET <ref> [Ro82] </ref> and the Border Gateway Protocol (BGP) that replaced it [RL95, RG95, Tr95a, Tr95b]; the related work by Estrin et al on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering and Cheriton's seminal work on multicast routing [DC90]; Perlman's comparison of <p> hosts A and B at the edges of the network, how does the virtual path A ) B behave? This is the question we attempt to answer in our study. 3 Routing in the Internet For routing purposes, the Internet is partitioned into a disjoint set of autonomous systems (AS's) <ref> [Ro82] </ref>. Originally, an AS was a collection of routers and hosts unified by running a single interior gateway protocol (IGP).
Reference: [Ro83] <author> S. Ross, </author> <title> Stochastic Processes, </title> <publisher> John Wiley & Sons, </publisher> <year> 1983. </year>
Reference-contexts: But suppose instead that the mean duration of R 1 is 10 seconds and the mean duration of R 2 is 1 second. If, for example, the alternations between them occur as a semi-Markov process, then the proportion of time spent in state R 1 is 10 11 <ref> [Ro83] </ref>, again reflecting that R 1 is prevalent. Similarly, the proportion of time spent in state R 2 is 1 11 . Given these proportions, the sequence of observations is still plausible, even though each observation of R 1 is actually of a separate instance of the route. <p> We can assess r from our data as follows. We hypothesize that routing changes follow a semi-Markov process, in which case the steady-state probability of observing a particular state is equal to the average amount of time spent in that state <ref> [Ro83] </ref>. Because of PASTA, our sampling gives us exactly this time average (x 4.2).
Reference: [SAGJ93] <author> D. Sanghi, A.K. Agrawal, O. Gudmundsson, and B.N. Jain, </author> <title> Experimental Assessment of End-to-end Behavior on Internet, </title> <booktitle> Proceedings of INFOCOM '93, </booktitle> <address> San Francisco, </address> <month> March, </month> <year> 1993. </year>
Reference: [SS80] <author> M. Schwartz and T. Stern, </author> <title> Routing Techniques Used in Computer Communication Networks, </title> <journal> IEEE Transactions on Communications, </journal> <volume> 28(4), </volume> <pages> pp. 539-552, </pages> <month> April </month> <year> 1980. </year>
Reference-contexts: After removing the pathologies, we analyze the remaining measurements to investigate routing stability (x 7) and symmetry (x 8), summarizing our findings in x 9. 2 Related research The problem of routing traffic in communication networks has been studied for well over twenty years <ref> [SS80] </ref>. The subject has matured to the point where a number of books have been written thoroughly examining the different issues and solutions [Pe92, St95, Hu95].
Reference: [SFANC93] <author> D. Sidhu, T. Fu, S. Abdallah, R. Nair, and R. Coltun, </author> <title> Open Shortest Path First (OSPF) Routing Protocol Simulation, </title> <booktitle> Proceedings of SIGCOMM '93, </booktitle> <pages> pp. 53-62, </pages> <month> September </month> <year> 1993. </year>
Reference-contexts: For routing behavior, however, the literature contains considerably fewer studies. Some of these are based on simulation, such as Zaumen and Garcia-Luna Aceves' studies of routing behavior on several different wide-area topologies [ZG-LA92], and Sidhu et al's simulation of OSPF <ref> [SFANC93] </ref>.
Reference: [St95] <author> M. Steenstrup, </author> <title> editor, Routing in Communications Networks, </title> <publisher> Prentice-Hall, </publisher> <year> 1995. </year>
Reference-contexts: The subject has matured to the point where a number of books have been written thoroughly examining the different issues and solutions <ref> [Pe92, St95, Hu95] </ref>. A key distinction we will make is that between routing protocols, by which we mean mechanisms for disseminating routing information within a network and the particulars of how to use that information to forward traffic, and routing behavior, meaning how in practice the routing algorithms perform.
Reference: [St94] <author> W.R. Stevens, </author> <title> TCP/IP Illustrated, Volume 1: The Protocols, </title> <publisher> Addison-Wesley, </publisher> <year> 1994. </year>
Reference-contexts: Finally, when the two routes have different propagation times, then TCP packets arriving at the destination out of order can lead to spurious fast retransmissions <ref> [St94] </ref> by generating duplicate acknowledge-ments, wasting bandwidth. These problems all argue for eliminating large-scale fluttering whenever possible.
Reference: [Tr95a] <author> P. Traina, </author> <title> Experience with the BGP-4 Protocol, </title> <type> RFC 1773, </type> <institution> DDN Network Information Center, </institution> <month> March </month> <year> 1995. </year>
Reference-contexts: The literature contains many studies of routing protocols. In addition to the books cited above, see, for example, discussions of the various ARPANET routing algorithms [MFR78, MRR80, KZ89]; the Exterior Gateway Protocol used in the NSFNET [Ro82] and the Border Gateway Protocol (BGP) that replaced it <ref> [RL95, RG95, Tr95a, Tr95b] </ref>; the related work by Estrin et al on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering and Cheriton's seminal work on multicast routing [DC90]; Perlman's comparison of the popular OSPF and IS-IS protocols [Pe91]; and Baransel et <p> Routing between autonomous systems provides the highest-level of Internet interconnection. RFC 1126 outlines the goals and requirements for inter-AS routing [Li89], and [Re95] gives an overview of how inter-AS routing has evolved. BGP, currently in its fourth version [RL95, RG95], is now used between all significant AS's <ref> [Tr95a] </ref>. BGP allows arbitrary interconnection topologies between AS's, and also provides a mechanism for preventing routing loops between AS's (c.f. x 6.1). The key to whether use of BGP will scale to a very large Internet lies in the stability of inter-AS routing [Tr95b].
Reference: [Tr95b] <author> P. Traina, </author> <title> editor, BGP-4 Protocol Analysis, </title> <type> RFC 1774, </type> <institution> DDN Network Information Center, </institution> <month> March </month> <year> 1995. </year>
Reference-contexts: The literature contains many studies of routing protocols. In addition to the books cited above, see, for example, discussions of the various ARPANET routing algorithms [MFR78, MRR80, KZ89]; the Exterior Gateway Protocol used in the NSFNET [Ro82] and the Border Gateway Protocol (BGP) that replaced it <ref> [RL95, RG95, Tr95a, Tr95b] </ref>; the related work by Estrin et al on routing between administrative domains [BE90, ERH92]; Perlman and Varghese's discussion of difficulties in designing routing algorithms [PV88]; Deering and Cheriton's seminal work on multicast routing [DC90]; Perlman's comparison of the popular OSPF and IS-IS protocols [Pe91]; and Baransel et <p> BGP allows arbitrary interconnection topologies between AS's, and also provides a mechanism for preventing routing loops between AS's (c.f. x 6.1). The key to whether use of BGP will scale to a very large Internet lies in the stability of inter-AS routing <ref> [Tr95b] </ref>. If routes between AS's vary frequentlya phenomenon termed flapping [Do95] then the BGP routers will spend a great deal of their time updating their routing tables and propagating the routing changes. Daily statistics concerning routing flapping are available from [Me95b].
Reference: [Wo82] <author> R. Wolff, </author> <title> Poisson Arrivals See Time Averages, </title> <journal> Operations Research, </journal> <volume> 30(2), </volume> <pages> pp. 223-231, </pages> <year> 1982. </year>
Reference-contexts: This means that Wolff's PASTA prin-ciplePoisson Arrivals See Time Averagesapplies to our measurements: asymptotically, the proportion of our measurements that observe a given state is equal to the amount of time that the Internet spends in that state <ref> [Wo82] </ref>. Two important points regarding Wolff's theorem are (1) the observed process does not need to be Markovian; and (2) the Poisson arrivals need not be homogeneous [Wo82, x 3]. The only requirement of the PASTA theorem is that the observed process cannot anticipate observation arrivals. <p> Two important points regarding Wolff's theorem are (1) the observed process does not need to be Markovian; and (2) the Poisson arrivals need not be homogeneous <ref> [Wo82, x 3] </ref>. The only requirement of the PASTA theorem is that the observed process cannot anticipate observation arrivals. There is one respect in which our measurements fail this requirement.
Reference: [ZG-LA92] <author> W. Zaumen and J.J. Garcia-Luna Aceves, </author> <title> Dynamics of Link-state and Loop-free Distance-vector Routing Algorithms, </title> <journal> In-ternetworking: Research and Experience, </journal> <volume> Vol. 3, </volume> <pages> pp. 161-188, </pages> <year> 1992. </year>
Reference-contexts: For routing behavior, however, the literature contains considerably fewer studies. Some of these are based on simulation, such as Zaumen and Garcia-Luna Aceves' studies of routing behavior on several different wide-area topologies <ref> [ZG-LA92] </ref>, and Sidhu et al's simulation of OSPF [SFANC93]. <p> While some researchers have downplayed the significance of temporary forwarding loops [MRR80], others have noted that loops can rapidly lead to congestion as a router is flooded with multiple copies of each packet it forwards <ref> [ZG-LA92] </ref>, and minimizing loops is a major Internet design goal [Li89]. To this end, BGP is designed to never allow the creation of inter-AS forwarding loops, which it accomplishes by tagging all routing information with the AS path over which it has traversed. 1 Persistent routing loops.
Reference: [ZDESZ93] <author> L. Zhang, S. Deering, D. Estrin, S. Shenker, and D. Zappala, RSVP: </author> <title> A New Resource ReSerVation Protocol, </title> <journal> IEEE Network, </journal> <volume> 7(5), </volume> <pages> pp. 8-18, </pages> <month> September </month> <year> 1993. </year>
Reference-contexts: aspects of networking affected by routing stability: the degree to which the properties of network paths are predictable; the degree to which a connection can learn about network conditions from past observations; the degree to which real-time protocols must be prepared to recreate or migrate state stored in the routers <ref> [DB95, FBZ94, ZDESZ93, BCS94] </ref>; and the degree to which network studies based on repeated measurements of network paths ([CPB93, Bo93, SAGJ93, Mu94]) can assume that the measurements are indeed observing the same path. 7.2 Two definitions of stability There are two distinct views of routing stability.
References-found: 49

