URL: http://www.robotics.stanford.edu/~koller/papers/ghk1b.ps
Refering-URL: http://www.robotics.stanford.edu/~koller/papers/ghk1b.html
Root-URL: http://www.robotics.stanford.edu
Title: ASYMPTOTIC CONDITIONAL PROBABILITIES: THE UNARY CASE  
Author: ADAM J. GROVE JOSEPH Y. HALPERN AND DAPHNE KOLLER 
Keyword: Key Words. asymptotic probability, 0-1 law, finite model theory, degree of belief, labeled structures, principle of indifference, complexity.  
Note: AMS(MOS) subject classifications. 03B48, 60C05, 68Q25.  
Abstract: Motivated by problems that arise in computing degrees of belief, we consider the problem of computing asymptotic conditional probabilities for first-order sentences. Given first-order sentences ' and , we consider the structures with domain f1; : : : ; N g that satisfy , and compute the fraction of them in which ' is true. We then consider what happens to this fraction as N gets large. This extends the work on 0-1 laws that considers the limiting probability of first-order sentences, by considering asymptotic conditional probabilities. As shown by Liogon'ki[31] and Grove, Halpern, and Koller [22], in the general case, asymptotic conditional probabilities do not always exist, and most questions relating to this issue are highly undecidable. These results, however, all depend on the assumption that can use a nonunary predicate symbol. Liogon'ki [31] shows that if we condition on formulas involving unary predicate symbols only (but no equality or constant symbols), then the asymptotic conditional probability does exist and can be effectively computed. This is the case even if we place no corresponding restrictions on '. We extend this result here to the case where involves equality and constants. We show that the complexity of computing the limit depends on various factors, such as the depth of quantifier nesting, or whether the vocabulary is finite or infinite. We completely characterize the complexity of the problem in the different cases, and show related results for the associated approximation problem. 1. Introduction. Suppose we have a sentence expressing facts that are known 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> W. Ackermann, </author> <title> Solvable cases of the decision problem, </title> <publisher> North-Holland, </publisher> <address> Amsterdam, </address> <year> 1954. </year>
Reference-contexts: For instance, one corollary of our general result will be the well-known theorem that, if 2 L () is satisfiable at all, it is satisfiable in a "small" model, one of size at most exponential in the size of the . (See <ref> [1] </ref> for a proof of this result and further historical references.) We start with some definitions. Definition 3.1. <p> As the following result shows, this condition also suffices. Theorem 4.8. Fix a finite vocabulary that contains at least two unary predicates and rational numbers 0 r 1 r 2 1 such that [r 1 ; r 2 ] 6= <ref> [0; 1] </ref>. For '; 2 L (P), the problem of deciding whether Pr w 1 (' j ) 2 [r 1 ; r 2 ] is PSPACE-hard, even given an oracle that tells us whether the limit is well defined. Proof. <p> As in Theorem 4.8, we can also show that any nontrivial approximation of the asymptotic probability is hard, even if we restrict to sentences of depth 2. Theorem 4.16. Fix rational numbers 0 r 1 r 2 1 such that [r 1 ; r 2 ] 6= <ref> [0; 1] </ref>. For '; 2 L (Q) of depth at least 2, the problem of deciding whether Pr w 1 (' j ) 2 [r 1 ; r 2 ] is both NEXPTIME-hard and co-NEXPTIME-hard, even given an oracle for deciding whether the limit exists. Proof. <p> The completion of the proof for part (b) is essentially identical. It remains only to investigate the problem of approximating Pr w 1 (' j ) for this language. Theorem 4.20. Fix rational numbers 0 r 1 r 2 1 such that [r 1 ; r 2 ] 6= <ref> [0; 1] </ref>. For '; 2 L (), the problem of deciding whether Pr w 1 (' j ) 2 [r 1 ; r 2 ] is TA (EXP,LIN)-hard, even given an oracle for deciding whether the limit exists. Proof. <p> Theorem 4.24. Fix a finite unary vocabulary that contains at least one unary predicate and rational numbers 0 r 1 r 2 1 such that [r 1 ; r 2 ] 6= <ref> [0; 1] </ref>. For '; 2 L (), the problem of deciding whether Pr s; 1 (' j ) 2 [r 1 ; r 2 ] is PSPACE-hard, even given an oracle that tells us whether the limit is well defined. Proof. <p> Theorem 4.27. Fix rational numbers 0 r 1 r 2 1 such that [r 1 ; r 2 ] 6= <ref> [0; 1] </ref>. For and '; 2 L (P) of depth 2, the problem of deciding whether Pr s; 1 (' j ) 2 [r 1 ; r 2 ] is both NEXPTIME-hard and co-NEXPTIME-hard, even given an oracle for deciding whether the limit exists.
Reference: [2] <author> F. Bacchus, A. J. Grove, J. Y. Halpern, and D. Koller, </author> <title> From statistics to belief, </title> <booktitle> in Proc. National Conference on Artificial Intelligence (AAAI '92), </booktitle> <year> 1992, </year> <pages> pp. </pages> <month> 602-608. </month> <title> [3] , From statistical knowledge bases to degrees of belief, </title> <type> Tech. Report 9855, </type> <institution> IBM, </institution> <year> 1994. </year> <note> Available by anonymous ftp from logos.uwaterloo.ca/pub/bacchus or via WWW 53 at http://logos.uwaterloo.ca. A preliminary version of this work appeared in Proc. Thir--teenth International Joint Conference on Artificial Intelligence (IJCAI '93), </note> <year> 1993, </year> <pages> pages 563-569. </pages>
Reference-contexts: This is partly because we feel it is more descriptive, and partly because there are other variants of the approach, that are useful for our intended application, and that do not fit into the standard labeled/unlabeled structures dichotomy (see <ref> [2] </ref>). 2 domain size N . In many cases, we know only that N is large. We therefore estimate the probability of ' given by the asymptotic limit, as N grows to infinity, of this probability over models of size N . <p> These are clearly not the only methods that one can imagine for this purpose. However, as discussed in <ref> [2, 3] </ref>, both methods are often successful at giving answers that are intuitively plausible and which agree with well-known desiderata. We believe this success justifies a careful examination of complexity issues. Here we have focused on the case where the formula we are conditioning on is a unary first-order formula.
Reference: [4] <author> A. Blass, Y. Gurevich, and D. Kozen, </author> <title> A zero-one law for logic with a fixed point operator, </title> <journal> Information and Control, </journal> <volume> 67 (1985), </volume> <pages> pp. 70-90. </pages>
Reference-contexts: As before, we are interested in computing the complexity of the same three problems: deciding whether the asymptotic probability is well defined, computing it, and approximating it. As we mentioned earlier, the complexity is quite sensitive to a number of factors. One factor, already observed in the unconditional case <ref> [4, 20] </ref>, is whether there is a bound on the arity of the predicates in . Without such a bound, the problem is complete for the class #TA (EXP,LIN). <p> The class TA (EXP,LIN) also arises in the study of unconditional probabilities where there is no bound on the arity of the predicates. Grandjean [20] proved a TA (EXP,LIN) upper bound for computing whether the unconditional probability is 0 or 1 in this case, and (as mentioned in <ref> [4] </ref>) Immerman proved a matching lower bound. Of course, Grand-jean's result can be viewed as a corollary of Theorem 4.3. Immerman's result, which has not, to the best of our knowledge, appeared in print, is a corollary of Theorem 4.18 which we prove in this section.
Reference: [5] <author> A. K. Chandra, D. Kozen, and L. J. Stockmeyer, </author> <title> Alternation, </title> <journal> Journal of the ACM, </journal> <volume> 28 (1981), </volume> <pages> pp. 114-133. </pages>
Reference-contexts: The proof for case (5) is similar to that for case (4), and is omitted. We analyze the complexity of this algorithm in terms of alternating Turing machines (ATMs) <ref> [5] </ref>. Recall that in an ATM, the nonterminal states are classified into two kinds: universal and existential. Just as with a nondeterministic TM, a nonterminal state may have one or more successors. The terminal states are classified into two kinds: accepting and rejecting.
Reference: [6] <author> A. K. Chandra and P. M. Merlin, </author> <title> Optimal implementation of conjunctive queries in relational databases, </title> <booktitle> in Proc. 9th ACM Symp. on Theory of Computing, </booktitle> <year> 1977, </year> <pages> pp. 77-90. </pages>
Reference-contexts: The reduction is similar to that used to show that checking whether a first-order sentence is true in a given finite structure is PSPACE-hard <ref> [6] </ref>. Given a quantified Boolean formula fi, we define a first-order sentence ~ fi 2 L (fP g) as follows. The structure of ~ fi is identical to that of fi, except that any reference to a propositional variable x, except in the quantifier, is replaced by P (x).
Reference: [7] <author> P. C. Cheeseman, </author> <title> A method of computing generalized Bayesian probability values for expert systems, </title> <booktitle> in Proc. Eighth International Joint Conference on Artificial Intelligence (IJCAI '83), </booktitle> <year> 1983, </year> <pages> pp. 198-202. </pages>
Reference-contexts: For example, in physics applications we are interested in such predicates as quantum state (see [10]). Similarly, AI applications and expert systems typically use only unary predicates <ref> [7] </ref> such as symptoms and diseases. In general, many properties of interest can be expressed using unary predicates, since they express properties of individuals. <p> Furthermore, as shown in [3, 27, 33], for a unary language we can often calculate asymptotic probabilities in the random-worlds method, using a combination of the techniques in this paper and the principle of maximum entropy. Since a lot is already known about computing maximum entropy (for example, <ref> [7, 9, 19] </ref>), this combination may lead to efficient algorithms for some practical problems. Acknowledgemnts. We would like to thank Fahiem Bacchus, with whom we started working on this general area of research.
Reference: [8] <author> K. Compton, </author> <title> 0-1 laws in logic and combinatorics, </title> <booktitle> in Proc. 1987 NATO Adv. Study Inst. on algorithms and order, </booktitle> <editor> I. Rival, ed., </editor> <publisher> Reidel, </publisher> <address> Dordrecht, Netherlands, </address> <year> 1988, </year> <pages> pp. 353-383. </pages>
Reference-contexts: Similar questions also arise in the area of 0-1 laws. Our approach essentially generalizes the methods used in the work on 0-1 laws for first-order logic to the case of conditional probabilities. (See Compton's overview <ref> [8] </ref> for an introduction to this work.) Assume, without loss of generality, that the domain is f1; : : : ; N g for some natural number N . As we said above, we consider two notions of "situation". <p> However, we often do not know the precise 1 The random-worlds method considers what has been called in the literature labeled structures, while the random-structures method considers unlabeled structures <ref> [8] </ref>. We choose to use our own terminology for the random-worlds and random-structures methods, rather than the terminology of labeled and unlabeled. <p> Liogon'ki [31], and independently Fagin [13], showed that asymptotic conditional probabilities do not necessarily converge to any limit. Subsequently, 0-1 laws were proved for special classes of first-order structures (such as graphs, tournaments, partial orders, etc.; see the overview paper <ref> [8] </ref> for details and further references). In many cases, the classes considered could be defined in terms of first-order constraints. Thus, these results can be viewed as special cases of the problem that we are interested in: computing asymptotic conditional probabilities relative to structures satisfying the constraints of a database.
Reference: [9] <author> W. E. Deming and F. F. Stephan, </author> <title> On a least squares adjustment of a sampled frequency table when the expected marginal totals are known, </title> <journal> Annals Mathematical Statistics, </journal> <volume> 11 (1940), </volume> <pages> pp. 427-444. </pages>
Reference-contexts: Furthermore, as shown in [3, 27, 33], for a unary language we can often calculate asymptotic probabilities in the random-worlds method, using a combination of the techniques in this paper and the principle of maximum entropy. Since a lot is already known about computing maximum entropy (for example, <ref> [7, 9, 19] </ref>), this combination may lead to efficient algorithms for some practical problems. Acknowledgemnts. We would like to thank Fahiem Bacchus, with whom we started working on this general area of research.
Reference: [10] <author> K. G. Denbigh and J. S. Denbigh, </author> <title> Entropy in Relation to Incomplete Knowledge, </title> <publisher> Cambridge University Press, </publisher> <address> Cambridge, U.K., </address> <year> 1985. </year>
Reference-contexts: For example, in physics applications we are interested in such predicates as quantum state (see <ref> [10] </ref>). Similarly, AI applications and expert systems typically use only unary predicates [7] such as symptoms and diseases. In general, many properties of interest can be expressed using unary predicates, since they express properties of individuals.
Reference: [11] <author> B. Dreben and W. D. Goldfarb, </author> <title> The Decision Problem: Solvable Classes of Quantificational Formulas, </title> <publisher> Addison-Wesley, </publisher> <address> Reading, Mass., </address> <year> 1979. </year>
Reference-contexts: This gap between unary predicates and binary predicates is somewhat reminiscent of the fact that first-order logic over a vocabulary with only unary predicates (and constant symbols) is decidable, while if we allow even a single binary predicate symbol, then it becomes undecidable <ref> [11, 29] </ref>. 2 In an earlier version of this paper [21], we stated that, to our knowledge, no work had been done on the general problem of asymptotic conditional probabilities.
Reference: [12] <author> H. B. Enderton, </author> <title> A Mathematical Introduction to Logic, </title> <publisher> Academic Press, </publisher> <address> New York, </address> <year> 1972. </year>
Reference-contexts: Proof. We know that T has no finite models. By the Lowenheim-Skolem Theorem <ref> [12, page 141] </ref>, we can, without loss of generality, restrict attention to countably infinite models of T . Suppose X = fx 1 ; x 2 ; : : : ; x j g and that T 6j= D ) ~.
Reference: [13] <author> R. Fagin, </author> <title> Probabilities on finite models, </title> <journal> Journal of Symbolic Logic, </journal> <volume> 41 (1976), </volume> <pages> pp. </pages> <month> 50-58. </month> <title> [14] , The number of finite relational structures, </title> <journal> Discrete Mathematics, </journal> <volume> 19 (1977), </volume> <pages> pp. 17-21. </pages>
Reference-contexts: Precisely the same definitions of asymptotic probability are used in the context of 0-1 laws for first-order logic, but without allowing prior information . The original 0-1 law, proved independently by Glebski et al. [18] and Fagin <ref> [13] </ref>, states that the asymptotic probability of any first-order sentence ' with no constant or function symbols is either 0 or 1. This means that such a sentence is true in almost all finite structures, or in almost none. <p> That is, we want the probability of ' over the class of finite structures defined by . Some work has already been done on aspects of this question. Liogon'ki [31], and independently Fagin <ref> [13] </ref>, showed that asymptotic conditional probabilities do not necessarily converge to any limit. Subsequently, 0-1 laws were proved for special classes of first-order structures (such as graphs, tournaments, partial orders, etc.; see the overview paper [8] for details and further references). <p> The technique we use to prove this is a generalization of Fagin's proof of the 0-1 law for first-order logic without constant or function symbols <ref> [13] </ref>.
Reference: [15] <author> H. Gaifman, </author> <title> Probability models and the completeness theorem, </title> <booktitle> in International Congress of Logic Methodology and Philosophy of Science, </booktitle> <year> 1960, </year> <pages> pp. </pages> <month> 77-78. </month> <title> This is the abstract of which [16] is the full paper. [16] , Concerning measures in first order calculi, </title> <journal> Israel Journal of Mathematics, </journal> <volume> 2 (1964), </volume> <pages> pp. 1-18. </pages>
Reference-contexts: In this paper and in [22] we address the problem of computing conditional probabilities in the first-order case. In a related paper [23], we consider the case of a first-order logic augmented with statistical knowledge. The general problem of assigning probabilities to first-order sentences has been well studied (cf. <ref> [15, 16] </ref>). In this paper, we investigate two specific formalisms for computing probabilities, based on the same basic approach. Our approach is itself an instance of a much older idea, known as the the principle of insufficient reason [28] or the principle of indifference [26].
Reference: [17] <author> M. Garey and D. S. Johnson, </author> <title> Computers and Intractability: A Guide to the Theory of NP-completeness, </title> <publisher> W. Freeman and Co., </publisher> <address> San Francisco, Calif., </address> <year> 1979. </year>
Reference-contexts: The function we are interested in is Pr w 1 (' j ), which is not integer valued. Nevertheless, we want to show that it is in #EXP. In the spirit of similar definitions for #P (see, for example, [39, 34]) and NP (e.g., <ref> [17] </ref>) we extend the definition of #EXP to apply also to non-integer-valued functions. Definition 4.12.
Reference: [18] <author> Y. V. Glebski , D. I. Kogan, M. I. Liogon'ki , and V. A. Talanov, </author> <title> Range and degree of realizability of formulas in the restricted predicate calculus, </title> <journal> Kibernetika, </journal> <volume> 2 (1969), </volume> <pages> pp. 17-28. </pages>
Reference-contexts: Precisely the same definitions of asymptotic probability are used in the context of 0-1 laws for first-order logic, but without allowing prior information . The original 0-1 law, proved independently by Glebski et al. <ref> [18] </ref> and Fagin [13], states that the asymptotic probability of any first-order sentence ' with no constant or function symbols is either 0 or 1. This means that such a sentence is true in almost all finite structures, or in almost none. <p> Therefore, using the second proposition, either Pr w 1 (' j ^ V) = 1 or Pr w 8 As we noted in the introduction, the 0-1 law was first proved by Glebsk ii et al. <ref> [18] </ref>. However, it is Fagin's proof technique that we are using here. 18 latter case immediately implies that Pr w 1 (' j ^V) = 0. Thus, these two propositions suffice to prove the conditional 0-1 law.
Reference: [19] <author> S. A. Goldman, </author> <title> Efficient methods for calculating maximum entropy distributions, </title> <type> master's thesis, </type> <institution> MIT EECS Department, </institution> <year> 1987. </year>
Reference-contexts: Furthermore, as shown in [3, 27, 33], for a unary language we can often calculate asymptotic probabilities in the random-worlds method, using a combination of the techniques in this paper and the principle of maximum entropy. Since a lot is already known about computing maximum entropy (for example, <ref> [7, 9, 19] </ref>), this combination may lead to efficient algorithms for some practical problems. Acknowledgemnts. We would like to thank Fahiem Bacchus, with whom we started working on this general area of research.
Reference: [20] <author> E. Grandjean, </author> <title> Complexity of the first-order theory of almost all structures, </title> <journal> Information and Control, </journal> <volume> 52 (1983), </volume> <pages> pp. 180-204. </pages>
Reference-contexts: A preliminary version of this paper appeared in Proc. 24th ACM Symp. on Theory of Computing <ref> [20] </ref>. This research was sponsored in part by an IBM Graduate Fellowship to Adam Grove, by a University of California President's Postdoctoral Fellowship to Daphne Koller, and by the Air Force Office of Scientific Research (AFSC), under Contract F49620-91-C-0080. <p> A detailed analysis for this case can be found in [27]. 4.1. Computing the 0-1 probabilities. The method we give for computing Pr w 1 (' j ^V) is an extension of Grandjean's algorithm <ref> [20] </ref> for computing asymptotic probabilities in the unconditional case. For the purposes of this section, fix a model description ^ V over . In our proof of the conditional 0-1 law (Section 3.3), we defined a theory T corresponding to ^ V. <p> As before, we are interested in computing the complexity of the same three problems: deciding whether the asymptotic probability is well defined, computing it, and approximating it. As we mentioned earlier, the complexity is quite sensitive to a number of factors. One factor, already observed in the unconditional case <ref> [4, 20] </ref>, is whether there is a bound on the arity of the predicates in . Without such a bound, the problem is complete for the class #TA (EXP,LIN). <p> The class TA (EXP,LIN) also arises in the study of unconditional probabilities where there is no bound on the arity of the predicates. Grandjean <ref> [20] </ref> proved a TA (EXP,LIN) upper bound for computing whether the unconditional probability is 0 or 1 in this case, and (as mentioned in [4]) Immerman proved a matching lower bound. Of course, Grand-jean's result can be viewed as a corollary of Theorem 4.3. <p> We remark that Acc, Step, etc. are not new predicate symbols in the language. Rather, they are complex formulas described in terms of the basic predicates R . We omit details of their construction here; these can be found in <ref> [20] </ref>. It remains only to describe the formula that encodes the initial configuration of M on input w.
Reference: [21] <author> A. J. Grove, J. Y. Halpern, and D. Koller, </author> <title> Asymptotic conditional probabilities for first-order logic, </title> <booktitle> in Proc. 24th ACM Symp. on Theory of Computing, </booktitle> <year> 1992, </year> <pages> pp. </pages> <month> 294-305. </month> <title> [22] , Asymptotic conditional probabilities: the non-unary case, </title> <type> Research Report RJ 9564, </type> <institution> IBM, </institution> <year> 1993. </year> <title> To appear in Journal of Symbolic Logic. [23] , Random worlds and maximum entropy, </title> <journal> Journal of A.I. Research, </journal> <volume> 2 (1994), </volume> <pages> pp. 33-88. </pages>
Reference-contexts: unary predicates and binary predicates is somewhat reminiscent of the fact that first-order logic over a vocabulary with only unary predicates (and constant symbols) is decidable, while if we allow even a single binary predicate symbol, then it becomes undecidable [11, 29]. 2 In an earlier version of this paper <ref> [21] </ref>, we stated that, to our knowledge, no work had been done on the general problem of asymptotic conditional probabilities.
Reference: [24] <author> I. Hacking, </author> <title> The Emergence of Probability, </title> <publisher> Cambridge University Press, </publisher> <address> Cambridge, UK, </address> <year> 1975. </year>
Reference-contexts: This states that all possibilities should be given equal probability, and was once regarded as one of the most basic principles of probability theory. (See <ref> [24] </ref> for a discussion of the history of the principle.) We use this idea to assign equal degrees of belief to all basic "situations" consistent with the known facts. The two formalisms we consider differ only in how they interpret "situation". We discuss this in more detail below.
Reference: [25] <author> E. T. Jaynes, </author> <title> Where do we stand on maximum entropy?, in The Maximum Entropy Formalism, </title> <editor> R. D. Levine and M. Tribus, eds., </editor> <publisher> MIT Press, </publisher> <address> Cambridge, Mass., </address> <year> 1978, </year> <pages> pp. 15-118. </pages>
Reference-contexts: Our results are of more than purely technical interest. The random-worlds method is of considerable theoretical and practical importance. We have already mentioned its relevance to computing degrees of belief. There are well-known results from physics that show the close connection between the random-worlds method and maximum entropy <ref> [25] </ref>. These results say that in certain cases the asymptotic probability can be computed using maximum entropy methods.
Reference: [26] <author> J. M. </author> <title> Keynes, A Treatise on Probability, </title> <publisher> Macmillan, </publisher> <address> London, </address> <year> 1921. </year>
Reference-contexts: In this paper, we investigate two specific formalisms for computing probabilities, based on the same basic approach. Our approach is itself an instance of a much older idea, known as the the principle of insufficient reason [28] or the principle of indifference <ref> [26] </ref>.
Reference: [27] <author> D. Koller, </author> <title> From Knowledge to Belief, </title> <type> PhD thesis, </type> <institution> Stanford University, Dept. of Computer Science, </institution> <year> 1994. </year>
Reference-contexts: We do not have tight bounds for the complexity of computing the degree of belief in this case; we have a #P lower bound and a PSPACE upper bound. The results for depth 1 are not proved in this paper; see <ref> [27] </ref> for details. We observe that apart from our precise classification of the complexity of these problems, our analysis provides an effective algorithm for computing the asymptotic conditional probability. <p> All these results for the case of an unbounded vocabulary use formulas with quantifier depth 2. As suggested in the introduction, the complexity of the problem drops in the case of formulas of depth 1. A detailed analysis for this case can be found in <ref> [27] </ref>. 4.1. Computing the 0-1 probabilities. The method we give for computing Pr w 1 (' j ^V) is an extension of Grandjean's algorithm [20] for computing asymptotic probabilities in the unconditional case. For the purposes of this section, fix a model description ^ V over . <p> For the problem of computing probabilities for formulas with quantification depth 1, we know that the problem is in PSPACE, and is (at least) #P-hard. Finally, the problem of approximating probabilities is hard for both NP and co-NP. A detailed analysis of these results can be found in <ref> [27] </ref>; some related work for a propositional language has been done by Roth [35]. 4.5. Infinite vocabulary|the general case. In Section 4.4 we investigated the complexity of asymptotic conditional probabilities when the (infinite) vocabulary satisfies certain restrictions. <p> As we mentioned in the introduction, in many applications we want to move beyond first-order and also allow for statistical knowledge. Both methods continue to make sense in this case. Furthermore, as shown in <ref> [3, 27, 33] </ref>, for a unary language we can often calculate asymptotic probabilities in the random-worlds method, using a combination of the techniques in this paper and the principle of maximum entropy.
Reference: [28] <author> J. v. Kries, </author> <title> Die Principien der Wahrscheinlichkeitsrechnung und Rational Expectation, </title> <type> Freiburg, 1886. </type>
Reference-contexts: In this paper, we investigate two specific formalisms for computing probabilities, based on the same basic approach. Our approach is itself an instance of a much older idea, known as the the principle of insufficient reason <ref> [28] </ref> or the principle of indifference [26].
Reference: [29] <author> H. R. Lewis, </author> <title> Unsolvable Classes of Quantificational Formulas, </title> <publisher> Addison-Wesley, </publisher> <address> New York, </address> <year> 1979. </year> <title> [30] , Complexity results for classes of quantificational formulas, </title> <journal> Journal of Computer and System Sciences, </journal> <volume> 21 (1980), </volume> <pages> pp. 317-353. </pages>
Reference-contexts: This gap between unary predicates and binary predicates is somewhat reminiscent of the fact that first-order logic over a vocabulary with only unary predicates (and constant symbols) is decidable, while if we allow even a single binary predicate symbol, then it becomes undecidable <ref> [11, 29] </ref>. 2 In an earlier version of this paper [21], we stated that, to our knowledge, no work had been done on the general problem of asymptotic conditional probabilities.
Reference: [31] <author> M. I. </author> <title> Liogon'ki , On the conditional satisfiability ratio of logical formulas, </title> <booktitle> Mathematical Notes of the Academy of the USSR, 6 (1969), </booktitle> <pages> pp. 856-861. </pages>
Reference-contexts: That is, we want the probability of ' over the class of finite structures defined by . Some work has already been done on aspects of this question. Liogon'ki <ref> [31] </ref>, and independently Fagin [13], showed that asymptotic conditional probabilities do not necessarily converge to any limit. Subsequently, 0-1 laws were proved for special classes of first-order structures (such as graphs, tournaments, partial orders, etc.; see the overview paper [8] for details and further references). <p> The most comprehensive work on this problem is the work of Liogon'ki <ref> [31] </ref>. 2 In addition to pointing out that asymptotic conditional probabilities do not exist in general, he shows that it is undecidable whether such a probability exists. (We generalize Liogon'ki's results for this case in [22].) He then investigates the special case of conditioning on formulas involving unary predicates only (but <p> We thank Moshe Vardi for pointing out to us the work of Liogon'ki <ref> [31] </ref>. 3 Table 1 Complexity of asymptotic conditional probabilities depth 1 restricted general case existence NP-complete NEXPTIME-complete NEXPTIME-complete compute #P/PSPACE #EXP-complete #TA (EXP,LIN)-complete approximate (co-)NP-hard (co-)NEXPTIME-hard TA (EXP,LIN)-hard This similarity is not coincidental; some of the techniques used to show that first-order logic over a vocabulary with unary predicate symbols is <p> In this paper, we extend the results of Liogon'ki <ref> [31] </ref> for the unary case. We first prove (in Section 3) that, if we condition on a formula involving only unary predicates, constants, and equality that is satisfiable in arbitrarily large models, the asymptotic conditional probability exists. We also present an algorithm for computing this limit. <p> In the previous section, we defined the concept of atomic description, and showed that a sentence 2 L () is equivalent to some disjunction of atomic descriptions. This suggests that atomic descriptions might be used to classify models of . Liogon'ki <ref> [31] </ref> has shown that this is indeed a successful approach, as long as we consider languages without constants and condition only on sentences that do not use equality. In Theorem 3.9 we showed that, for such languages, each sentence is equivalent to the disjunction of simplified atomic descriptions. <p> The following theorem, due to Lio-gon'ki, says that classifying models according to which simplified atomic description they satisfy leads to the desired uniformity property. This result will be a corollary of a more general theorem that we prove later. Proposition 3.10. <ref> [31] </ref> Suppose that C = ;. If ' 2 L () and is a consistent simplified atomic description over P, then Pr w 1 (' j ) is either 0 or 1. <p> The results of Liogon'ki are a simple corollary of the above theorem. For an activity count a, let A ;a denote the set of atomic descriptions 2 A such that ff ( ) = a. Theorem 3.35. <ref> [31] </ref> Assume that C = ;, ' 2 L (), 2 L (P), and ff P () = a &gt; 0. Then Pr w 1 (' j ) = 2A P;a Pr w P;a Proof. <p> We would also like to thank Ron Fagin and Moshe Vardi for useful comments on a previous draft of this paper. Ron's comments encouraged us to discuss both the random-structures and the random-worlds methods in this paper. We would also like to thank Moshe for pointing out the reference <ref> [31] </ref>. Finally, we would like to thank Andrew Granville for help with some of the details of Theorem 4.8.
Reference: [32] <author> J. Lynch, </author> <title> Probabilities of first-order sentences about unary functions, </title> <journal> Trans. American Mathematical Society, </journal> <volume> 287 (1985), </volume> <pages> pp. 543-568. </pages>
Reference-contexts: In many cases, the classes considered could be defined in terms of first-order constraints. Thus, these results can be viewed as special cases of the problem that we are interested in: computing asymptotic conditional probabilities relative to structures satisfying the constraints of a database. Lynch <ref> [32] </ref> showed that, for the random-worlds method, asymptotic probabilities exist for first-order sentences involving unary functions, although there is no 0-1 law. (Recall that the original 0-1 result is specifically for first-order logic without function symbols.) This can also be viewed as a special case of an asymptotic conditional probability for
Reference: [33] <author> J. B. Paris and A. Vencovska, </author> <title> On the applicability of maximum entropy to inexact reasoning, </title> <journal> International Journal of Approximate Reasoning, </journal> <volume> 3 (1989), </volume> <pages> pp. 1-34. </pages>
Reference-contexts: These results say that in certain cases the asymptotic probability can be computed using maximum entropy methods. Some formalization of similar results, but in a framework that is close to that of the current paper, can be found in <ref> [33, 23] </ref>. (These results are of far more interest when there are statistical assertions in the language, so we do not discuss them here.) As we observe in [22, 23], this connection relies on the fact that we are conditioning on a unary formula. <p> As we mentioned in the introduction, in many applications we want to move beyond first-order and also allow for statistical knowledge. Both methods continue to make sense in this case. Furthermore, as shown in <ref> [3, 27, 33] </ref>, for a unary language we can often calculate asymptotic probabilities in the random-worlds method, using a combination of the techniques in this paper and the principle of maximum entropy.
Reference: [34] <author> S. J. Provan and M. O. Ball, </author> <title> The complexity of counting cuts and of computing the proba 54 bility that a graph is connected, </title> <journal> SIAM Journal on Computing, </journal> <volume> 12 (1983), </volume> <pages> pp. 777-788. </pages>
Reference-contexts: The class #EXP is the exponential time analogue. The function we are interested in is Pr w 1 (' j ), which is not integer valued. Nevertheless, we want to show that it is in #EXP. In the spirit of similar definitions for #P (see, for example, <ref> [39, 34] </ref>) and NP (e.g., [17]) we extend the definition of #EXP to apply also to non-integer-valued functions. Definition 4.12.
Reference: [35] <author> D. Roth, </author> <title> On the hardness of approximate reasoning, </title> <booktitle> in Proc. Thirteenth International Joint Conference on Artificial Intelligence (IJCAI '93), </booktitle> <year> 1993, </year> <pages> pp. 613-618. </pages>
Reference-contexts: Finally, the problem of approximating probabilities is hard for both NP and co-NP. A detailed analysis of these results can be found in [27]; some related work for a propositional language has been done by Roth <ref> [35] </ref>. 4.5. Infinite vocabulary|the general case. In Section 4.4 we investigated the complexity of asymptotic conditional probabilities when the (infinite) vocabulary satisfies certain restrictions. As we now show, the results there were tight in the sense that the restrictions cannot be weakened.
Reference: [36] <author> G. Shafer, </author> <type> Personal communication, </type> <year> 1993. </year>
Reference-contexts: Indeed, a good case can be made that statisticians tend to reformulate all problems in terms of unary predicates, since an event in a sample space can be identified with a unary predicate <ref> [36] </ref>. Indeed, in most cases where statistics are used, we have a basic unit in mind (an individual, a family, a household, etc.), and the properties (predicates) we consider are typically relative to a single unit (i.e., unary predicates).
Reference: [37] <author> L. J. Stockmeyer, </author> <title> The polynomial-time hierarchy, </title> <booktitle> Theoretical Computer Science, 3 (1977), </booktitle> <pages> pp. 1-22. </pages>
Reference-contexts: Therefore, the entire procedure can be done in polynomial space. For the lower bound, we use a reduction from the problem of checking the truth of quantified Boolean formulas (QBF), a problem well known to be PSPACE-complete <ref> [37] </ref>. The reduction is similar to that used to show that checking whether a first-order sentence is true in a given finite structure is PSPACE-hard [6]. Given a quantified Boolean formula fi, we define a first-order sentence ~ fi 2 L (fP g) as follows.
Reference: [38] <author> L. G. Valiant, </author> <title> The complexity of computing the permanent, </title> <booktitle> Theoretical Computer Science, 8 (1979), </booktitle> <pages> pp. </pages> <month> 189-201. </month> <title> [39] , The complexity of enumeration and reliability problems, </title> <journal> SIAM Journal on Computing, </journal> <volume> 8 (1979), </volume> <pages> pp. 410-421. </pages>
Reference-contexts: The result now follows &gt;from Theorem 4.10. We next consider the problem of computing the asymptotic probability Pr w 1 (' j ), given that it is well defined. We show that this problem is #EXP-complete. Recall that #P (see <ref> [38] </ref>) is the class of integer functions computable as the number of accepting computations of a nondeterministic polynomial-time Turing machine.
Reference: [40] <author> R. L. Vaught, </author> <title> Applications of the Lowenheim-Skolem-Tarski theorem to problems of completeness and decidability, </title> <journal> Indagationes Mathematicae, </journal> <volume> 16 (1954), </volume> <pages> pp. 467-472. 55 </pages>
Reference-contexts: We now prove the two propositions that imply the 0-1 law. Proposition 3.25. The theory T is complete. Proof. The proof is based on a result of Los and Vaught <ref> [40] </ref> which says that any first-order theory with no finite models, such that all of its countable models are isomorphic, is complete. The theory T obviously has no finite models. The fact that all of its countable models are isomorphic follows by a standard "back and forth" argument.
References-found: 33

