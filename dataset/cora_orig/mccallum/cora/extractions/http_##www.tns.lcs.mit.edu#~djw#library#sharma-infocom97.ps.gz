URL: http://www.tns.lcs.mit.edu/~djw/library/sharma-infocom97.ps.gz
Refering-URL: http://www.tns.lcs.mit.edu/~djw/library/
Root-URL: 
Email: puneet@catarina.usc.edu, estrin@usc.edu  floyd@ee.lbl.gov, van@ee.lbl.gov  
Title: Scalable Timers for Soft State Protocols  
Author: Puneet Sharma Deborah Estrin Sally Floyd Van Jacobson 
Address: California  
Affiliation: Information Sciences Institute University of Southern  Lawrence Berkeley National Laboratory  
Abstract: Soft state protocols use periodic refresh messages to keep network state alive while adapting to changing network conditions; this has raised concerns regarding the scalability of protocols that use the soft-state approach. In existing soft state protocols, the values of the timers that control the sending of these messages, and the timers for aging out state, are chosen by matching empirical observations with desired recovery and response times. These fixed timer-values fail because they use time as a metric for bandwidth; they adapt neither to (1) the wide range of link speeds that exist in most wide-area internets, nor to (2) fluctuations in the amount of network state over time. We propose and evaluate a new approach in which timer-values adapt dynamically to the volume of control traffic and available bandwidth on the link. The essential mechanisms required to realize this scalable timers approach are: (1) dynamic adjustment of the senders' refresh rate so that the bandwidth allocated for control traffic is not exceeded, and (2) estimation of the senders' refresh rate at the receiver in order to determine when the state can be timed-out and deleted. The refresh messages are sent in a round robin manner not exceeding the bandwidth allocated to control traffic, and taking into account message priorities. We evaluate two receiver estimation methods for dynamically adjusting network state timeout values: (1) counting of the rounds and (2) exponential weighted moving average. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> David D. Clark. </author> <title> The Design Philosophy of the DARPA Internet Protocols. </title> <booktitle> In SIGCOMM Symposium on Communications Architectures and Protocols, </booktitle> <pages> pages 106114. </pages> <publisher> ACM, </publisher> <month> August </month> <year> 1988. </year>
Reference-contexts: Soft state protocols maintain state in intermediate nodes using refreshes that are periodically initiated by endpoints. When the endpoints stop initiating refreshes the state automatically times out. Similarly, if the intermediate state disappears, it is re-established by the end-point initiated refreshes <ref> [1] </ref>. In this paper we propose a new approach of scalable timers to improve the scaling properties of soft state mecha fl P. Sharma and D. Estrin were supported by the National Science Foundation under Cooperative Agreement NCR-9321043. y S. Floyd and V.
Reference: [2] <author> S. Deering, D. Estrin, D. Farinacci, V. Jacobson, C. Liu, L. Wei, P. Sharma, and A. Helmy. </author> <title> Protocol Independent Multicast (PIM) : Motivation and Architecture. </title> <type> Internet Draft, </type> <month> March </month> <year> 1996. </year>
Reference-contexts: Mechanisms required for the proposed approach of regulating control traffic are discussed in Section 4 and Section 5. We look at the application of the scalable timers approach to PIM <ref> [2, 3] </ref> in Section 6, followed by the simulation results in Section 7. Section 8 compares the traditional and the proposed approaches. <p> For instance, a teleconference application might run on top of multiple protocols. Internet Group Management Protocol (IGMP) [4] in a host stores information about the multicast groups in which that host is participating. Based on the membership information multicast routing protocols such as DVMRP [5], PIM <ref> [2, 3] </ref> or CBT [6] create multicast forwarding state in the routers. A reservation protocol such as RSVP [7] or ST-II [8] may reserve network resources for the teleconferencing session along the multicast tree. The state has to be modified to reflect the changes in network conditions. <p> This reliable message transport entails increased protocol complexity. Soft state, on the other hand, uses refresh messages to keep it alive and is discarded if the state is not refreshed for some time interval. Resource Reservation Protocol (RSVP) [7] and Protocol Independent Multicast (PIM) <ref> [2, 3] </ref> use periodic refreshes to maintain soft state in network nodes. The refreshes are sent periodically after one refresh period. The time that the receiver waits before discarding a state entry is a small multiple of the refresh period 1 . <p> In this and the previous sections we have discussed our approach of scalable timers and the required mechanisms. In the coming sections we present our simulation studies of scalable timers for PIM control traffic. 6 Using Scalable Timers for PIM Control Traffic Protocol Independent Multicast (PIM) <ref> [2, 3] </ref> is a multi-cast routing protocol. It uses soft state mechanisms to adapt to the underlying network conditions and multicast group dynamics. Explicit hop-by-hop join messages from members are sent towards the data source or Rendezvous Point.
Reference: [3] <author> S. Deering, D. Estrin, D. Farinacci, V. Jacobson, C. Liu, L. Wei, P. Sharma, and A. Helmy. </author> <title> Protocol Independent Multicast (PIM), Sparse Mode Protocol : Specification. </title> <type> Internet Draft, </type> <month> March </month> <year> 1996. </year>
Reference-contexts: Mechanisms required for the proposed approach of regulating control traffic are discussed in Section 4 and Section 5. We look at the application of the scalable timers approach to PIM <ref> [2, 3] </ref> in Section 6, followed by the simulation results in Section 7. Section 8 compares the traditional and the proposed approaches. <p> For instance, a teleconference application might run on top of multiple protocols. Internet Group Management Protocol (IGMP) [4] in a host stores information about the multicast groups in which that host is participating. Based on the membership information multicast routing protocols such as DVMRP [5], PIM <ref> [2, 3] </ref> or CBT [6] create multicast forwarding state in the routers. A reservation protocol such as RSVP [7] or ST-II [8] may reserve network resources for the teleconferencing session along the multicast tree. The state has to be modified to reflect the changes in network conditions. <p> This reliable message transport entails increased protocol complexity. Soft state, on the other hand, uses refresh messages to keep it alive and is discarded if the state is not refreshed for some time interval. Resource Reservation Protocol (RSVP) [7] and Protocol Independent Multicast (PIM) <ref> [2, 3] </ref> use periodic refreshes to maintain soft state in network nodes. The refreshes are sent periodically after one refresh period. The time that the receiver waits before discarding a state entry is a small multiple of the refresh period 1 . <p> In this and the previous sections we have discussed our approach of scalable timers and the required mechanisms. In the coming sections we present our simulation studies of scalable timers for PIM control traffic. 6 Using Scalable Timers for PIM Control Traffic Protocol Independent Multicast (PIM) <ref> [2, 3] </ref> is a multi-cast routing protocol. It uses soft state mechanisms to adapt to the underlying network conditions and multicast group dynamics. Explicit hop-by-hop join messages from members are sent towards the data source or Rendezvous Point.
Reference: [4] <author> William C. Fenner. </author> <title> Internet Group Management Protocol, </title> <type> Version 2. Internet Draft, </type> <month> May </month> <year> 1996. </year>
Reference-contexts: The state of the network is stored in a distributed manner across various nodes and various protocols. For instance, a teleconference application might run on top of multiple protocols. Internet Group Management Protocol (IGMP) <ref> [4] </ref> in a host stores information about the multicast groups in which that host is participating. Based on the membership information multicast routing protocols such as DVMRP [5], PIM [2, 3] or CBT [6] create multicast forwarding state in the routers.
Reference: [5] <author> D. Waitzman S. Deering, C. Partridge. </author> <title> Distance Vector Mul-ticast Routing Protocol, </title> <month> nov </month> <year> 1988. </year> <month> RFC1075. </month>
Reference-contexts: For instance, a teleconference application might run on top of multiple protocols. Internet Group Management Protocol (IGMP) [4] in a host stores information about the multicast groups in which that host is participating. Based on the membership information multicast routing protocols such as DVMRP <ref> [5] </ref>, PIM [2, 3] or CBT [6] create multicast forwarding state in the routers. A reservation protocol such as RSVP [7] or ST-II [8] may reserve network resources for the teleconferencing session along the multicast tree. The state has to be modified to reflect the changes in network conditions.
Reference: [6] <author> Tony Ballardie, Paul Francis, and Jon Crowcroft. </author> <title> Core based trees (CBT). </title> <booktitle> In SIGCOMM Symposium on Communications Architectures and Protocols, </booktitle> <pages> pages 8595, </pages> <address> San Francisco, California, </address> <month> September </month> <year> 1993. </year> <note> ACM. </note>
Reference-contexts: Internet Group Management Protocol (IGMP) [4] in a host stores information about the multicast groups in which that host is participating. Based on the membership information multicast routing protocols such as DVMRP [5], PIM [2, 3] or CBT <ref> [6] </ref> create multicast forwarding state in the routers. A reservation protocol such as RSVP [7] or ST-II [8] may reserve network resources for the teleconferencing session along the multicast tree. The state has to be modified to reflect the changes in network conditions.
Reference: [7] <author> Lixia Zhang, Bob Braden, Deborah Estrin, Shai Herzog, and Sugih Jamin. </author> <title> Resource Reservation Protocol (RSVP) Version 1 Functional Specification. Internet Draft, </title> <note> Xerox PARC, </note> <month> October </month> <year> 1993. </year> <title> Work in progress. </title>
Reference-contexts: Based on the membership information multicast routing protocols such as DVMRP [5], PIM [2, 3] or CBT [6] create multicast forwarding state in the routers. A reservation protocol such as RSVP <ref> [7] </ref> or ST-II [8] may reserve network resources for the teleconferencing session along the multicast tree. The state has to be modified to reflect the changes in network conditions. The network nodes communicate with each other to exchange the information regarding change in the network conditions. <p> Hard state architectures use explicitly acknowledged, reliable messages. This reliable message transport entails increased protocol complexity. Soft state, on the other hand, uses refresh messages to keep it alive and is discarded if the state is not refreshed for some time interval. Resource Reservation Protocol (RSVP) <ref> [7] </ref> and Protocol Independent Multicast (PIM) [2, 3] use periodic refreshes to maintain soft state in network nodes. The refreshes are sent periodically after one refresh period. The time that the receiver waits before discarding a state entry is a small multiple of the refresh period 1 .
Reference: [8] <author> C. Topolcic. </author> <title> Experimental Internet Stream Protocol: Version 2 (ST-II). Request for Comments RFC1190, </title> <institution> Internet Engineering Task Force, </institution> <month> October </month> <year> 1990. </year>
Reference-contexts: Based on the membership information multicast routing protocols such as DVMRP [5], PIM [2, 3] or CBT [6] create multicast forwarding state in the routers. A reservation protocol such as RSVP [7] or ST-II <ref> [8] </ref> may reserve network resources for the teleconferencing session along the multicast tree. The state has to be modified to reflect the changes in network conditions. The network nodes communicate with each other to exchange the information regarding change in the network conditions. <p> Hard state is that which is installed in nodes upon receiving a set-up message and is removed only on receiving an explicit tear-down message. The reservation protocol ST-II <ref> [8, 9] </ref> and multicast routing protocol Core Based Tree (CBT)[6] are examples of protocols that use the hard state paradigm. Hard state architectures use explicitly acknowledged, reliable messages. This reliable message transport entails increased protocol complexity.
Reference: [9] <author> Danny J. Mitzel, Deborah Estrin, Scott Shenker, and Lixia Zhang. </author> <title> An Architectural Comparison of ST-II and RSVP. </title> <booktitle> In Proceedings of the Conference on Computer Communications (IEEE Infocom), </booktitle> <address> Toronto, Canada, </address> <month> June </month> <year> 1994. </year>
Reference-contexts: Hard state is that which is installed in nodes upon receiving a set-up message and is removed only on receiving an explicit tear-down message. The reservation protocol ST-II <ref> [8, 9] </ref> and multicast routing protocol Core Based Tree (CBT)[6] are examples of protocols that use the hard state paradigm. Hard state architectures use explicitly acknowledged, reliable messages. This reliable message transport entails increased protocol complexity.
Reference: [10] <author> Henning Schulzrinne, Stephen Casner, Ron Frederick, and Van Jacobson. RTP: </author> <title> A Transport Protocol for Real-Time Applications. Internet draft (work-in-progress), </title> <month> November </month> <year> 1995. </year>
Reference-contexts: The control traffic is regulated by dynamically adjusting timer values to the amount of state, using mechanisms similar to those for regulating control traffic in RTP <ref> [10] </ref>. The design objective is to make the bandwidth used by control traffic negligible as compared to the link bandwidth and the data traffic. Consequently, a fixed portion of the link bandwidth is allocated to the control traffic. <p> We have studied scalable timers in the context of a mul-ticast routing protocol (i.e. PIM), which is an example of a router-to-router protocol. Multiparty, end-to-end protocols were actually the first protocols to incorporate the notion of scalable timer techniques for reduction of periodic traffic (e.g., wb, RTP <ref> [10] </ref>). Future work will investigate the applicability of the detailed mechanisms discussed in this paper to such end-to-end protocols and soft-state protocols in general.
Reference: [11] <author> Sally Floyd and Van Jacobson. </author> <title> Link-sharing and resource management models for packet networks. </title> <journal> IEEE/ACM Transactions on Networking, </journal> <volume> 3(4):365386, </volume> <month> August </month> <year> 1995. </year>
Reference-contexts: The class structure of the control messages in different protocols can be set differently based on the requirements of that protocol. This use of isolation to protect the lower classes from starvation is similar to the link sharing approach in Class based Queueing (CBQ) <ref> [11] </ref>. One possible class structure divides the control messages into two classes, trigger messages and refresh messages. The trigger traffic class is guaranteed a very large fraction (close to 1) of the control bandwidth so that trigger messages can be serviced very quickly for better response time.
Reference: [12] <author> P. Sharma, D. Estrin, S. Floyd, and V. Jacob-son. </author> <title> Scalable Timers for Soft State Protocols. </title> <institution> ftp://catarina.usc.edu/pub/puneetsh/papers/CS-TR-96-640.ps, University of Southern California, </institution> <type> Technical Report TR96-640, </type> <month> June </month> <year> 1996. </year>
Reference-contexts: With the counting-the-rounds approach, the receiver is essentially assuming that the sender is using round robin for sending refresh messages. Refinements to the basic algorithm to address the problems associated with faulty senders, interoperability, and end cases are described in <ref> [12] </ref>. In the next section we discuss Exponential Weighted Moving Average for estimating the refresh period at the receiver. 5.2 Exponential Weighted Moving Average The second approach that we consider is use of Exponential Weighted Moving Average (EWMA) estimators. <p> Hence the scaling with respect to the source specific state is not of major concern. We analyzed the number of multicast groups that can be supported on various links without inflating the refresh intervals by a large amounts <ref> [12] </ref>. For instance, 1% bandwidth of an ISDN link can support 150 groups with the refresh period of 60 seconds. Similarly, a T1 link can support 15000 groups with 1% of link bandwidth. <p> However, no state is timed out in this period as the receiver switches to the No Timeout mode. We also simulated scenarios with faulty senders and lossy links. The counting-the-rounds receiver is able to filter out the duplicates of the refresh messages <ref> [12] </ref>. Neither of the receivers prematurely timeout state on lossy links [12]. In the simulation studies we observed that the counting-the-rounds receiver is able to respond to the events at the sender and track the round times more precisely than a receiver running an EWMA estimator. <p> We also simulated scenarios with faulty senders and lossy links. The counting-the-rounds receiver is able to filter out the duplicates of the refresh messages <ref> [12] </ref>. Neither of the receivers prematurely timeout state on lossy links [12]. In the simulation studies we observed that the counting-the-rounds receiver is able to respond to the events at the sender and track the round times more precisely than a receiver running an EWMA estimator. However, the counting-the-rounds receiver fails to follow a non-round robin sender successfully.
Reference: [13] <author> J. Postel. </author> <title> Transmission Control Protocol. Request for Comments (Standard) STD 7, </title> <type> RFC 793, </type> <institution> Internet Engineering Task Force, </institution> <month> September </month> <year> 1981. </year>
Reference-contexts: The EWMA estimator is a low pass filter that has been used widely for estimation (e.g. TCP <ref> [13] </ref> round trip time). In this scheme a network node runs one EWMA estimator for each coincident link. Each EWMA estimator tracks the refresh interval average (interval avg ) and mean deviation (interval mdev ) for the refreshes received on the associated link.
Reference: [14] <author> Van Jacobson. </author> <title> Congestion Avoidance and Control. </title> <journal> ACM Computer Communication Review, </journal> <volume> 18(4):314329, </volume> <month> August </month> <year> 1988. </year> <booktitle> Proceedings of the Sigcomm '88 Symposium in Stan-ford, </booktitle> <address> CA, </address> <month> August, </month> <year> 1988. </year>
Reference-contexts: On receiving a new measurement for refresh interval I , the receiver updates the average of the refresh interval as: interval avg (1 w) fl interval avg + w fl I; where w is the smoothing constant of the estimator. As shown in <ref> [14] </ref>, EWMA can be computed faster if it is rearranged as: interval avg interval avg + w fl (err); where err = I interval avg : Mean deviation is computed similarly as: interval mdev interval mdev +wfl (jerrjinterval mdev ): Once the average and mean deviation for the refresh interval are
Reference: [15] <author> Liming Wei. </author> <title> The Design of the USC PIM Simulator (pim-sim). </title> <type> Technical report, </type> <institution> TR95-604, University of Southern California, </institution> <month> June </month> <year> 1995. </year>
Reference-contexts: As described in Section 4, two approaches can be adopted at the receiver node to discard soft state. The next section discusses the simulation studies conducted with the scalable timers for PIM. 7 Simulation Studies of Scalable Timers for PIM An existing PIM simulator, pimsim <ref> [15] </ref> was modified to include the scalable timers approach for PIM control traffic. A sender module was included to schedule the PIM control messages based on the class structure described earlier. For a PIM receiver we implemented both the counting-the-rounds approach and exponential moving average estimator.
References-found: 15

