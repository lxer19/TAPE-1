URL: http://www.cs.umd.edu/users/debanjan/psfiles/ic3n97-tr.ps
Refering-URL: http://www.cs.umd.edu/users/debanjan/pages/onepage.html
Root-URL: 
Title: Design and Implementation of a QoS Capable Switch-Router  
Keyword: Switch, Router, Networks, QoS, RSVP.  
Abstract: Rapid expansion has strained the capabilities of the Internet infrastructure. Emerging audio and video applications place further demands on already overloaded network elements, especially the routers. An important challenge for the future growth of the Internet is to design routers that can forward the exponentially increasing volume of traffic, and at the same time provide the service differentiation needed by new applications. In this paper, we describe the architecture, implementation, and initial experiences with a system designed to meet this challenge. This system, which we call a QoS capable Switch-Router (QSR), combines the salient features of switching and routing technologies to provide high throughput and support the different classes of service being defined by the IETF. It consists of a core (ATM) switch fabric connecting intelligent adapters, each capable of both routing and switching packets. A control engine is responsible for routing, RSVP signalling, and resource management. We have built a prototype network of 3 systems connected to several UNIX hosts, and have conducted preliminary performance measurements on this network. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <institution> Internet Performance Measurement and Analysis (IPMA). Home Page of the Internet Performance Measurement and Analysis (IPMA) project, a joint effort of the University of Michigan and Merit Network. </institution> <note> http://www.merit.edu/ipma/. </note>
Reference-contexts: 1 Introduction The rapid expansion of the Internet has strained the capabilities of the current Internet infrastructure. This is demonstrated by the growth in traffic volume at key Internet exchange points <ref> [1] </ref>. Emerging audio and video applications, such as RealAudio and Internet Phone, place further demands on this strained infrastructure. These new applications, many of which do not adhere to the congestion control philosophy of the Internet, have the potential to adversely impact the performance of the network.
Reference: [2] <institution> ATM UNI Specification, </institution> <note> Version 3.1, ATM Forum, </note> <month> September </month> <year> 1994. </year> <month> 21 </month>
Reference-contexts: The two non-work-conserving timing wheels schedule cell transmissions on the basis of the traffic parameters assigned to each connection. These traffic parameters are essentially of the form of dual leaky buckets as in <ref> [2] </ref> and [22], i.e., they allow specification of a token bucket rate, a token bucket depth, and a peak rate.
Reference: [3] <author> H. Adiseshu and G. Parulkar. </author> <title> Scalable cell switched integrated services routers. Presentation at Washington Univer--sity Workshop on Integration of IP and ATM. </title> <booktitle> Session 5: Hardware Issues in ATM+IP Networks, </booktitle> <month> November </month> <year> 1996. </year> <note> http://www.arl.wustl.edu/arl/workshops/atmip/session5/hari.ps. </note>
Reference-contexts: To the best of our knowledge, the system that comes closest to what we have built in terms of overall structure and functionality is the integrated cell switch router from Washington University <ref> [3] </ref> that was independently proposed. In the rest of the paper, we provide details on both the QSR design and the different components it relies on, and present some initial results on the performance and capabilities of the implementation.
Reference: [4] <author> G. J. Armitage. </author> <title> Support for multicast over UNI 3.0/3.1 based ATM networks. Request for Comments: 2022, </title> <institution> IETF Network Working Group, </institution> <month> November </month> <year> 1996. </year>
Reference-contexts: Connectivity can be provided either through permanent or switched virtual circuits (PVCs and SVCs), with SVCs being created using standard protocols such as "Classical IP over ATM" (CIP) [13, 17] for unicast connections and Multicast Address Resolution Server (MARS) <ref> [4] </ref> for multicast connections. Note that since SVC based connectivity is supported, port adapters all implement the ATM UNI signalling stack.
Reference: [5] <author> F. Baker and Y. Rekhter. </author> <title> Tag switching with RSVP. Internet Draft, </title> <type> IETF, </type> <month> December </month> <year> 1996. </year> <month> draft-baker-tags-rsvp-00.txt. </month>
Reference-contexts: Similarly, we are also looking at extending the use of switching to some default IP flows as has been proposed in some of the other IP switching proposals, that have been brought forward <ref> [5, 16, 19, 23, 24] </ref>. Another area of ongoing investigation is the interface between RSVP and the routing protocols, in particular in the context of QoS routing.
Reference: [6] <author> B. Braden, D. Clark, and S. Shenker. </author> <title> Integrated Services in the Internet Architecture: an Overview. Request for Comments: </title> <type> 1633, </type> <institution> IETF Network Working Group, </institution> <month> June </month> <year> 1994. </year>
Reference-contexts: The latter is especially important to sustain the growth of the Internet as a commercial network. In this paper, we describe the architecture, implementation, and initial experiences with a system that has been designed to meet this challenge. It is based on the Integrated Services model <ref> [6] </ref> and associated standards being developed by the IETF, namely the Resource Reservation Protocol (RSVP) [18], the Controlled-load service definition [25], and the Guaranteed service [21].
Reference: [7] <author> A. Demers, S. Keshav, and S. Shenker. </author> <title> Analysis and simulation of a fair queuing algorithm. </title> <booktitle> In Proceedings of ACM SIGCOMM'89, </booktitle> <pages> pages 3-12, </pages> <month> August </month> <year> 1989. </year>
Reference-contexts: Its main difference, however, is that it always advances to the next active transmission slot. It provides an approximation of weighted fair queueing (WFQ) <ref> [7] </ref>, and can be shown to have a behavior similar to that of self-clocked fair queueing [10]. In addition, all three timing wheels offer the ability to share a reservation across multiple VCs.
Reference: [8] <author> W. Doeringer, G. Karjoth, and M. Nassehi. </author> <title> Routing on longest matching prefixes. </title> <journal> IEEE/ACM Trans. Networking, </journal> <volume> 4(1) </volume> <pages> 86-97, </pages> <month> February </month> <year> 1996. </year>
Reference-contexts: However, based on experiences reported by ISP backbone operators, it was felt that address locality may be weak for trunks inside the network. As a result, the trunk forwarding loop only consists of a longest prefix match look-up. This look-up is implemented using the DP-trie structure of <ref> [8] </ref>, with the entire look-up table stored in system memory. The benefit of this structure is that its performance is independent of address locality, and its worst case is bounded. Some initial benchmarking tests of this forwarding loop are provided in Section 6. <p> The first one involved evaluating the basic IP forwarding performance of the Trunk and Port FEs. It should be noted, that these numbers are preliminary as no performance "tuning" of the forwarding has yet taken place. lookup is implemented using a DP-trie structure <ref> [8] </ref> and, therefore, the forwarding performance will vary with the 18 actual depth of the lookup. We have plotted for different packet sizes (plain line curves), the two extreme cases which correspond to depths of 1 (F-dp-1) and 32 (F-dp-32).
Reference: [9] <author> L. Georgiadis, R. Guerin, V. Peris, and R. Rajan. </author> <title> Efficient support of delay and rate guarantees in an internet. </title> <booktitle> In Proceedings of ACM SIGCOMM'96, </booktitle> <pages> pages 106-116, </pages> <address> Stanford University, CA, </address> <month> August </month> <year> 1996. </year>
Reference-contexts: The setting of the token bucket size to M instead of the value b specified in the TSpec of the flow, means that we are enforcing reshaping at the service rate R. This is known not to affect the delay <ref> [9] </ref> and lowers the buffering requirements in the network. As a result, the amount of buffer allocated, i.e., accounted for at time of call admission, to GS flow is simply set to 2M , which is taken from the buffer pool dedicated to GS flows.
Reference: [10] <author> S. J. Golestani. </author> <title> Network delay analysis of a class of fair queueing algorithms. </title> <journal> IEEE J. Selected Areas Commun, </journal> <volume> 13(6) </volume> <pages> 1057-1070, </pages> <month> August </month> <year> 1995. </year>
Reference-contexts: Its main difference, however, is that it always advances to the next active transmission slot. It provides an approximation of weighted fair queueing (WFQ) [7], and can be shown to have a behavior similar to that of self-clocked fair queueing <ref> [10] </ref>. In addition, all three timing wheels offer the ability to share a reservation across multiple VCs. This is provided through channel groups that are defined to share transmission opportunities, where the sharing is performed in a round-robin fashion.
Reference: [11] <author> I. Iliadis and W. Denzel. </author> <title> Analysis of packet switches with input and output queueing. </title> <journal> IEEE Trans. Commun., </journal> <volume> 41(5) </volume> <pages> 731-740, </pages> <month> May </month> <year> 1993. </year>
Reference-contexts: The current implementation combines a moderate size shared memory (of the order of 100 cells) with a speed-up factor of more than 50% over the input links, to achieve an efficient trade-off between performance and complexity 2 . 2 Using the results of <ref> [11] </ref> the saturation throughput of the switch can be found to be significantly higher than the link speed even with reasonably bursty traffic. 7 2.3 Software Components Software components are distributed between the CE and the FEs.
Reference: [12] <author> Y. Katsube, K.-I. Nagami, and H. Esaki. </author> <title> Router architecture extensions for ATM : Overview. Internet Draft, </title> <type> IETF, </type> <month> October </month> <year> 1996. </year> <month> draft-rfced-info-katsube-00.txt. </month>
Reference-contexts: There has been a significant amount of recent work on topics related to the exploitation of switching for IP forwarding. However, these efforts have focused primarily on handling best-effort traffic <ref> [12, 16, 19, 24] </ref>. Some of these techniques could, in the future, be employed in the QSR to off-load best-effort IP forwarding.
Reference: [13] <author> M. Laubach. </author> <title> Classical IP and ARP over ATM. Request for Comments: </title> <type> 1577, </type> <institution> IETF Network Working Group, </institution> <month> January </month> <year> 1994. </year>
Reference-contexts: Interfaces functions consist of the protocols needed to exchange data across the ATM subnet to which the port adapter attaches. Connectivity can be provided either through permanent or switched virtual circuits (PVCs and SVCs), with SVCs being created using standard protocols such as "Classical IP over ATM" (CIP) <ref> [13, 17] </ref> for unicast connections and Multicast Address Resolution Server (MARS) [4] for multicast connections. Note that since SVC based connectivity is supported, port adapters all implement the ATM UNI signalling stack. <p> The testbed consists of 3 QSRs as shown in Figure 5, to which several UNIX workstations are attached. The workstations are connected to the Port FEs through an ATM Switch based on RFC 1577 <ref> [13] </ref>. Note that some of the workstations like elvis and clash have 155 Mbits/sec ATM adapters, whereas the others are connected through 100Mbits/sec ATM TAXI interfaces. Despite the fact that we had reasonably high-performance workstations, we were unable to generate more than 30Kpps out of each of these UNIX workstations.
Reference: [14] <author> S. McCanne and Van Jacobson. </author> <title> vic: a flexible framework for packet video. </title> <booktitle> In Proceedings of ACM Multimedia'95, </booktitle> <pages> pages 511-522, </pages> <address> San Francisco, CA, </address> <year> 1995. </year>
Reference-contexts: A video camera was attached to clash and the playback was on elvis, so that the video packets had to cross all 3 QSRs as shown in Figure 5. Control of the video stream was done using the vic application since it was readily available <ref> [14] </ref>. We also extended vic so that it was able to interface with our host RSVP daemon, that had been developed as part of the project. As a result, the vic application was able to reserve resources through the QSR network using the RSVP protocol.
Reference: [15] <author> N. McKeown. </author> <title> An overview of hardware issues for IP and ATM. Presentation at Washington University Workshop on Integration of IP and ATM. </title> <booktitle> Session 5: Hardware Issues in ATM+IP Networks, </booktitle> <month> November </month> <year> 1996. </year> <note> http://www.arl.wustl.edu/arl/workshops/atmip/session5/nick.ps. </note>
Reference-contexts: The latter, while providing more flexibility in routing, necessitates a more complex "longest prefix match" lookup on destination address of an IP packet (see <ref> [15] </ref> for a more comprehensive discussion on this topic). Moreover, when the basic forwarding function is to be enhanced for QoS support and service differentiation with RSVP, additional classification and scheduling functions are required which contribute significantly to the per-packet processing overhead.
Reference: [16] <author> P. Newman, W. L. Edwards, R. Hinden, E. Hoffman, F. C. Liaw, T. Lyon, and G. Minshall. </author> <title> The transmission of flow labelled IPv4 on ATM data links version 1.0. </title> <type> Technical report, </type> <institution> Ipsilon Networks, </institution> <month> February </month> <year> 1996. </year>
Reference-contexts: There has been a significant amount of recent work on topics related to the exploitation of switching for IP forwarding. However, these efforts have focused primarily on handling best-effort traffic <ref> [12, 16, 19, 24] </ref>. Some of these techniques could, in the future, be employed in the QSR to off-load best-effort IP forwarding. <p> Similarly, we are also looking at extending the use of switching to some default IP flows as has been proposed in some of the other IP switching proposals, that have been brought forward <ref> [5, 16, 19, 23, 24] </ref>. Another area of ongoing investigation is the interface between RSVP and the routing protocols, in particular in the context of QoS routing.
Reference: [17] <author> M. Perez, F. Liaw, A. Mankin, E. Hoffman, D. Grossman, and A. Malis. </author> <title> ATM signaling support for IP over ATM. Request for Comments: </title> <type> 1755, </type> <institution> IETF Network Working Group, </institution> <month> February </month> <year> 1995. </year>
Reference-contexts: Interfaces functions consist of the protocols needed to exchange data across the ATM subnet to which the port adapter attaches. Connectivity can be provided either through permanent or switched virtual circuits (PVCs and SVCs), with SVCs being created using standard protocols such as "Classical IP over ATM" (CIP) <ref> [13, 17] </ref> for unicast connections and Multicast Address Resolution Server (MARS) [4] for multicast connections. Note that since SVC based connectivity is supported, port adapters all implement the ATM UNI signalling stack.
Reference: [18] <author> R. Braden (Ed.), L. Zhang, S. Berson, S. Herzog, and S. Jamin. </author> <title> Resource reSerVation Protocol (RSVP) version 1, functional specification. </title> <type> INTERNET-DRAFT, </type> <institution> Internet Engineering Task Force - RSVP WG, </institution> <month> November </month> <year> 1996. </year> <month> draft-ietf-rsvp-spec-14.[ps,txt]. </month>
Reference-contexts: In this paper, we describe the architecture, implementation, and initial experiences with a system that has been designed to meet this challenge. It is based on the Integrated Services model [6] and associated standards being developed by the IETF, namely the Resource Reservation Protocol (RSVP) <ref> [18] </ref>, the Controlled-load service definition [25], and the Guaranteed service [21]. <p> This is provided through channel groups that are defined to share transmission opportunities, where the sharing is performed in a round-robin fashion. The above buffer management and scheduling capabilities are key to the ability of the QSR to support the different types of services allowed by RSVP <ref> [18] </ref> and the Integrated Services specifications [21, 25]. We detail this further in Section 3.1. 2.2.3 ATM Switch The switch fabric consists of a shared memory switching chip that supports both unicast and multicast connections. <p> In that case, the WFQ approximation implemented by the work-conserving timing wheel will result in default IP traffic getting a share of the idle bandwidth, that is proportional to its nominal bandwidth allocation. 3.2 RSVP Protocol The CE implements the RSVP protocol as specified in <ref> [18] </ref>, with some extensions needed to support the mapping of RSVP flows onto switched connections. This essentially requires the ability to communicate the identity of the VC that is to be used for a given RSVP flow.
Reference: [19] <author> Y. Rekhter, B. Davie, D. Katz, E. Rosen, and G. Swallow. </author> <title> Tag switching architecture overview. Internet Draft, </title> <type> IETF, </type> <month> September </month> <year> 1996. </year> <month> draft-rfced-info-rekhter-00.txt. </month>
Reference-contexts: There has been a significant amount of recent work on topics related to the exploitation of switching for IP forwarding. However, these efforts have focused primarily on handling best-effort traffic <ref> [12, 16, 19, 24] </ref>. Some of these techniques could, in the future, be employed in the QSR to off-load best-effort IP forwarding. <p> Similarly, we are also looking at extending the use of switching to some default IP flows as has been proposed in some of the other IP switching proposals, that have been brought forward <ref> [5, 16, 19, 23, 24] </ref>. Another area of ongoing investigation is the interface between RSVP and the routing protocols, in particular in the context of QoS routing.
Reference: [20] <author> S. Sathaye. </author> <title> ATM Forum Traffic Management Specification Version 4.0. </title> <type> ATM Forum 95-0013, </type> <month> December </month> <year> 1995. </year>
Reference-contexts: The operation of the algorithm while local is very similar to that of virtual-source and virtual-destination of the ATM ABR service 10 specifications <ref> [20] </ref>. Another factor that could degrade performance for flows with reservation is the excess traffic that some flows can send.
Reference: [21] <author> S. Shenker, C. Partridge, and R. Guerin. </author> <title> Specification of guaranteed quality of service. Internet Draft, Integrated Services WG, </title> <type> IETF, </type> <month> November </month> <year> 1996. </year> <month> draft-ietf-intserv-guaranteed-svc-06.txt. </month>
Reference-contexts: It is based on the Integrated Services model [6] and associated standards being developed by the IETF, namely the Resource Reservation Protocol (RSVP) [18], the Controlled-load service definition [25], and the Guaranteed service <ref> [21] </ref>. In order to satisfy the potentially conflicting objectives of increasing raw forwarding performance and providing fine-grained control on packet flows for service differentiation, our system draws upon the respective strengths of ATM-style label switching (layer 2 forwarding) and routing (layer 3 forwarding). <p> The above buffer management and scheduling capabilities are key to the ability of the QSR to support the different types of services allowed by RSVP [18] and the Integrated Services specifications <ref> [21, 25] </ref>. We detail this further in Section 3.1. 2.2.3 ATM Switch The switch fabric consists of a shared memory switching chip that supports both unicast and multicast connections. In each switch clock cycle, one cell can be read from the shared memory for each output. <p> broadcast VC, and each branch of the multicast flow corresponds to a specific VC segment that is created by enabling receipt of the broadcast VC in the associated output port. 3.1.2 Bandwidth and Buffer Management In the current implementation, we support, in addition to Best Effort, both the Guaranteed Service <ref> [21] </ref> and the Controlled Load [25] service. Resources are allocated at the input and output adapters for unicast and multicast flows. In the case of multicast flows, because of the impact of broadcasting multicast traffic, the switch bandwidth is also taken into account.
Reference: [22] <author> S. Shenker and J. Wroclawski. </author> <title> Specification of General Characterization Parameters. Internet Draft, Integrated Services WG, </title> <type> IETF, </type> <month> October </month> <year> 1996. </year> <month> draft-ietf-intserv-charac-02.txt. </month>
Reference-contexts: The two non-work-conserving timing wheels schedule cell transmissions on the basis of the traffic parameters assigned to each connection. These traffic parameters are essentially of the form of dual leaky buckets as in [2] and <ref> [22] </ref>, i.e., they allow specification of a token bucket rate, a token bucket depth, and a peak rate. The work-conserving timing wheel only allows specification of a single rate parameter for each VC as well as the enforcement of a maximum bandwidth for all the VCs on the wheel.
Reference: [23] <author> D. Williams, R. Guerin, and D. Kandlur. </author> <title> Virtual circuit identification support for an RSVP-based service. Internet Draft, </title> <type> IETF, </type> <month> September </month> <year> 1996. </year> <month> draft-williams-issll-vcuse-00.txt. </month>
Reference-contexts: Similarly, we are also looking at extending the use of switching to some default IP flows as has been proposed in some of the other IP switching proposals, that have been brought forward <ref> [5, 16, 19, 23, 24] </ref>. Another area of ongoing investigation is the interface between RSVP and the routing protocols, in particular in the context of QoS routing.
Reference: [24] <author> R. Woundy, A. Viswanathan, N. Feldman, and R. Boivie. ARIS: </author> <title> Aggregate route-based IP switching. Internet Draft, </title> <type> IETF, </type> <month> November </month> <year> 1996. </year> <month> draft-woundy-aris-ipswitching-00.txt. </month>
Reference-contexts: There has been a significant amount of recent work on topics related to the exploitation of switching for IP forwarding. However, these efforts have focused primarily on handling best-effort traffic <ref> [12, 16, 19, 24] </ref>. Some of these techniques could, in the future, be employed in the QSR to off-load best-effort IP forwarding. <p> Similarly, we are also looking at extending the use of switching to some default IP flows as has been proposed in some of the other IP switching proposals, that have been brought forward <ref> [5, 16, 19, 23, 24] </ref>. Another area of ongoing investigation is the interface between RSVP and the routing protocols, in particular in the context of QoS routing.
Reference: [25] <author> J. Wroclawski. </author> <title> Specification of the controlled-load network element service. Internet Draft, Integrated Services WG, </title> <type> IETF, </type> <month> November </month> <year> 1996. </year> <note> draft-ietf-intserv-ctrl-load-svc-04.txt. 22 </note>
Reference-contexts: It is based on the Integrated Services model [6] and associated standards being developed by the IETF, namely the Resource Reservation Protocol (RSVP) [18], the Controlled-load service definition <ref> [25] </ref>, and the Guaranteed service [21]. In order to satisfy the potentially conflicting objectives of increasing raw forwarding performance and providing fine-grained control on packet flows for service differentiation, our system draws upon the respective strengths of ATM-style label switching (layer 2 forwarding) and routing (layer 3 forwarding). <p> The above buffer management and scheduling capabilities are key to the ability of the QSR to support the different types of services allowed by RSVP [18] and the Integrated Services specifications <ref> [21, 25] </ref>. We detail this further in Section 3.1. 2.2.3 ATM Switch The switch fabric consists of a shared memory switching chip that supports both unicast and multicast connections. In each switch clock cycle, one cell can be read from the shared memory for each output. <p> of the multicast flow corresponds to a specific VC segment that is created by enabling receipt of the broadcast VC in the associated output port. 3.1.2 Bandwidth and Buffer Management In the current implementation, we support, in addition to Best Effort, both the Guaranteed Service [21] and the Controlled Load <ref> [25] </ref> service. Resources are allocated at the input and output adapters for unicast and multicast flows. In the case of multicast flows, because of the impact of broadcasting multicast traffic, the switch bandwidth is also taken into account.
References-found: 25

