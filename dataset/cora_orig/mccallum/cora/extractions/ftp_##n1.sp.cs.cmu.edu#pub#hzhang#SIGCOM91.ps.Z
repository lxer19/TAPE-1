URL: ftp://n1.sp.cs.cmu.edu/pub/hzhang/SIGCOM91.ps.Z
Refering-URL: http://www.cs.cmu.edu/afs/cs.cmu.edu/user/hzhang/WWW/publications.html
Root-URL: 
Title: Comparison of Rate-Based Service Disciplines  
Author: Hui Zhang and Srinivasan Keshav 
Address: Berkeley, CA 94720  
Affiliation: Computer Science Division University of California at Berkeley  
Note: In Proceedings of ACM SIGCOMM'91  
Abstract: This paper compares six new queue service disciplines that can be implemented at the output queues of switches in a connection-oriented packet switched data network. These are Virtual Clock, Fair Queueing, Delay-Earliest-Due-Date, Jitter-Earliest-Due-Date, Stop-and-Go and Hierarchical Round Robin. We describe their mechanisms, their similarities and differences, and some implementation strategies. In particular, we show why each discipline can or cannot provide bandwidth, delay and delay jitter guarantees. This leads to some interesting conclusions about the rela tive strengths and weaknesses of each approach.
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> Randy Brown. </author> <title> Calendar queues: A fast O(1) priority queue implementation for the simulation event set prob VCL FQ D-EDD SG HRR J-EDD Work Conserving Yes Yes Yes No No No Throughput Guarantee Yes Yes Yes Yes Yes Yes Delay Guarantee No No Yes Yes Yes Yes Jitter Guarantee No No No Yes No Yes Constant Buffer No No No Yes Yes Yes Protection Yes Yes Yes No Yes Yes Table 5: Summary of Results lem. </title> <journal> Communications of the ACM, </journal> <volume> 31(10) </volume> <pages> 1220-1227, </pages> <month> October </month> <year> 1988. </year>
Reference-contexts: A regulator has to delay a packet an additional amount of time in order to reconstruct the input traffic stream. It can do so by constructing lists of packets for each delay value and placing them in a calendar queue <ref> [1] </ref>. This is described in [5]. 4.3 Stop-and-Go Assuming the service order within each frame time is FIFO, Stop-and-Go can be implemented by a number of FIFO queues, a service controller, a transmission queue and a transmission server [8].
Reference: [2] <author> Alan Demers, Srinivasan Keshav, and Scott Shenker. </author> <title> Analysis and simulation of a fair queueing algorithm. </title> <journal> In Journal of Internetworking Research and Experience, </journal> <pages> pages 3-26, </pages> <month> October </month> <year> 1990. </year> <note> Also in Proc. ACM SIG-COMM'89, pp 3-12. </note>
Reference-contexts: Several rate-based scheduling disciplines have been proposed recently: Delay-EDD [4, 6], Virtual Clock [16], Fair Queueing 3 <ref> [2] </ref>, the Stop-and-Go protocol [7, 8], the Hierarchical Round Robin Discipline (HRR) [11], and Jitter-EDD [14]. We feel that it is instructive to compare and contrast these disciplines since they are closely related, yet they have some important differences. <p> However, when used in a connection-oriented network architecture with resource allocation and admission control, as considered in this paper, it can also provide bandwidth guarantees as mentioned in <ref> [2] </ref> Our study is more complete in the sense that we also com-pare Fair Queueing, and discuss buffer space requirements, admission control policies and implementation issues. <p> We now present intuitive descriptions of the six service disciplines. Technical details are presented in section 3. 2.1 Fair Queueing The aim of Fair Queueing <ref> [2] </ref> is simple: if N channels share an output trunk, then each should get 1/N of the bandwidth, with the provision that if any channel uses less than its share, the slack is equally distributed among the rest.
Reference: [3] <author> Domenico Ferrari. </author> <title> Client requirements for real-time communication services. </title> <journal> IEEE Communications Magazine, </journal> <volume> 28(11), </volume> <month> November </month> <year> 1990. </year> <note> also RFC 1193. </note>
Reference-contexts: 1 Introduction High speed networking introduces opportunities for new applications that have stringent performance requirements in terms of throughput, delay, delay jitter 1 and loss rate <ref> [3] </ref>. Conventional packet switching data networks with window-based flow control and first-come-first-served service discipline cannot provide services with strict performance guarantees. Thus, new rate-based flow control and rate-based service disciplines have been proposed in the context of a connection-oriented network architecture with explicit resource allocation and admission control policies [16]. <p> The guarantees discussed in this paper are deterministic guarantees as defined in <ref> [3] </ref>: that is, all packets should meet a guarantee even in the worst case. Static allocation of buffers is assumed to prevent packet loss even in the worst case. <p> The two parameters Xmin and Xave are used to characterize bursty traffic and to offer statistical guarantees <ref> [3] </ref> (as opposed to deterministic guarantees). In order to compare the three parameter EDD traffic models with the two parameter model for the other disciplines, we need to map the three parameter model to the two parameter model. <p> Besides buffer space as described in the previous section, two other resources, bandwidth and schedulability (discussed below) need to be managed. For the six service disciplines, if deterministic guarantees <ref> [3] </ref> are to be offered, the overall bandwidth allocated to the channels on any link should not exceed the bandwidth of that link. To provide delay guarantees, schedulability should also be considered. As pointed out in [4], scheduling saturation can occur even if bandwidth is not overbooked.
Reference: [4] <author> Domenico Ferrari and Dinesh Verma. </author> <title> A scheme for real-time channel establishment in wide-area networks. </title> <type> Technical Report TR-89-036, </type> <institution> International Computer Science Institute, Berkeley, California, </institution> <month> May </month> <year> 1989. </year>
Reference-contexts: In this paper, we will uniformly call all switching elements as `switches'. conjunction with appropriate admission policies, such disciplines allow clients to get performance guarantees in terms of throughput, delay, delay jitter and loss rate. Several rate-based scheduling disciplines have been proposed recently: Delay-EDD <ref> [4, 6] </ref>, Virtual Clock [16], Fair Queueing 3 [2], the Stop-and-Go protocol [7, 8], the Hierarchical Round Robin Discipline (HRR) [11], and Jitter-EDD [14]. We feel that it is instructive to compare and contrast these disciplines since they are closely related, yet they have some important differences. <p> Static allocation of buffers is assumed to prevent packet loss even in the worst case. While statistical guarantees can also be provided by controlled overbooking resources, as proposed in <ref> [4, 9] </ref>, we do not discuss those guarantees in this paper. 2 Background Guaranteed service requires that the network protect clients from two sources of variability: misbehaved users and network load fluctuations. <p> By sending packets in virtual time order, Virtual Clock can be shown to emulate TDM. 2.3 Delay Earliest-Due-Date In classic earliest-due-date (EDD) scheduling, each packet is assigned a deadline, and the packets are sent in order on increasing deadlines. The Delay-EDD <ref> [4] </ref> service discipline is an extension where the server negotiates a service contract with each source. The contract states that if a source obeys a peak and average sending rate, then the server will provide a delay bound. The key lies in the assignment of deadlines to packets. <p> V irtualClock is irrelevant in this discussion. 6 Notation used in the paper is summarized in the Appendix. 7 The delay bound is the maximum allowed difference between the arrival time and departure time of a packet from the kth switch for the ith channel <ref> [4] </ref>. V tick i () Xmin i or d k Recall that in Delay-EDD, Xmin i is the minimum packet inter-arrival time and d k i is the local delay bound; in Virtual Clock, V tick i is the average packet inter-arrival time. <p> Delay-EDD decouples the delay and bandwidth re quirements by using both Xmin i and d k i , while Virtual Clock just has one counterpart V tick i . The two differences are the reason why Delay-EDD, in conjunction with the establishment and admission control scheme described in <ref> [4] </ref>, can provide both delay and bandwidth guarantees, while Virtual Clock can provide only bandwidth guarantees. Virtual Clock does have a mechanism to handle priorities the AT in the equation can be replaced by AT P riority. <p> In this case, packets from channels with higher P riority will get lower average delay. However, without imposing minimum spacing between packets and a priority allocation scheme similar to the delay bound allocation scheme in <ref> [4] </ref>, Virtual Clock cannot provide deterministic delay bounds. 3.2 Delay-EDD and Jitter-EDD The comparison between Delay-EDD and Jitter-EDD is shown in Table 2. Notice that the state equations for Delay-EDD are written in a form different from that in Table 1. This is only for the sake of exposition. <p> For the six service disciplines, if deterministic guarantees [3] are to be offered, the overall bandwidth allocated to the channels on any link should not exceed the bandwidth of that link. To provide delay guarantees, schedulability should also be considered. As pointed out in <ref> [4] </ref>, scheduling saturation can occur even if bandwidth is not overbooked. For example, two packets with delay bounds of 4 time units and service time of 3 time units may arrive at a node at the same time.
Reference: [5] <author> Domenico Ferrari and Dinesh Verma. </author> <title> Quality of service and admission control in ATM networks. </title> <type> Technical Report TR-90-064, </type> <institution> International Computer Science Institute, Berkeley, California, </institution> <month> December </month> <year> 1990. </year>
Reference-contexts: A regulator has to delay a packet an additional amount of time in order to reconstruct the input traffic stream. It can do so by constructing lists of packets for each delay value and placing them in a calendar queue [1]. This is described in <ref> [5] </ref>. 4.3 Stop-and-Go Assuming the service order within each frame time is FIFO, Stop-and-Go can be implemented by a number of FIFO queues, a service controller, a transmission queue and a transmission server [8].
Reference: [6] <author> Domenico Ferrari and Dinesh Verma. </author> <title> A scheme for real-time channel establishment in wide-area networks. </title> <journal> IEEE Journal on Selected Areas in Communications, </journal> <volume> 8(3) </volume> <pages> 368-379, </pages> <month> April </month> <year> 1990. </year>
Reference-contexts: In this paper, we will uniformly call all switching elements as `switches'. conjunction with appropriate admission policies, such disciplines allow clients to get performance guarantees in terms of throughput, delay, delay jitter and loss rate. Several rate-based scheduling disciplines have been proposed recently: Delay-EDD <ref> [4, 6] </ref>, Virtual Clock [16], Fair Queueing 3 [2], the Stop-and-Go protocol [7, 8], the Hierarchical Round Robin Discipline (HRR) [11], and Jitter-EDD [14]. We feel that it is instructive to compare and contrast these disciplines since they are closely related, yet they have some important differences.
Reference: [7] <author> S. Jamaloddin Golestani. </author> <title> Congestion-free transmission of real-time traffic in packet networks. </title> <booktitle> In Proceedings of IEEE INFOCOM'90, </booktitle> <pages> pages 527-542, </pages> <address> San Francisco, California, </address> <month> June </month> <year> 1990. </year> <journal> IEEE Computer and Communication Societies. </journal>
Reference-contexts: Several rate-based scheduling disciplines have been proposed recently: Delay-EDD [4, 6], Virtual Clock [16], Fair Queueing 3 [2], the Stop-and-Go protocol <ref> [7, 8] </ref>, the Hierarchical Round Robin Discipline (HRR) [11], and Jitter-EDD [14]. We feel that it is instructive to compare and contrast these disciplines since they are closely related, yet they have some important differences. <p> Within each frame, the service 9 The notation F T is used in HRR, while T is used in Stop-and-Go; we adopt T for both in this paper. 10 FIFO is used as the service discipline within each frame in <ref> [7, 8] </ref>; however, as pointed out by the author, this is just for convenience and is not part of Stop-and-Go. order of packets is arbitrary. Statements similar to those we made above for Jitter EDD are as follows for Stop-and-Go: 1. <p> If the packet size is assumed to be constant, we have the following equation for both HRR and Stop-and-Go: ServiceQuantum = P acketSize T 11 This is called the (r; T )-smoothness property in <ref> [7, 8] </ref>, where r is the average rate and T is the frame time. 12 Delay jitter is defined as the maximum difference between delays experienced by any two packets in a channel. Jitter is defined differently in [11].
Reference: [8] <author> S. Jamaloddin Golestani. </author> <title> A stop-and-go queueing framework for congestion management. </title> <booktitle> In SIG-COMM'90 Symposium, Communications Architecture & Protocols, </booktitle> <pages> pages 8-18, </pages> <address> Philadelphia Pennsylvania, </address> <month> September </month> <year> 1990. </year> <note> ACM SIGCOMM. </note>
Reference-contexts: Several rate-based scheduling disciplines have been proposed recently: Delay-EDD [4, 6], Virtual Clock [16], Fair Queueing 3 [2], the Stop-and-Go protocol <ref> [7, 8] </ref>, the Hierarchical Round Robin Discipline (HRR) [11], and Jitter-EDD [14]. We feel that it is instructive to compare and contrast these disciplines since they are closely related, yet they have some important differences. <p> So, in the next switch, it is made eligible to be sent only after PreAhed seconds. Since a packet obtains a constant delay at each switch, it can be provided a jitter bound. 2.5 Stop-and-Go The Stop-and-Go service discipline <ref> [8] </ref> aims to preserve the `smoothness' property of traffic as it traverses the network. Time is divided into frames. In each frame time, only packets that arrived at the server in the previous frame time are sent. <p> Within each frame, the service 9 The notation F T is used in HRR, while T is used in Stop-and-Go; we adopt T for both in this paper. 10 FIFO is used as the service discipline within each frame in <ref> [7, 8] </ref>; however, as pointed out by the author, this is just for convenience and is not part of Stop-and-Go. order of packets is arbitrary. Statements similar to those we made above for Jitter EDD are as follows for Stop-and-Go: 1. <p> If the packet size is assumed to be constant, we have the following equation for both HRR and Stop-and-Go: ServiceQuantum = P acketSize T 11 This is called the (r; T )-smoothness property in <ref> [7, 8] </ref>, where r is the average rate and T is the frame time. 12 Delay jitter is defined as the maximum difference between delays experienced by any two packets in a channel. Jitter is defined differently in [11]. <p> This is described in [5]. 4.3 Stop-and-Go Assuming the service order within each frame time is FIFO, Stop-and-Go can be implemented by a number of FIFO queues, a service controller, a transmission queue and a transmission server <ref> [8] </ref>. Each queue corresponds to a frame time and stores packets for channels that are allocated at that frame time.
Reference: [9] <author> S. Jamaloddin Golestani. </author> <title> Duration-limited statistical multiplexing of delay-sensitive traffic in packet networks, </title> <month> April </month> <year> 1991. </year>
Reference-contexts: Static allocation of buffers is assumed to prevent packet loss even in the worst case. While statistical guarantees can also be provided by controlled overbooking resources, as proposed in <ref> [4, 9] </ref>, we do not discuss those guarantees in this paper. 2 Background Guaranteed service requires that the network protect clients from two sources of variability: misbehaved users and network load fluctuations.
Reference: [10] <author> Albert Greenberg and Neil Madras. </author> <title> How fair is fair queueing? Proc. </title> <booktitle> Performance '90, </booktitle> <year> 1990. </year>
Reference-contexts: Each packet is given a finish number, which is the round number at which the packet would have received service, had the server been doing BR. By servicing packets in order of the finish numbers, it can be shown that Fair Queueing emulates BR <ref> [10] </ref>.
Reference: [11] <author> Charles R. Kalmanek, Hemant Kanakia, and Srinivasan Keshav. </author> <title> Rate controlled servers for very high-speed networks. </title> <booktitle> In IEEE Global Telecomminications Conference, </booktitle> <address> San Diego, California, </address> <month> December </month> <year> 1990. </year>
Reference-contexts: Several rate-based scheduling disciplines have been proposed recently: Delay-EDD [4, 6], Virtual Clock [16], Fair Queueing 3 [2], the Stop-and-Go protocol [7, 8], the Hierarchical Round Robin Discipline (HRR) <ref> [11] </ref>, and Jitter-EDD [14]. We feel that it is instructive to compare and contrast these disciplines since they are closely related, yet they have some important differences. <p> Since the delay and delay-jitter bounds are linked to the length of the frame time, Stop-and-Go proposes multiple frame sizes. 2.6 Hierarchical Round Robin The Hierarchical Round Robin (HRR) <ref> [11] </ref> server has several service levels, where each level provides round-robin service to a fixed number of slots. A channel is allocated some number of service slots at a selected level, and the server cycles through the slots at each level. <p> Jitter is defined differently in <ref> [11] </ref>. Providing a delay jitter bound is sufficient to provide the jitter bound as defined in [11], but the other direction does not hold. <p> Jitter is defined differently in <ref> [11] </ref>. Providing a delay jitter bound is sufficient to provide the jitter bound as defined in [11], but the other direction does not hold.
Reference: [12] <author> Srinivasan Keshav. </author> <title> On the efficient implementation of fair queueing, </title> <note> 1991. To appear in Journal of Internet-working Research and Experience. </note>
Reference-contexts: When the output trunk becomes free, the server removes the packet at the head of the priority queue and sends it. The efficient implementation of a priority queue for Fair Queueing in software has been investigated in <ref> [12] </ref>, and the results indicate that a simple linked list is a good priority queue implementation. This result should hold for the other two disciplines as well. An efficient hardware scheme to implement a priority queue is a dictionary machine 13 .
Reference: [13] <author> M. Sidi, W.-Z. Liu, I Cidon, and I Gopal. </author> <title> Congestion control through input rate regulation. </title> <booktitle> In IEEE Global Telecomminications Conference, </booktitle> <month> December </month> <year> 1989. </year>
Reference-contexts: Since these are site-specific variables, we do not feel that it is appropriate to declare any discipline the `winner'. A comparison between Virtual Clock and Leaky Bucket <ref> [13] </ref> is presented in [15]. However we feel that comparing Leaky Bucket and Virtual Clock is inappropriate since Leaky Bucket is not a service discipline: it just controls the rate of one channel and does not specify the service order of packets from different channels.
Reference: [14] <author> Dinesh Verma, Hui Zhang, and Domenico Ferrari. </author> <title> Guaranteeing delay jitter bounds in packet switching networks. </title> <booktitle> In Proceedings of Tricomm'91, </booktitle> <address> Chapel Hill, North Carolina, </address> <month> April </month> <year> 1991. </year>
Reference-contexts: Government or any of the sponsoring organizations. 1 Delay jitter is defined to be the maximum difference between end-to-end delays experienced by any two packets <ref> [14] </ref>. 2 In the literature, the term `switch' is used in the context of ATM networks, while `gateway' or `router' is used in the Internet environment. <p> Several rate-based scheduling disciplines have been proposed recently: Delay-EDD [4, 6], Virtual Clock [16], Fair Queueing 3 [2], the Stop-and-Go protocol [7, 8], the Hierarchical Round Robin Discipline (HRR) [11], and Jitter-EDD <ref> [14] </ref>. We feel that it is instructive to compare and contrast these disciplines since they are closely related, yet they have some important differences. <p> By reserving bandwidth at the peak rate, Delay-EDD can assure each channel a hard delay bound. 2.4 Jitter Earliest-Due-Date The Jitter-EDD discipline <ref> [14] </ref> extends Delay-EDD to provide delay-jitter bounds (that is, a bound on the minimum as well on the maximum delay). After a packet has been served at each server, it is stamped with difference between its deadline and actual finishing time. <p> It is this holding time that makes Jitter-EDD a non-work-conserving discipline. It has been shown in <ref> [14] </ref> that Jitter EDD has the following properties: 1. <p> From property 2, it immediately follows that the maximum residence time of a packet on channel i at switch k is d k1 i t k1 Property 2 provides jitter bounds for channels <ref> [14] </ref>; properties 1 and 3 give buffer bounds to prevent packet loss, which will be discussed in more detail in Section 3.4. As will be shown in the next section, the other two non-work-conserving service disciplines, Stop-and-Go and HRR, have similar properties.
Reference: [15] <author> Abel Weinrib and L.T. Wu. </author> <title> Virtual clocks and leaky buckets: Flow control protocols for high speed networks. </title> <booktitle> In Second IFIP International Workshop on Protocols For High-Speed Networks, </booktitle> <address> Palo Alto, California, </address> <month> November </month> <year> 1990. </year>
Reference-contexts: Since these are site-specific variables, we do not feel that it is appropriate to declare any discipline the `winner'. A comparison between Virtual Clock and Leaky Bucket [13] is presented in <ref> [15] </ref>. However we feel that comparing Leaky Bucket and Virtual Clock is inappropriate since Leaky Bucket is not a service discipline: it just controls the rate of one channel and does not specify the service order of packets from different channels.
Reference: [16] <author> Lixia Zhang. </author> <title> A New Architecture for Packet Switched Network Protocols. </title> <type> PhD dissertation, </type> <institution> Massachusetts Institute of Technology, </institution> <month> July </month> <year> 1989. </year>
Reference-contexts: Conventional packet switching data networks with window-based flow control and first-come-first-served service discipline cannot provide services with strict performance guarantees. Thus, new rate-based flow control and rate-based service disciplines have been proposed in the context of a connection-oriented network architecture with explicit resource allocation and admission control policies <ref> [16] </ref>. A rate-based service discipline is one that provides a client with a minimum service rate independent of the traffic characteristics of other clients (though it may serve a client at a rate faster than this minimum). <p> In this paper, we will uniformly call all switching elements as `switches'. conjunction with appropriate admission policies, such disciplines allow clients to get performance guarantees in terms of throughput, delay, delay jitter and loss rate. Several rate-based scheduling disciplines have been proposed recently: Delay-EDD [4, 6], Virtual Clock <ref> [16] </ref>, Fair Queueing 3 [2], the Stop-and-Go protocol [7, 8], the Hierarchical Round Robin Discipline (HRR) [11], and Jitter-EDD [14]. We feel that it is instructive to compare and contrast these disciplines since they are closely related, yet they have some important differences. <p> Channels can be given different fractions of the bandwidth by giving them weights; a weight corresponds to the number of bits of service the channel receives per round of BR service. 2.2 Virtual Clock The Virtual Clock <ref> [16] </ref> discipline aims to emulate the Time Division Multiplexing (TDM) service discipline in the same way as Fair Queueing emulates BR. Each packet is allocated a virtual transmission time, which is the time at which the packet would have been transmitted were the server actually doing TDM.
Reference: [17] <author> Lixia Zhang. </author> <title> A comparison of traffic control algorithms for high-speed networks. </title> <booktitle> In The 2nd Annual Workshop on Very High Speed Networks, Proceedings Supplement, </booktitle> <address> Greenbelt, Maryland, </address> <month> March </month> <year> 1991. </year>
Reference-contexts: However we feel that comparing Leaky Bucket and Virtual Clock is inappropriate since Leaky Bucket is not a service discipline: it just controls the rate of one channel and does not specify the service order of packets from different channels. Another similar study <ref> [17] </ref> compares Virtual Clock, EDD, Stop-and-Go and HRR. It uses TDM as the baseline for comparison and takes a slightly different perspective from ours. 3 Fair Queueing was first proposed in datagram networks.
References-found: 17

