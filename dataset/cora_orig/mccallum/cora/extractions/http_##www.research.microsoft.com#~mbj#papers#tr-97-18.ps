URL: http://www.research.microsoft.com/~mbj/papers/tr-97-18.ps
Refering-URL: http://www.research.microsoft.com/~mbj/papers.html
Root-URL: http://www.research.microsoft.com
Author: Michael B. Jones 
Address: One Microsoft Way Redmond, WA 98052  
Affiliation: Microsoft Research Microsoft Corporation  
Date: July, 1997  
Abstract: The Microsoft Interactive TV System: An Experience Report Technical Report MSR-TR-97-18 
Abstract-found: 1
Intro-found: 1
Reference: [Bolosky et al. 96] <author> William J. Bolosky, Joseph S. Barrera, III, Richard P. Draves, Robert P. Fitzgerald, Garth A. Gibson, Michael B. Jones, Steven P. Levi, Nathan P. Myhrvold, Richard F. Rashid. </author> <title> The Tiger Video Fileserver. </title> <booktitle> In Proceedings of the Sixth International Workshop on Network and Operating System Support for Digital Audio and Video, </booktitle> <address> Zushi, Japan. </address> <publisher> IEEE Computer Society, </publisher> <month> April, </month> <year> 1996. </year>
Reference-contexts: They are running Japanese Windows NT Server 3.51, plus various services specific to interactive TV. Fifteen server machines are used in this trial. The primary head-end services are the Tiger distributed video server <ref> [Bolosky et al. 96, Bolosky et al. 97] </ref>, an extended DHCP server (Dynamic Host Control Protocol, RFC-1531 [IETF 93], an Internet standard for dynamically assigning host IP addresses), the DCOM implementation, the Class Store (which also includes a network boot server), the distributed directory service, OleDB (remote database services), Microsoft SQL <p> It accesses the program guide database from head-end servers using OleDB. 7 7.3 Movies On Demand The Movies On Demand (MOD) application is used to choose, order, and play stored video content on demand. Video data is sourced from Tiger <ref> [Bolosky et al. 96, Bolosky et al. 97] </ref> video servers. VCR-like controls, including pause, fast-forward, and rewind are provided. The time between confirming a video purchase and video play is on the order of two seconds. <p> It accomplishes this balancing by striping file data across all disks and all computers in the distributed Tiger system, and then allocating data streams in a schedule that rotates across the disks. For a more thorough description of Tiger see <ref> [Bolosky et al. 96] </ref> and [Bolosky et al. 97]. The Tiger system deployed in the NTT trial uses one dedicated Tiger controller server and ten dedicated Tiger Cub servers (the machines across which the data are striped).
Reference: [Bolosky et al. 97] <author> William J. Bolosky, Robert P. Fitzgerald, and John R. Douceur. </author> <title> Distributed Schedule Management in the Tiger Video Fileserver. </title> <booktitle> In Proceedings of the 16 th ACM Symposium on Operating Systems Principles, </booktitle> <address> Saint-Malo, France, </address> <month> October, </month> <year> 1997. </year>
Reference-contexts: They are running Japanese Windows NT Server 3.51, plus various services specific to interactive TV. Fifteen server machines are used in this trial. The primary head-end services are the Tiger distributed video server <ref> [Bolosky et al. 96, Bolosky et al. 97] </ref>, an extended DHCP server (Dynamic Host Control Protocol, RFC-1531 [IETF 93], an Internet standard for dynamically assigning host IP addresses), the DCOM implementation, the Class Store (which also includes a network boot server), the distributed directory service, OleDB (remote database services), Microsoft SQL <p> It accesses the program guide database from head-end servers using OleDB. 7 7.3 Movies On Demand The Movies On Demand (MOD) application is used to choose, order, and play stored video content on demand. Video data is sourced from Tiger <ref> [Bolosky et al. 96, Bolosky et al. 97] </ref> video servers. VCR-like controls, including pause, fast-forward, and rewind are provided. The time between confirming a video purchase and video play is on the order of two seconds. <p> It accomplishes this balancing by striping file data across all disks and all computers in the distributed Tiger system, and then allocating data streams in a schedule that rotates across the disks. For a more thorough description of Tiger see [Bolosky et al. 96] and <ref> [Bolosky et al. 97] </ref>. The Tiger system deployed in the NTT trial uses one dedicated Tiger controller server and ten dedicated Tiger Cub servers (the machines across which the data are striped).
Reference: [CCITT 93] <author> CCITT, </author> <title> Draft Recommendation I.363. CCITT Study Group XVIII, </title> <address> Geneva, </address> <month> 19-29 January </month> <year> 1993. </year>
Reference-contexts: they retain a working demonstration installation of the system in Yokosuka. 2.1 Network Client The set-top box is a custom-designed diskless computer using a Pentium processor, a custom video and graphics subsystem including an MPEG-2 [Mitchell et al. 97] audio/video decoder and sprite-based graphics compositing, an Asynchronous Transfer Mode (ATM) <ref> [CCITT 93] </ref> network interface card, and various peripheral devices. The set-top box software uses a small, portable real-time kernel upon which subsets of the Win32, DirectDraw, and DirectSound APIs have been layered. Subsets of the standard Microsoft C/C++ runtime library and Microsoft Foundation Classes (MFC) are provided. <p> The digital broadcast system sends groups of 26 188-byte MPEG transport stream packets in raw ATM AAL-5 <ref> [CCITT 93] </ref> packets. This is the only non-IP-based network component of the NTT system, and is specific to this deployment. 9.3 Connection-Oriented NDIS Windows NT network card drivers have typically been built using the Network Device Interface Standard (NDIS) port/miniport model.
Reference: [Draves et al. 97] <author> Richard P. Draves, Gilad Odinak, Scott M. Cutshall. </author> <title> The Rialto Virtual Memory System. </title> <type> Technical Report MSR-TR-97-04, </type> <institution> Microsoft Research, </institution> <month> February, </month> <year> 1997. </year>
Reference-contexts: Besides meeting the development teams needs, the kernel has also been used for investigating research issues in consumer real-time computing systems. As a research vehicle, the kernel is called Rialto (see [Jones et al. 96], <ref> [Draves et al. 97] </ref>, [Draves & Cutshall 97], and [Jones et al. 97]). In practice, MMOSA and Rialto share a common code base. MMOSA is portable and is designed for both space and time efficiency. Versions run on Mips boards, 486 and Pentium PCs, and our Pentium-based set-top box. <p> MMOSA employs a novel virtual memory architecture that is both space efficient and highly preemptible. It supports address translation, sparse virtual address spaces, memory mapping, pages that are created upon first use in a controlled fashion, and growable kernel thread stacks. See <ref> [Draves et al. 97] </ref> for further discussion of the MMOSA VM architecture.
Reference: [Draves & Cutshall 97] <author> Richard P. Draves and Scott M. Cutshall. </author> <title> Unifying the User and Kernel Environments. </title> <type> Technical Report MSR-TR-97-10, </type> <institution> Microsoft Research, </institution> <month> March, </month> <year> 1997. </year>
Reference-contexts: Besides meeting the development teams needs, the kernel has also been used for investigating research issues in consumer real-time computing systems. As a research vehicle, the kernel is called Rialto (see [Jones et al. 96], [Draves et al. 97], <ref> [Draves & Cutshall 97] </ref>, and [Jones et al. 97]). In practice, MMOSA and Rialto share a common code base. MMOSA is portable and is designed for both space and time efficiency. Versions run on Mips boards, 486 and Pentium PCs, and our Pentium-based set-top box.
Reference: [IETF 80] <author> J. Postel. </author> <title> User Datagram Protocol (UDP). Internet Engineering Task Force Request for Comments (RFC) 768, </title> <month> August </month> <year> 1980. </year> <note> http://ds.internic.net/rfc/rfc768.txt. </note>
Reference-contexts: All data, other than digital broadcast streams, is sent using UDP datagrams <ref> [IETF 80] </ref>. (Broadcast streams for this trial are MPEG-2 encoded in real-time by a separate NTT facility and transmitted directly into the ATM network over a 622Mbit/second OC-12 line using MPEG transport stream packets.) While this trial happens to use an ATM-to-the-home network, it should be noted that the only attributes <p> On non-ATM transports, on which point-to-multipoint connections are not possible, Tiger cubs instead send to intermediate redirector machines that combine inputs from multiple cubs into one output stream. 9.6 Transport-Independent Network Protocols The primary transport-independent network protocol used by MITV is UDP <ref> [IETF 80] </ref>. Distributed services, including remote object invocations, are built using DCE RPC over UDP. Tiger uses custom UDP-based protocols for transmitting video data and for communicating among the Tiger cubs. Set-top box network addresses and other boot-time parameters are obtained via DHCP [IETF 93].
Reference: [IETF 81] <author> J. Postel. </author> <title> Transmission Control Protocol (TCP). Internet Engineering Task Force Request for Comments (RFC) 793, </title> <month> September, </month> <year> 1981. </year> <note> http://ds.internic.net/rfc/rfc793.txt. </note>
Reference-contexts: Set-top box network addresses and other boot-time parameters are obtained via DHCP [IETF 93]. SNMP (Simple Network Management Protocol, RFC 1157 [IETF 90], an Internet host management standard) is used for a few set-top box management functions such as remote rebooting and logging control. TCP <ref> [IETF 81] </ref> is used by Tiger control flows and for set-top box debugging via Telnet shell windows. 10. Set-Top Box Boot Sequence Set-top boxes boot as follows. First, a small boot loader in EPROM is run.
Reference: [IETF 90] <author> J.D. Case, M. Fedor, M.L. Schoffstall, C. Davin. </author> <title> A Simple Network Management Protocol (SNMP). Internet Engineering Task Force Request for Comments (RFC) 1157, </title> <month> May, </month> <year> 1990. </year> <note> http://ds.internic.net/rfc/rfc1157.txt. </note>
Reference-contexts: Tiger uses custom UDP-based protocols for transmitting video data and for communicating among the Tiger cubs. Set-top box network addresses and other boot-time parameters are obtained via DHCP [IETF 93]. SNMP (Simple Network Management Protocol, RFC 1157 <ref> [IETF 90] </ref>, an Internet host management standard) is used for a few set-top box management functions such as remote rebooting and logging control. TCP [IETF 81] is used by Tiger control flows and for set-top box debugging via Telnet shell windows. 10.
Reference: [IETF 92] <author> K. Sollins. </author> <title> Trivial File Transfer Protocol (TFTP). Internet Engineering Task Force Request for Comments (RFC) 1350, </title> <month> July, </month> <year> 1992. </year> <note> http://ds.internic.net/rfc/rfc1350.txt. </note>
Reference-contexts: DHCP is used to assign client machine IP addresses and provide other boot-time information. TFTP (the Internet Trivial File Transfer Protocol, RFC 1350 <ref> [IETF 92] </ref>) is used by the ROM boot code to load a dynamic boot file. Clients of UDP include Video Transport, DCE RPC, the network time service, and SNMP.
Reference: [IETF 93] <author> R. Droms. </author> <title> Dynamic Host Configuration Protocol (DHCP). Internet Engineering Task Force Request for Comments (RFC) 1531, </title> <month> October, </month> <year> 1993. </year> <note> http://ds.internic.net/rfc/rfc1531.txt. </note>
Reference-contexts: Fifteen server machines are used in this trial. The primary head-end services are the Tiger distributed video server [Bolosky et al. 96, Bolosky et al. 97], an extended DHCP server (Dynamic Host Control Protocol, RFC-1531 <ref> [IETF 93] </ref>, an Internet standard for dynamically assigning host IP addresses), the DCOM implementation, the Class Store (which also includes a network boot server), the distributed directory service, OleDB (remote database services), Microsoft SQL Server (a database server), and several services supporting financial transactions. <p> Distributed services, including remote object invocations, are built using DCE RPC over UDP. Tiger uses custom UDP-based protocols for transmitting video data and for communicating among the Tiger cubs. Set-top box network addresses and other boot-time parameters are obtained via DHCP <ref> [IETF 93] </ref>. SNMP (Simple Network Management Protocol, RFC 1157 [IETF 90], an Internet host management standard) is used for a few set-top box management functions such as remote rebooting and logging control.
Reference: [IETF 94] <author> M. Laubach. </author> <title> Classical IP and ARP over ATM. Internet Engineering Task Force Request for Comments (RFC) 1577, </title> <month> January, </month> <year> 1994. </year> <note> http://ds.internic.net/rfc/rfc1577.txt. </note>
Reference-contexts: These interface extensions allow both signaling modules (Call Managers in NDIS 4.1 terms), such as UNI 3.1 (the ATM standard signalling protocol) or SPANS (an earlier proprietary ATM signalling protocol by Fore Systems), and protocol layers, such as IP-over-ATM (IP/ATM, a superset of RFC-1577 <ref> [IETF 94] </ref>) or LAN Emulation, to be provided that are independent of the miniport driver. This frees the network interface card vendor to focus on developing hardware, and allows us to refine our signaling and IP/ATM protocol modules without being constrained to specific hardware.
Reference: [ISO 96] <author> ISO/IEC 9945-1: </author> <title> Information technology Portable Operating System Interface (POSIX) Part 1: System Application Program Interface (API) [C Language], </title> <publisher> IEEE, </publisher> <month> July, </month> <year> 1996. </year>
Reference-contexts: All functions available to user processes are also available in the kernel, allowing code to be developed in user processes and later run in the kernel completely unmodified, if so desired. Synchronization between threads is provided via standard Mutex and Condition Variable objects <ref> [ISO 96] </ref>. They are implemented in such as way as to provide a generalization of priority inheritance [Sha et al. 90], preventing priority inversions from occurring. Adaptive deadline-based real-time scheduling is accomplished using Time Constraints. See [Jones et al. 96] and [Jones et al. 97] for a description.
Reference: [Jones et al. 96] <author> Michael B. Jones, Joseph S. Barrera III, Alessandro Forin, Paul J. Leach, Daniela Rou, Marcel-Ctlin Rou. </author> <title> An Overview of the Rialto Real-Time Architecture. </title> <booktitle> In Proceedings of the Seventh ACM SIGOPS European Workshop, Connemara, Ireland, </booktitle> <pages> pp. 249-256, </pages> <month> September, </month> <year> 1996. </year>
Reference-contexts: MMOSA is the internal name for the ITV kernel: it stands for MultiMedia Operating System Architecture. Besides meeting the development teams needs, the kernel has also been used for investigating research issues in consumer real-time computing systems. As a research vehicle, the kernel is called Rialto (see <ref> [Jones et al. 96] </ref>, [Draves et al. 97], [Draves & Cutshall 97], and [Jones et al. 97]). In practice, MMOSA and Rialto share a common code base. MMOSA is portable and is designed for both space and time efficiency. <p> Synchronization between threads is provided via standard Mutex and Condition Variable objects [ISO 96]. They are implemented in such as way as to provide a generalization of priority inheritance [Sha et al. 90], preventing priority inversions from occurring. Adaptive deadline-based real-time scheduling is accomplished using Time Constraints. See <ref> [Jones et al. 96] </ref> and [Jones et al. 97] for a description. Most services in MMOSA are invoked via object invocation. The kernel directly supports optimized cross-process object invocation, with a null RPC round trip taking 51 microseconds on a 90 MHz Pentium workstation.
Reference: [Jones et al. 97] <author> Michael B. Jones, Daniela Rou, Marcel-Ctlin Rou. </author> <title> CPU Reservations and Time Constraints: Efficient, Predictable Scheduling of Independent Activities. </title> <booktitle> In Proceedings of the 16th ACM Symposium 16 on Operating Systems Principles. </booktitle> <address> Saint-Malo, France, </address> <month> October, </month> <year> 1997. </year>
Reference-contexts: Besides meeting the development teams needs, the kernel has also been used for investigating research issues in consumer real-time computing systems. As a research vehicle, the kernel is called Rialto (see [Jones et al. 96], [Draves et al. 97], [Draves & Cutshall 97], and <ref> [Jones et al. 97] </ref>). In practice, MMOSA and Rialto share a common code base. MMOSA is portable and is designed for both space and time efficiency. Versions run on Mips boards, 486 and Pentium PCs, and our Pentium-based set-top box. <p> They are implemented in such as way as to provide a generalization of priority inheritance [Sha et al. 90], preventing priority inversions from occurring. Adaptive deadline-based real-time scheduling is accomplished using Time Constraints. See [Jones et al. 96] and <ref> [Jones et al. 97] </ref> for a description. Most services in MMOSA are invoked via object invocation. The kernel directly supports optimized cross-process object invocation, with a null RPC round trip taking 51 microseconds on a 90 MHz Pentium workstation.
Reference: [Korn & Krell 90] <author> David G. Korn and Eduardo Krell. </author> <title> A New Dimension for the Unix File System. </title> <journal> Software Practice and Experience. </journal> <volume> 20(S1):19-34, </volume> <month> June, </month> <year> 1990. </year>
Reference-contexts: The directory service allows multiple namespaces to be mounted under junction points, providing a basis for locating fault-tolerant replicated servers. (Junction points are similar to the union directories used in the 3D Filesystem <ref> [Korn & Krell 90] </ref> and the Translucent Filesystem [Hendricks 90].) Namespace replication was used in a similar way in the Time-Warner Orlando trial [Nelson et al. 95]. General COM objects can be registered at any point in the namespace.
Reference: [Hendricks 90] <author> David Hendricks. </author> <title> A Filesystem For Software Development. </title> <booktitle> In Summer USENIX Conference Proceedings, </booktitle> <pages> pp. 333-340. </pages> <month> June, </month> <year> 1990. </year>
Reference-contexts: The directory service allows multiple namespaces to be mounted under junction points, providing a basis for locating fault-tolerant replicated servers. (Junction points are similar to the union directories used in the 3D Filesystem [Korn & Krell 90] and the Translucent Filesystem <ref> [Hendricks 90] </ref>.) Namespace replication was used in a similar way in the Time-Warner Orlando trial [Nelson et al. 95]. General COM objects can be registered at any point in the namespace.
Reference: [Laursen et al. 94] <author> Andrew Laursen, Jeffrey Olkin, Mark Porter. </author> <title> Oracle Media Server: Providing Consumer Based Interactive Access to Multimedia Data. </title> <booktitle> In Proceedings of the 1994 ACM SIGMOD International Conference on Management of Data, </booktitle> <address> Minneapolis, MN, </address> <pages> pp. 470-477. </pages> <month> May, </month> <year> 1994. </year>
Reference-contexts: Both cable TV operators and telephone companies envisioned the possibility of providing a wide new range of compelling content, increasing their revenue bases and allowing them to create and enter new businesses, particularly once widely anticipated telecommunications deregulation occurred. Microsoft, as did others such as Oracle <ref> [Laursen et al. 94] </ref> and Silicon Graphics [Nelson et al. 95], saw interactive television (ITV) as a new kind of software platform, potentially outnumbering the PC if successful. Thus, we set out to develop a compelling ITV system.
Reference: [SETCo 97] <editor> Secure Electronic Transactions Specification. </editor> <title> SET Secure Electronic Transaction LLC, </title> <note> 1997. Available from http://www.setco.org/. Also see http://www.visa.com/set/ and http://www.mastercard.com/set/. </note>
Reference-contexts: It constructs the intersection of the set of payment methods accepted by the merchant and available to the customer, lets the customer choose a payment method, and then authorizes the transaction. Purchases are made using journalled, signed digital certificates, using an STT/SET-like protocol. (STT and SET <ref> [SETCo 97] </ref> are industry-standard electronic payment protocols.) This provides for non-repudiation of confirmed transactions. Financial transactions are discussed more in section 8.5. 6.6 Clockwork Clockwork is the modular multimedia stream control architecture used for processing and synchronizing continuous media streams. Streams are processed using active special-purpose filters.
Reference: [Microsoft 94] <author> OLE2 Programmers Reference, </author> <title> Volume One. </title> <publisher> Microsoft Press, </publisher> <year> 1994. </year>
Reference-contexts: A DCE RPC (a remote procedure call standard from the Open Software Foundations Distributed Computing Environment) implementation is present for communicating with remote services, and is used for implementing the DCOM distributed object facility and a distributed namespace. (COM <ref> [Microsoft 94] </ref>, the Component Object Model, is the object model underlying OLE2. <p> Controls implemented include buttons, spin dials, list boxes, a grid control, a progress indicator, edit boxes, and an audio/video control (in which video is displayed). 6.4 COM and Distributed Systems Support By mid 1993 the decision had been made to use a Distributed Component Object Model (DCOM) <ref> [Microsoft 94] </ref> framework as a basis for building a reliable, scalable distributed interactive television system. This decision allows for location-transparent object invocation, as is fitting for an environment with both diskless and stateful computing nodes.
Reference: [Mitchell et al. 97] <author> Joan L. Mitchell, William B. Pennebaker, Chad E. Fogg, Didier J. LeGall. </author> <title> MPEG Video Compression Standard. Digital Multimedia Standards Series, </title> <editor> J. L. Mitchell and W. B. Pennebaker, Editors. </editor> <publisher> Chapman and Hall, </publisher> <address> New York, </address> <year> 1997. </year>
Reference-contexts: Online shopping services. While NTTs consumer interactive television trial concluded in April, 1997, they retain a working demonstration installation of the system in Yokosuka. 2.1 Network Client The set-top box is a custom-designed diskless computer using a Pentium processor, a custom video and graphics subsystem including an MPEG-2 <ref> [Mitchell et al. 97] </ref> audio/video decoder and sprite-based graphics compositing, an Asynchronous Transfer Mode (ATM) [CCITT 93] network interface card, and various peripheral devices. The set-top box software uses a small, portable real-time kernel upon which subsets of the Win32, DirectDraw, and DirectSound APIs have been layered.
Reference: [Nelson et al. 95] <author> Michael N. Nelson, Mark Linton, Susan Owicki. </author> <title> A Highly Available, Scalable ITV System. </title> <booktitle> In Proceedings of the 15th ACM Symposium on Operating Systems Principles, </booktitle> <address> Copper Mountain, </address> <publisher> CO, </publisher> <pages> pp. 54-67. </pages> <month> December, </month> <year> 1995. </year>
Reference-contexts: Microsoft, as did others such as Oracle [Laursen et al. 94] and Silicon Graphics <ref> [Nelson et al. 95] </ref>, saw interactive television (ITV) as a new kind of software platform, potentially outnumbering the PC if successful. Thus, we set out to develop a compelling ITV system. Key properties that we wanted the resulting system to have were: Open, peer-to-peer communication architecture. Transport media independence. <p> to be mounted under junction points, providing a basis for locating fault-tolerant replicated servers. (Junction points are similar to the union directories used in the 3D Filesystem [Korn & Krell 90] and the Translucent Filesystem [Hendricks 90].) Namespace replication was used in a similar way in the Time-Warner Orlando trial <ref> [Nelson et al. 95] </ref>. General COM objects can be registered at any point in the namespace.
Reference: [Sha et al. 90] <author> L. Sha, R. Rajkumar, and John Lehoczky. </author> <title> Priority Inheritance Protocols: An Approach to Real-time Synchronization. </title> <journal> In IEEE Transactions on Computers, </journal> <volume> vol. 39, no. 3, </volume> <pages> pp. 1175-1198, </pages> <year> 1990. </year>
Reference-contexts: Synchronization between threads is provided via standard Mutex and Condition Variable objects [ISO 96]. They are implemented in such as way as to provide a generalization of priority inheritance <ref> [Sha et al. 90] </ref>, preventing priority inversions from occurring. Adaptive deadline-based real-time scheduling is accomplished using Time Constraints. See [Jones et al. 96] and [Jones et al. 97] for a description. Most services in MMOSA are invoked via object invocation.
Reference: [Unicode 91] <editor> The Unicode Standard: </editor> <title> Worldwide Character Encoding. Unicode Consortium, </title> <address> Reading, MA, </address> <year> 1991. </year>
Reference-contexts: Clients of UDP include Video Transport, DCE RPC, the network time service, and SNMP. TCP is also used. 3 2.4 Other System Attributes All textual data in the ITV system is represented using 16-bit Unicode <ref> [Unicode 91] </ref> characters, both on the head-end servers and on the client machines.
References-found: 23

