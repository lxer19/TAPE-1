URL: http://glen.lcs.mit.edu/~devadas/pubs/sequnify.ps
Refering-URL: http://glen.lcs.mit.edu/~devadas/pubs/low-power.html
Root-URL: 
Title: Exact and Approximate Methods of Switching Activity Estimation in Sequential Logic Circuits  
Author: Chi-Ying Tsui Jose Monteiro Massoud Pedram Alvin M. Despain Srinivas Devadas Bill Lin 
Abstract: Recently developed methods for power estimation have primarily focused on combinational logic. In this paper, we present a framework for the efficient and accurate estimation of average power dissipation in sequential circuits. Switching activity is the primary cause of power dissipation in CMOS circuits. Accurate, average switching activity estimation for sequential circuits is considerably more difficult than for combinational circuits, because the probability of the circuit being in each of its possible states has to be calculated. The Chapman-Kolmogorov equations can be used to accurately estimate the power dissipation of sequential circuits by computing the exact state probabilities in steady state. However, the Chapman-Kolmogorov method requires the solution of a linear system of equations of size 2 N , where N is the number of flip-flops in the machine. We describe a comprehensive framework for exact and approximate switching activity estimation in this paper. The basic computation step is the solution of a non-linear system of equations. Increasing the number of variables or the number of equations in the system results in increased accuracy. For a wide variety of examples, we show that the approximation scheme is within 1 3% of the exact method, but is orders of magnitude faster for large circuits. Previous J. Monteiro and S. Devadas were supported in part by the Defense Advanced Research Projects Agency under contract N00014-91-J-1698 and in part by a NSF Young Investigator Award with matching funds from Mitsubishi and IBM Corporation. C-Y. Tsui, M. Pedram and A. Despain are with the Department of Electrical Engineering at the University of Southern California. J. Monteiro and S. Devadas are with the Department of Electrical Engineering and Computer Science at the Mas-sachusetts Institute of Technology, Cambridge. B. Lin is with IMEC, Belgium. sequential switching activity estimation methods can have significantly greater inaccuracies.
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> R. Bryant. </author> <title> Graph-Based Algorithms for Boolean Function Manipulation. </title> <journal> IEEE Transactions on Computers, </journal> <volume> C-35(8):677-691, </volume> <month> August </month> <year> 1986. </year>
Reference-contexts: transition occurring between time t + 1 and t + 2 given the transition probabilities at the primary inputs is the probability of the Boolean function f i (t + 1) f i (t + 2) evaluating to a 1. (This probability can be evaluated exactly using Binary Decision Diagrams <ref> [1] </ref> or approximately using Monte Carlo simulation.) For each gate, probabilities of transitions occurring at any time point can be evaluated efficiently, and these probabilities are summed over all the time points to obtain the average switching activity (at each gate). 5 Next State Logic . . <p> There exist several methods to evaluate signal probability. An exact method corresponds to using ordered Binary Decision Diagrams (OBDD's) <ref> [1] </ref>. If an OBDD can be created for f i , then prob (f i ) can be evaluated in linear time in the size of the OBDD for f i . OBDD's can be cofactored in linear time, allowing for the efficient evaluation of the Jacobian entries.
Reference: [2] <author> R. Burch, F. Najm, P. Yang, and T. </author> <title> Trick. McPOWER: A Monte Carlo Approach to Power Estimation. </title> <booktitle> In Proceedings of the Int'l Conference on Computer-Aided Design, </booktitle> <pages> pages 90-97, </pages> <month> November </month> <year> 1992. </year> <month> 23 </month>
Reference-contexts: However, once these architectural or technological improvements have been made, it is the switching of the logic that will ultimately determine its power dissipation. Methods for the power estimation of logic-level combinational circuits based on switching activity estimation (e.g. <ref> [2] </ref>, [4], [8], [11]) have been presented previously. Power and switching activity estimation for sequential circuits is significantly more difficult, because the probability of the circuit being in any of its possible states has to be computed. Given a circuit with N flip-flops, there are 2 N possible states.
Reference: [3] <author> A. Chandrakasan, T. Sheng, and R. W. Brodersen. </author> <title> Low Power CMOS Digital Design. </title> <journal> In Journal of Solid State Circuits, </journal> <pages> pages 473-484, </pages> <month> April </month> <year> 1992. </year>
Reference-contexts: The average power dissipation of a circuit, like its area or speed, may be significantly improved by changing the architecture or the technology of the circuit <ref> [3] </ref>. However, once these architectural or technological improvements have been made, it is the switching of the logic that will ultimately determine its power dissipation. Methods for the power estimation of logic-level combinational circuits based on switching activity estimation (e.g. [2], [4], [8], [11]) have been presented previously.
Reference: [4] <author> A. Ghosh, S. Devadas, K. Keutzer, and J. White. </author> <title> Estimation of Average Switching Activity in Combinational and Sequential Circuits. </title> <booktitle> In Proceedings of the 29 th Design Automation Conference, </booktitle> <pages> pages 253-259, </pages> <month> June </month> <year> 1992. </year>
Reference-contexts: However, once these architectural or technological improvements have been made, it is the switching of the logic that will ultimately determine its power dissipation. Methods for the power estimation of logic-level combinational circuits based on switching activity estimation (e.g. [2], <ref> [4] </ref>, [8], [11]) have been presented previously. Power and switching activity estimation for sequential circuits is significantly more difficult, because the probability of the circuit being in any of its possible states has to be computed. Given a circuit with N flip-flops, there are 2 N possible states. <p> This correlation between the applied vector pairs has to be taken into account in accurate sequential switching activity estimation. A first attempt at estimating switching activity in logic-level sequential circuits has been presented in <ref> [4] </ref>. This method can accurately model the correlation between the applied vector pairs, but assumes that the state probabilities are all uniform. Extensions of this method can produce accurate estimates for acyclic sequential circuits such as pipelines, but not for more general cyclic circuits [7]. <p> Previous sequential switching activity estimation methods can have significantly greater inaccuracies. The rest of this paper is organized as follows. In Section 2 we briefly review the physical model for power estimation, and summarize the combinational estimation method of <ref> [4] </ref>. In Section 3, we describe an exact switching activity estimation method for sequential circuits. In Section 4, we first provide the basis for the approximation schemes we have developed, and formulate the problem of estimating switching activity as that of solving a non-linear system of equations. <p> All of the parameters in (1) can be determined from technology or circuit layout information except E (transitions), which depends on the logic function being performed and the statistical properties of the primary inputs. Eq. (1) is used by the power estimation techniques such as <ref> [4, 8] </ref> to relate switching activity to power dissipation. 2.2 Combinational Circuits Average power can be estimated for combinational circuits by computing the average switching activity at every gate in the circuit. It is assumed that we are given transition probabilities at each of the primary inputs to the circuit. <p> Given these probabilities, the average switching activity at each gate in the circuit can be calculated. A symbolic simulation method that performs this computation was given in <ref> [4] </ref>. Under the chosen gate delay model, the method first constructs a Boolean function representing the logical value at any gate output at each time point t based on the primary input variables I0 applied at time 0 and It applied at time t. <p> Therefore, to compute gate output transition probabilities, we require the transition probabilities for the primary input lines, and the static probabilities for the present state. This configuration was originally 6 proposed in <ref> [4] </ref>. 3.2 State Probability Computation The static probabilities for the present state lines marked P S in Figure 3 are also correlated. We require knowledge of present state probabilities as opposed to present state line (P S) probabilities. <p> The average error 3 in the power dissipation measures obtained using the line probability approximation over all the circuits was only 2:8%. The maximum error for any one example was 7:3%. Assuming uniform line probabilities of 0:5 as in <ref> [4] </ref> results in significant errors of over 40% for some examples. The above experiment leads us to conclude that if accurate line probabilities can be determined then using line probabilities rather than state probabilities is a viable alternative. <p> However, it is not viable for datapath circuits. * Purely combinational logic estimates result in significant inaccuracies. * Assuming uniform probabilities for the present state line probabilities and state probabilities as in <ref> [4] </ref> can result in significant inaccuracies in power estimates. * Computing the present state line probabilities using the technique presented in the previous sections results in accurate, robust and computationally efficient methods for sequential power estimation. In Table 1, results are presented for several circuits. <p> In Table 1, results are presented for several circuits. In the table, combinational corresponds to the purely combinational estimation method of <ref> [4] </ref> and uniform-prob corresponds to the sequential estimation method of [4] that assumes uniform state probabilities. The column line-prob corresponds to the technique of Section 4 and using the Newton-Raphson method to solve the equations. These equations correspond to k = 0 or m = 1. <p> In Table 1, results are presented for several circuits. In the table, combinational corresponds to the purely combinational estimation method of <ref> [4] </ref> and uniform-prob corresponds to the sequential estimation method of [4] that assumes uniform state probabilities. The column line-prob corresponds to the technique of Section 4 and using the Newton-Raphson method to solve the equations. These equations correspond to k = 0 or m = 1. Finally, state-prob corresponds to the exact state probability calculation method of Section 3.
Reference: [5] <author> L. Glasser and D. Dobberpuhl. </author> <title> The Design and Analysis of VLSI Circuits. </title> <publisher> Addison-Wesley, </publisher> <year> 1985. </year>
Reference-contexts: All of these are reasonably accurate assumptions for well-designed CMOS gates <ref> [5] </ref>, and when combined imply that the energy dissipated by a CMOS logic gate each time its output changes is roughly equal to the change in energy stored in the gate's output capacitance.
Reference: [6] <author> H. M. Lieberstein. </author> <title> A Course in Numerical Analysis. </title> <publisher> Harper & Row Publishers, </publisher> <year> 1968. </year>
Reference-contexts: We describe these methods in Section 7.3. Theorem 7.1 <ref> [6] </ref> If G is contractive, i.e., j @g i @p j j &lt; 1, for all i, j, then the Picard-Peano iteration method converges at least linearly to a unique solution P fl . 15 Theorem 7.2 g i is contractive on the domain [0,1]. Proof.
Reference: [7] <author> J. Monteiro, S. Devadas, and A. Ghosh. </author> <title> Retiming Sequential Circuits for Low Power. </title> <booktitle> In Proceedings of the Int'l Conference on Computer-Aided Design, </booktitle> <pages> pages 398-402, </pages> <month> November </month> <year> 1993. </year>
Reference-contexts: This method can accurately model the correlation between the applied vector pairs, but assumes that the state probabilities are all uniform. Extensions of this method can produce accurate estimates for acyclic sequential circuits such as pipelines, but not for more general cyclic circuits <ref> [7] </ref>. In this paper, we present results obtained by using the Chapman-Kolmogorov equations for discrete-time Markov Chains [10] to compute the exact state probabilities of the machine. <p> For pipelined circuits, exact power estimation is possible without resort to Chapman-Kolmogorov equation solving <ref> [7] </ref>. The fourth set to mixed datapath/control circuits from the ISCAS-89 benchmark set.
Reference: [8] <author> F. Najm. </author> <title> Transition Density, A Stochastic Measure of Activity in Digital Circuits. </title> <booktitle> In Proceedings of the 28 th Design Automation Conference, </booktitle> <pages> pages 644-649, </pages> <month> June </month> <year> 1991. </year>
Reference-contexts: However, once these architectural or technological improvements have been made, it is the switching of the logic that will ultimately determine its power dissipation. Methods for the power estimation of logic-level combinational circuits based on switching activity estimation (e.g. [2], [4], <ref> [8] </ref>, [11]) have been presented previously. Power and switching activity estimation for sequential circuits is significantly more difficult, because the probability of the circuit being in any of its possible states has to be computed. Given a circuit with N flip-flops, there are 2 N possible states. <p> cyc ) fi E (transitions) (1) where P avg denotes the average power, C load is the load capacitance, V dd is the supply voltage, T cyc is the global clock period, and E (transitions) is the expected value of the number of gate output transitions per global clock cycle <ref> [8] </ref>, or equivalently the average number of gate output transitions per clock cycle. All of the parameters in (1) can be determined from technology or circuit layout information except E (transitions), which depends on the logic function being performed and the statistical properties of the primary inputs. <p> All of the parameters in (1) can be determined from technology or circuit layout information except E (transitions), which depends on the logic function being performed and the statistical properties of the primary inputs. Eq. (1) is used by the power estimation techniques such as <ref> [4, 8] </ref> to relate switching activity to power dissipation. 2.2 Combinational Circuits Average power can be estimated for combinational circuits by computing the average switching activity at every gate in the circuit. It is assumed that we are given transition probabilities at each of the primary inputs to the circuit.
Reference: [9] <author> J. M. Ortega and W. C. Rheinboldt. </author> <title> Iterative Solution of Nonlinear Equations in Several Variables. </title> <publisher> Academic Press, Inc., </publisher> <address> Boston, MA, </address> <year> 1970. </year>
Reference-contexts: Theorem 7.3 <ref> [9] </ref> The Newton iterates: P k+1 = P k J (P k ) Y (P k ); k = 0; 1; : : : ; are well-defined and converge to a solution P fl of Y (P ) = 0 if the following conditions are satisfied: 1.
Reference: [10] <author> A. Papoulis. </author> <title> Probability, Random Variables and Stochastic Processes. </title> <publisher> McGraw-Hill, </publisher> <address> 3 rd edition, </address> <year> 1991. </year>
Reference-contexts: Extensions of this method can produce accurate estimates for acyclic sequential circuits such as pipelines, but not for more general cyclic circuits [7]. In this paper, we present results obtained by using the Chapman-Kolmogorov equations for discrete-time Markov Chains <ref> [10] </ref> to compute the exact state probabilities of the machine. The Chapman-Kolmogorov method requires the solution of a linear system of equations of size 2 N , where N is the number of flip-flops in the machine. <p> We require knowledge of present state probabilities as opposed to present state line (P S) probabilities. The state probabilities are dependent on the connectivity of the State Transition Graph (STG) of the circuit. These state probabilities can be computed using the Chapman-Kolmogorov equations for discrete-time Markov Chains <ref> [10] </ref>. We describe the method below. For each state s i ; 1 i K in the STG, we associate a variable prob (s i ) corresponding to the steady-state probability of the machine being in state s i at t = 1. <p> We have: ns i;i+1 [11] = ns i ^ ns i+1 = f i ^ f i+1 ns i;i+1 [01] = ns i ^ ns i+1 = f i ^ f i+1 We have to solve for prob (ns i;i+1 [11]), prob (ns i;i+1 <ref> [10] </ref>), and prob (ns i;i+1 [01]) (rather than prob (ns i ) and prob (ns i+1 ) as in the case of m = 1). We use: prob (ps i ^ ps i+1 ) = prob (ns i;i+1 [11]) prob (ps i ^ ps i+1 ) = prob (ns i;i+1 [10]) <p> <ref> [10] </ref>), and prob (ns i;i+1 [01]) (rather than prob (ns i ) and prob (ns i+1 ) as in the case of m = 1). We use: prob (ps i ^ ps i+1 ) = prob (ns i;i+1 [11]) prob (ps i ^ ps i+1 ) = prob (ns i;i+1 [10]) prob (ps i ^ ps i+1 ) = prob (ns i;i+1 [01]) in the evaluation of the prob (f i )'s. The signal probability evaluation methods of Section 7.3 can be easily augmented to use the above probabilities.
Reference: [11] <author> C. Y. Tsui, M. Pedram, and A. Despain. </author> <title> Efficient Estimation of Dynamic Power Dissipation under a Real Delay Model. </title> <booktitle> In Proceedings of the Int'l Conference on Computer-Aided Design, </booktitle> <pages> pages 224-228, </pages> <month> Nov </month> <year> 1993. </year> <month> 24 </month>
Reference-contexts: However, once these architectural or technological improvements have been made, it is the switching of the logic that will ultimately determine its power dissipation. Methods for the power estimation of logic-level combinational circuits based on switching activity estimation (e.g. [2], [4], [8], <ref> [11] </ref>) have been presented previously. Power and switching activity estimation for sequential circuits is significantly more difficult, because the probability of the circuit being in any of its possible states has to be computed. Given a circuit with N flip-flops, there are 2 N possible states. <p> It is possible to take multiple cycles of correlation into account by prepending the symbolic simulation equations with the k-unrolled network. This is illustrated in Figure 5 (b). Instead of 13 Next State Logic . . PS n . NS 1 . PS 2 NS 1,2 <ref> [11] </ref> NS 1,2 [01] connecting the next static logic network to the symbolic simulation equations, we unroll the next static logic network k times and connect the next state lines of the k th stage of the unrolled network, the next state lines of the k 1 th stage, and the <p> This method models the correlation between m-tuples of present state lines. The method is pictorially illustrated in Figure 6 for m = 2. The number of equations in the case of m = 2 is 3N 2 . We have: ns i;i+1 <ref> [11] </ref> = ns i ^ ns i+1 = f i ^ f i+1 ns i;i+1 [01] = ns i ^ ns i+1 = f i ^ f i+1 We have to solve for prob (ns i;i+1 [11]), prob (ns i;i+1 [10]), and prob (ns i;i+1 [01]) (rather than prob (ns i <p> We have: ns i;i+1 <ref> [11] </ref> = ns i ^ ns i+1 = f i ^ f i+1 ns i;i+1 [01] = ns i ^ ns i+1 = f i ^ f i+1 We have to solve for prob (ns i;i+1 [11]), prob (ns i;i+1 [10]), and prob (ns i;i+1 [01]) (rather than prob (ns i ) and prob (ns i+1 ) as in the case of m = 1). We use: prob (ps i ^ ps i+1 ) = prob (ns i;i+1 [11]) prob (ps i ^ ps i+1 ) = <p> We have to solve for prob (ns i;i+1 <ref> [11] </ref>), prob (ns i;i+1 [10]), and prob (ns i;i+1 [01]) (rather than prob (ns i ) and prob (ns i+1 ) as in the case of m = 1). We use: prob (ps i ^ ps i+1 ) = prob (ns i;i+1 [11]) prob (ps i ^ ps i+1 ) = prob (ns i;i+1 [10]) prob (ps i ^ ps i+1 ) = prob (ns i;i+1 [01]) in the evaluation of the prob (f i )'s.
References-found: 11

