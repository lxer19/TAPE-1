URL: ftp://ftp.eecs.umich.edu/groups/gasm/meta.ps
Refering-URL: http://www.eecs.umich.edu/gasm/papers.html
Root-URL: http://www.eecs.umich.edu
Title: Metafinite Model Theory  
Author: Erich Gradel Yuri Gurevich 
Note: Contents  
Date: February 17, 1997  
Abstract: Motivated by computer science challenges, we suggest to extend the approach and methods of finite model theory beyond finite structures. We study definability issues and their relation to complexity on metafinite structures which typically consist of (i) a primary part, which is a finite structure, (ii) a secondary part, which is a (usually infinite) structure that can be viewed as a structured domain of numerical objects, and (iii) a set of "weight" functions from the first part into the second. We discuss model-theoretic properties of metafinite structures, present results on descriptive complexity, and sketch some potential applications. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> S. Abiteboul, R. Hull and V. Vianu, </author> <title> Foundations of Databases, </title> <publisher> Addison Wesley (1994). </publisher>
Reference-contexts: Databases. To explain the challenge of going beyond finite models and integrating structures and numbers, we first look at database theory, a particularly important area for such an approach. We refer to the books <ref> [1, 58] </ref> and the survey article [41] for background on database theory. 2 The common practice of viewing (a state of ) a relational database as a finite structure is not always adequate; we are not the first to say that (see Sect. 1.4 in this connection). <p> Note that we can also consider unreliable metafinite databases. This gives examples where the secondary part has itself several sorts, namely one or more sorts for the numbers appearing in the database, and one sort over the real interval <ref> [0; 1] </ref> for the error probabilities. Computations over the real numbers. Blum, Shub, and Smale [10] introduced a model for computations over the real numbers (and other mathematical structures as well) which is now usually called a BSS machine. <p> They partially compensate for the limited access to the secondary part and greatly enhance the expressive power of the logics that we consider. We also believe that they provide the right logical formalism for the aggregate operators used in real-life database query languages (see e.g. <ref> [1, Chapter 7.3: "Confronting the Real World"] </ref>). 3.3 An excursion: reliability of database queries We present here a more elaborate example for the use of multiset operations that addresses the issue of fault tolerance of relational queries mentioned in Sect. 1.3. Definition 3.5. <p> We show this by means of an example (that uses the axiom of choice and the continuum hypothesis). Proposition 6.1. Let R = (R; 0; 1; 1 2 ; +; ; ); where R is the real interval <ref> [0; 1] </ref> and + is addition modulo 1. Let a = ?; w = fcg where c is nullary. Then, even for n = 1 and all k 0, there is no probability distribution on [0; 1] under which every sentence of L k 1! defines a measurable subset of S <p> (R; 0; 1; 1 2 ; +; ; ); where R is the real interval <ref> [0; 1] </ref> and + is addition modulo 1. Let a = ?; w = fcg where c is nullary. Then, even for n = 1 and all k 0, there is no probability distribution on [0; 1] under which every sentence of L k 1! defines a measurable subset of S n and every singleton has probability 0. Proof. It is known that, on the basis of the axiom of choice and the continuum hypothesis, there exists no probability distribution on [0; 1], giving probability 0 <p> no probability distribution on <ref> [0; 1] </ref> under which every sentence of L k 1! defines a measurable subset of S n and every singleton has probability 0. Proof. It is known that, on the basis of the axiom of choice and the continuum hypothesis, there exists no probability distribution on [0; 1], giving probability 0 to singletons, such that all subsets of [0; 1] are measurable. It therefore suffices to show that for every set X [0; 1] there exists a sentence X 2 L k 1! such that for every structure D 2 M [R] D j= X if and <p> Proof. It is known that, on the basis of the axiom of choice and the continuum hypothesis, there exists no probability distribution on <ref> [0; 1] </ref>, giving probability 0 to singletons, such that all subsets of [0; 1] are measurable. It therefore suffices to show that for every set X [0; 1] there exists a sentence X 2 L k 1! such that for every structure D 2 M [R] D j= X if and only if c D 2 X: 44 Every real number r 2 <p> Proof. It is known that, on the basis of the axiom of choice and the continuum hypothesis, there exists no probability distribution on <ref> [0; 1] </ref>, giving probability 0 to singletons, such that all subsets of [0; 1] are measurable. It therefore suffices to show that for every set X [0; 1] there exists a sentence X 2 L k 1! such that for every structure D 2 M [R] D j= X if and only if c D 2 X: 44 Every real number r 2 [0; 1] can be approximated by sequences (a n ) n2! and (b n <p> It therefore suffices to show that for every set X <ref> [0; 1] </ref> there exists a sentence X 2 L k 1! such that for every structure D 2 M [R] D j= X if and only if c D 2 X: 44 Every real number r 2 [0; 1] can be approximated by sequences (a n ) n2! and (b n ) n2! of dyadic rational numbers (i.e. rationals whose denominators are powers of two) such that a n r b n and n!1 n!1 Every dyadic rational in [0; 1] is representable by a basic weight term <p> 2 X: 44 Every real number r 2 <ref> [0; 1] </ref> can be approximated by sequences (a n ) n2! and (b n ) n2! of dyadic rational numbers (i.e. rationals whose denominators are powers of two) such that a n r b n and n!1 n!1 Every dyadic rational in [0; 1] is representable by a basic weight term in our language. <p> We write FO for first-order logic in the classical sense, and FO fl for its extension to first-order logic of metafinite structures. One unary weight function into an uncountable linear order. Let R = (<ref> [0; 1] </ref>; &lt; ) with the uniform (Lebesgue) measure on [0; 1], let a be an arbitrary finite relational vocabulary and let w = fwg with w unary.
Reference: [2] <author> S. Abiteboul and V. Vianu, </author> <title> Generic Computation and Its Complexity, </title> <booktitle> Proceedings of 23rd ACM Symposium on Theory of Computing (1991), </booktitle> <pages> 209-219. 50 </pages>
Reference-contexts: The first such invariants were found by Abiteboul and Vianu <ref> [2] </ref>. They were formulated in terms of computability by relational machines rather than L k 1! -definability, but the notions are very closely related.
Reference: [3] <author> L. Adleman and K. Manders, </author> <title> Computational complexity of decision problems for polynomials, </title> <booktitle> Proceedings of 16th IEEE Symposium on Foundations of Computer Science (1975), </booktitle> <pages> 169-177. </pages>
Reference-contexts: It is not difficult to prove that every polynomially bounded metafinite spectrum is in NP, i.e. that (ii) implies (i). The other direction is related to a conjecture of Adleman and Manders concerning the notion of Diophantine complexity (see <ref> [3, 4, 33, 39, 43, 46] </ref>).
Reference: [4] <author> L. Adleman and K. Manders, </author> <title> Diophantine Complexity, </title> <booktitle> Proceedings of 17th IEEE Symposium on Foundations of Computer Science (1976), </booktitle> <pages> 81-88. </pages>
Reference-contexts: It is not difficult to prove that every polynomially bounded metafinite spectrum is in NP, i.e. that (ii) implies (i). The other direction is related to a conjecture of Adleman and Manders concerning the notion of Diophantine complexity (see <ref> [3, 4, 33, 39, 43, 46] </ref>).
Reference: [5] <author> S. Arora, C. Lund, R. Motwani, M. Sudan and M. Szegedy, </author> <title> Proof verification and intractability of approximation problems, </title> <booktitle> Proceedings of 33rd IEEE Symposium on Foundations of Computer Science (1992), </booktitle> <pages> 210-214. </pages>
Reference-contexts: The work of Papadimitriou and Yannakakis, together with other developments in complexity theory, led to spectacular non-approximability results. In particular, the characterization of NP in terms of probabilistically checkable proofs, obtained by Arora et. al. <ref> [5] </ref>, implies that no Max Snp-hard problem can have a polynomial-time approximation scheme, unless P = NP. Many practical optimization problems take inputs which are structures with weights, e.g. graphs with one or more weight functions assigning numbers to vertices or edges.
Reference: [6] <author> J. Barwise, </author> <title> On Moschovakis closure ordinals, </title> <journal> Journal of Symbolic Logic 42 (1977), </journal> <pages> 292-296. </pages>
Reference-contexts: One of the reasons why these logics are important is that C ! 1! is an extension of fixed point logic with counting (FP + C). Equivalence with respect to L k 1! has an elegant characterization in terms of the k-pebble game <ref> [6, 34, 52] </ref>, an infinitary variant of Ehrenfeucht-Fraisse games. There is a similar pebble game appropriate to C k 1! [38]. It is played by two players, I and II, on two structures A and B of the same relational signature. They have k pairs of pebbles.
Reference: [7] <author> E. Borger, E. Gradel and Y. Gurevich, </author> <title> The Classical Decision Problem, </title> <publisher> Springer 1997. </publisher>
Reference-contexts: We refer to the survey articles [21, 28, 36, 37], to Chapter 6 in [19] and Chapter 2.3 in <ref> [7] </ref> for background on descriptive complexity. Here we investigate generalizations of these results in the realm of metafinite structures. For simplicity, we focus on arithmetical structures; we also mention R-structures but refer to [23] for proofs.
Reference: [8] <author> O. Belegradek, A. Stolboushkin and M. Taitslin, </author> <note> Extended order-generic queries, preprint 1996. </note>
Reference-contexts: Complexity issues for such query languages are addressed in [42], and it has been shown that although the decision problem of the underlying mathematical theory may have exponential complexity, the resulting constraint query languages admit efficient evaluation algorithms. In this context we refer to <ref> [8, 9, 26, 56] </ref> for further model theoretic results on finitely representable databases. Kabanza, Stevenne and Wolper [40] present an extension of the relational database model for reasoning abount infinite temporal data.
Reference: [9] <author> M. Benedikt, G. Dong, L. Libkin and L. Wong, </author> <title> Relational expressive power of constraint query languages Proc. </title> <booktitle> 15th ACM Symp. on Principles of Database Systems PODS (1996), </booktitle> <pages> 5-16. </pages>
Reference-contexts: Complexity issues for such query languages are addressed in [42], and it has been shown that although the decision problem of the underlying mathematical theory may have exponential complexity, the resulting constraint query languages admit efficient evaluation algorithms. In this context we refer to <ref> [8, 9, 26, 56] </ref> for further model theoretic results on finitely representable databases. Kabanza, Stevenne and Wolper [40] present an extension of the relational database model for reasoning abount infinite temporal data.
Reference: [10] <author> L. Blum, M. Shub, S. Smale, </author> <title> On a theory of computation and complexity over the real numbers: NP-completeness, recursive functions and universal machines, </title> <journal> Bull. Amer. Math. </journal> <month> Soc.21 </month> <year> (1989), </year> <pages> 1-46. </pages>
Reference-contexts: This gives examples where the secondary part has itself several sorts, namely one or more sorts for the numbers appearing in the database, and one sort over the real interval [0; 1] for the error probabilities. Computations over the real numbers. Blum, Shub, and Smale <ref> [10] </ref> introduced a model for computations over the real numbers (and other mathematical structures as well) which is now usually called a BSS machine.
Reference: [11] <author> E. Borger, </author> <title> Annotated Bibliography on Evolving Algebras, </title> <editor> in: E. Borger (Ed.), </editor> <title> Specification and Validation Methods, </title> <publisher> Oxford University Press (1995). </publisher>
Reference-contexts: Since states are finite they can be formalized as finite structures. However, it turns out that often it is more convenient and practical to incorporate various background structures into states and deal with infinite states. This is a rule, rather than an exception, in the evolving algebra literature (see <ref> [11] </ref>). Here we restrict ourselves to one simple example. Imagine that a state of interest includes a stack of some objects which may be popped or pushed during the transition to the next state. There are many ways to implement a stack. <p> One solution is to have an auxiliary infinite universe of stacks with built-in pop and push operations and a nullary function that gives the stack of interest 3 to us. The details of this simple example are explained in the EA Tutorial mentioned in <ref> [11] </ref>. More involved variations of the example appear in many places, in particular in Jim Huggins' correctness proof of the Kermit communication protocol (also referred to in [29]) where stacks are replaced by queues. 1.2 Metafinite structures Logics with counting.
Reference: [12] <author> J. Cai, M. Furer and N. Immerman, </author> <title> An Optimal Lower Bound on the Number of Variables for Graph Identification, </title> <booktitle> Proceedings of 30th IEEE Symposium on Foundations of Computer Science (1989), </booktitle> <pages> 612-617. </pages>
Reference-contexts: However, this is not the case for classes of arbitrary (not necessarily ordered) structures, and most of the known counterexamples involve counting. Thus, Immerman [36] proposed to add counting quantifiers to fixed point logic and asked whether this would suffice to capture Ptime. Although Cai, Furer and Immerman <ref> [12] </ref> eventually answered this question negatively, fixed point logic with counting turned out to be an important logic, defining a natural level of expressiveness below Ptime, with a number of equivalent characterizations [24]. Logics with counting are two-sorted.
Reference: [13] <author> A. Chandra and D. Harel, </author> <title> Computable Queries for Relational Data Bases, </title> <journal> Journal of Computer and System Sciences 21 (1980), </journal> <pages> 156-178. </pages>
Reference-contexts: They studied the notion of a computable query in this context and exhibited complete languages for two specific classes of recursive databases. On the class of all recursive databases, quantifier-free first-order logic suffices to define all computable queries, whereas a variant of QL the complete language from <ref> [13] </ref> for the classical relational model | is complete on highly symmetric recursive databases. In another paper Hirst and Harel studied finite model theory issues, such as 0-1 laws and descriptive complexity, in the context of recursive structures [32]. <p> It is proved that first-order queries over such databases can be evaluated in polynomial time. A proposal that is by far the closest to our approach appears in the penultimate section of the seminal paper of Chandra and Harel <ref> [13] </ref>, the same paper that also laid much of the foundation for the theory of computable queries in the classical, relational model. In that section, Chandra and Harel define the notion of an extended database.
Reference: [14] <author> K. Compton, </author> <title> 0-1 Laws in Logic and Combinatorics, in: NATO Adv. Study Inst. on Algorithms and Order, </title> <editor> I. Rival (Ed.), </editor> <year> 1988, </year> <pages> 353-383. </pages>
Reference-contexts: Since J k is FP fl - definable, the result follows. 6 Asymptotic probabilities Among the most beautiful results in finite model theory are the limit laws (in particular 0-1 laws) for various logics and probability distributions (see <ref> [14] </ref> for a survey). We consider similar questions for metafinite structures, with fixed secondary part. It turns out, that limit laws hold only in rather restricted cases. Nevertheless, it is interesting to investigate and classify these cases. Probability distributions.
Reference: [15] <author> K. Compton, C. Henson and S. Shelah, Nonconvergence, </author> <title> undecidability and intractability in asymptotic problems, </title> <booktitle> Annals of Pure and Applied Logic 36 (1987), </booktitle> <pages> 207-224. </pages>
Reference-contexts: This results appears in [44] but is attributed there to Ehrenfeucht. a contains at least one binary predicate. Here we have non-convergence, due to the result of Compton, Henson and Shelah <ref> [15] </ref>, according to which, on the class of random ordered graphs there exist first-order sentences without an asymptotic probability. Two unary functions into an uncountable linear order.
Reference: [16] <author> P. Crescenzi and V. Kann, </author> <title> A compendium of NP optimization problems, </title> <type> Technical Report SI/RR-95/-02, </type> <institution> Dipartimento di Scienze dell'Informazione, Universita di Roma "La Sapienza" (1995). </institution>
Reference-contexts: Many practical optimization problems take inputs which are structures with weights, e.g. graphs with one or more weight functions assigning numbers to vertices or edges. Important examples are the Travelling Salesman Problem, Max Flow/Min Cut, most scheduling problems, and so on (see <ref> [16] </ref> for additional examples). As mentioned already in [51], the result of Papadimitriou and Yannakakis can be extended to problems with weights. However, the weighted versions of Max Snp and Max Np, as defined in [51], use the weights only in a rather limited way.
Reference: [17] <author> A. Dawar, </author> <title> Feasible Computation through Model Theory, </title> <type> PhD thesis, </type> <institution> University of Pennsylvania (1993). </institution>
Reference-contexts: With these invariants, Abiteboul and Vianu could prove that the logics FP and PFP coincide (with respect to expressive power) if and only if Ptime = Pspace. We refer to <ref> [17] </ref> for a very nice exposition in terms of L k 1! -equivalence.
Reference: [18] <author> M. de Rougemont, </author> <title> The reliability of queries, </title> <booktitle> Proc. 14th ACM Symp. on Principles of Database Systems PODS (1995). </booktitle>
Reference-contexts: We are interested in definability and complexity questions for these invariants. Similar notions for studying query reliability appear in <ref> [18] </ref>. Unreliable databases can be modeled by metafinite structures where the secondary part R is the field of reals with the multiset operations P Q . Let (A; ) be an unreliable database of relational vocabulary a . <p> As we prove next, it is unlikely that Proposition 3.7 can be generalized to all first-order queries. In fact, unless P = #P, even the error probabilities of conjunctive queries cannot be computed in polynomial time. (Thus a claim made in <ref> [18] </ref>, to the effect that the reliability of any first-order query is polynomial-time computable, appears to be incorrect.) Recall that conjunctive queries are queries of the form 9x 1 9x k (' 1 ^ ^ ' ` ) where each ' i is atomic.
Reference: [19] <author> H.-D. Ebbinghaus and J. Flum, </author> <title> Finite Model Theory, </title> <publisher> Springer 1995. </publisher>
Reference-contexts: For finite models, the results of Fagin, Immerman, Vardi and others provide logical characterizations of NP, P and also for most of the other important complexity classes, at least on ordered structures. We refer to the survey articles [21, 28, 36, 37], to Chapter 6 in <ref> [19] </ref> and Chapter 2.3 in [7] for background on descriptive complexity. Here we investigate generalizations of these results in the realm of metafinite structures. For simplicity, we focus on arithmetical structures; we also mention R-structures but refer to [23] for proofs.
Reference: [20] <author> R. Fagin, </author> <title> Generalized first-order spectra and polynomial-time recognizable sets, </title> <booktitle> SIAM-AMS Proceedings 7 (1974), </booktitle> <pages> 43-73. </pages>
Reference-contexts: R-structures admit a number of results relating expressibility and complexity that parallel those of descriptive complexity theory in the classical case. In particular, Gradel and Meer established analogues to Fagin's logical characterization of NP in terms generalized spectra <ref> [20] </ref>, and to the Immerman-Vardi Theorem, that fixed point logic captures polynomial time on ordered structures [35, 60]. <p> The proof is a straightforward induction. 4.1 Metafinite spectra We first consider Fagin's characterization of NP by existential second-order logic <ref> [20] </ref>. 22 Definition 4.2.
Reference: [21] <author> R. Fagin, </author> <title> Finite model theory A personal retrospective, </title> <booktitle> Theoretical Computer Science 116 (1993), </booktitle> <pages> 3-31. </pages>
Reference-contexts: For finite models, the results of Fagin, Immerman, Vardi and others provide logical characterizations of NP, P and also for most of the other important complexity classes, at least on ordered structures. We refer to the survey articles <ref> [21, 28, 36, 37] </ref>, to Chapter 6 in [19] and Chapter 2.3 in [7] for background on descriptive complexity. Here we investigate generalizations of these results in the realm of metafinite structures. For simplicity, we focus on arithmetical structures; we also mention R-structures but refer to [23] for proofs.
Reference: [22] <author> E. Gradel and A. Malmstrom, </author> <title> 0-1 laws for recursive structures, </title> <note> to appear in Archive of Mathematical Logic (1997). 51 </note>
Reference-contexts: In another paper Hirst and Harel studied finite model theory issues, such as 0-1 laws and descriptive complexity, in the context of recursive structures [32]. Gradel and Malmstrom <ref> [22] </ref> discuss resource bounded measures on recursive structure and prove 0-1 laws. Stolboushkin [55] shows that important properties of first-order logic (compactness, completeness, preservation theorems) fail on the class of recursive structures.
Reference: [23] <author> E. Gradel and K. Meer, </author> <title> Descriptive Complexity Theory over the Real Numbers, </title> <booktitle> Proceedings of 27th ACM-Symposium on Theory of Computing, STOC `95, </booktitle> <address> Las Vegas (1995). </address> <note> An expanded version appeared in: </note> <author> J. Renegar, M. Shub, S. Smale (Eds.), </author> <title> Mathematics of Numerical Analysis: Real Number Algorithms, </title> <booktitle> AMS Lectures in Applied Mathematics 32 (1996), </booktitle> <pages> 381-403. </pages>
Reference-contexts: It has been shown by Gradel and Meer <ref> [23] </ref> that this can be achieved by R-structures, a special case of metafinite models, with the ordered field of reals as secondary part. R-structures admit a number of results relating expressibility and complexity that parallel those of descriptive complexity theory in the classical case. <p> A simple arithmetical structure is obtained from an arithmetical structure by omitting the multiset operations. Another interesting class are R-structures, used by Gradel and Meer <ref> [23] </ref> for developing a descriptive complexity theory over the real numbers. Definition 2.6. <p> primitive operations and assume that every element r 2 R is named by a constant c r so that every rational function g : R k ! R can be written as a term (without quantifiers) 2 . 2 A rational function is a quotient of two polynomials. 11 In <ref> [23] </ref> a slightly different presentation has been used including also the sign function sgn (x) := &gt; &lt; 1 if x &gt; 0 1 if x &lt; 0 as a basic function. Clearly, this function is efficiently computable, but is not a rational function. <p> Here we investigate generalizations of these results in the realm of metafinite structures. For simplicity, we focus on arithmetical structures; we also mention R-structures but refer to <ref> [23] </ref> for proofs. However, the approach can be extended to problems on metafinite structures with arbitrary secondary part. This requires the definition of a suitable computation model and a suitable notion of complexity. We will defer the detailed development to a subsequent paper. <p> An important example are computations over the real numbers with the model of Blum-Shub-Smale. Theorem 4.12 (Gradel, Meer). NP R coincides with the class of metafinite spectra of R-structures. The proof is given in <ref> [23] </ref>. Definition 4.13. Let K M [R], and suppose that we have fixed a cost function on R. <p> However, in the context of computations over R with the Blum-Shub-Smale model, the magnitude of the numbers is no serious problem, since one assumes unit cost for each r 2 R. In fact it has been shown in <ref> [23] </ref> that functional fixed-point logic is the right logic for describing polynomial-time computability in that model, in the sense that it gives rise to the following analogue of the Immerman-Vardi Theorem. Theorem 4.28 (Gradel, Meer). On ranked R-structures, FFP captures P R . Remark.
Reference: [24] <author> E. Gradel and M. Otto, </author> <title> Inductive Definability with Counting on Finite Structures, </title> <booktitle> in: Selected Papers, 6th Workshop on Computer Science Logic CSL 92, San Miniato 1992, Lecture Notes in Computer Science Nr. 702, Springer (1993), </booktitle> <pages> 231-247. </pages>
Reference-contexts: Although Cai, Furer and Immerman [12] eventually answered this question negatively, fixed point logic with counting turned out to be an important logic, defining a natural level of expressiveness below Ptime, with a number of equivalent characterizations <ref> [24] </ref>. Logics with counting are two-sorted. <p> The predicates defined by fixed point operators may be mixed, i.e. range over both sorts. We refer to <ref> [24, 38, 48, 49] </ref> and to Sect. 4.3 and 5.3 below for more background and results on fixed point logics with counting. <p> The present version appeared first in <ref> [24] </ref>. Example 4.23. An interesting example for an (FP + C)-computable global function is the stable colouring of a graph. <p> The following are equivalent (i) Player II wins the C k -game on (A; a) and (B; b). (ii) A j= '(a) iff B j= '( b) for every formula '(x) 2 C k 1! . Here is another way to put and to refine this (see <ref> [24, 49] </ref>). For a tuple a 2 (A [ fflg) k (where fl serves as a dummy value in the case that not all k variables are actually used) we write a c | for the tuple obtained by substituting (or adding) c at position j to a. <p> We refer to [17] for a very nice exposition in terms of L k 1! -equivalence. Invariants for C k 1! -equivalence have been defined in <ref> [24] </ref> and have been extensively studied by Otto [48, 49] who used them to prove a number of results on the structure of 40 fixed point logic with counting, on the relationship of (FP + C) with other logics and on the canonization problem with respect to C 2 1! -equivalence. <p> Obviously these additional relations are easily definable from A and . Further, it should be noted that there is some redundancy in this description in the sense that some relations are definable from others. We can summarize the result on C k 1! -invariants as follows. Theorem 5.12. <ref> [24, 48, 49] </ref> For every k and every finite relational vocabulary a , there exists a function I k associating with every structure A 2 Fin ( a ) the C k 1! -invariant I k (A) = (B; v 1 ; : : : ; v k ) such that <p> Corollary 5.13. <ref> [24, 48] </ref> For every class K Fin ( a ), the following are equivalent (i) K is definable in (FP + C). (ii) For some k 2 N, fI k (A) : A 2 Kg is decidable in polynomial time.
Reference: [25] <author> J. Gross and T. Tucker, </author> <title> Topological Graph Theory, </title> <publisher> Wiley, </publisher> <address> New York (1987). </address>
Reference-contexts: The following result is well-known in graph theory (see e.g. <ref> [25] </ref>) Proposition 3.13. The genus of G is the minimal P -genus of G. For convenience our logical definition of the genus is based on transitive closure logic. This is a familiar logic in finite model theory which augments first-order logic by the ability to define transitive closures.
Reference: [26] <author> S. Grumbach and J. Su, </author> <title> Finitely representable databases, </title> <booktitle> Proceedings of 13th ACM Symposium on Principles of Database Systems (1994). </booktitle>
Reference-contexts: Complexity issues for such query languages are addressed in [42], and it has been shown that although the decision problem of the underlying mathematical theory may have exponential complexity, the resulting constraint query languages admit efficient evaluation algorithms. In this context we refer to <ref> [8, 9, 26, 56] </ref> for further model theoretic results on finitely representable databases. Kabanza, Stevenne and Wolper [40] present an extension of the relational database model for reasoning abount infinite temporal data. <p> A natural restriction is that mixed relations be finite and that mixed functions map all but finitely many elements to 0. But there are other possibilities of finite presentations, e.g., that the relations are recursive [31] or given by semi-algebraic constraints <ref> [42, 26] </ref>. 10 We won't consider metafinite structures with mixed relations in this paper. However, the design and investigation of query languages for metafinite databases of this kind is one of the promising directions for future research.
Reference: [27] <author> Y. Gurevich, </author> <title> Toward logic tailord for computational complexity, </title> <editor> in: M. M. Richter et al. (Eds), </editor> <booktitle> Computation and Proof Theory, Springer Lecture Notes in Mathematics Nr. 1104 (1984), </booktitle> <pages> 175-216. </pages>
Reference-contexts: Part of the motivation came from applications in computer science, in particular from databases and complexity theory. As was pointed out in <ref> [27] </ref>, finite structures pose a nontrivial challenge for mathematical logic, in particular for model theory. Being closely related to the foundations of mathematics, classical logic is preoccupied with infinity. <p> Being closely related to the foundations of mathematics, classical logic is preoccupied with infinity. In fact most important classical results and techniques of mathematical logic (such as compactness, completeness, the usual preservation theorems) fail when only finite structures are considered. It was suggested in <ref> [27] </ref> that logicians should systematically develop a model theory of finite structures that is able to cope with the challenges from computer science. 1.1 Motivation Many of the finite objects appearing in computer science refer at least implicitly to infinite structures. <p> They provide a general and flexible method of inductively defining new predicates and thus remedy one of the main deficiencies (with respect to expressiveness) of first order logic: the lack of a mechanism for unbounded recursion or iteration. We recall the definition of (inflationary) fixed point logic <ref> [27] </ref>. Let a be a vocabulary, R 62 a an r-ary predicate and (x) a formula of vocabulary a [ fRg with free variables x = x 1 ; : : : ; x r .
Reference: [28] <author> Y. Gurevich, </author> <title> Logic and the Challenge of Computer Science, </title> <editor> in: E. Borger (Ed), </editor> <booktitle> Trends in Theoretical Computer Science, </booktitle> <publisher> Computer Science Press (1988), </publisher> <pages> 1-57. </pages>
Reference-contexts: For finite models, the results of Fagin, Immerman, Vardi and others provide logical characterizations of NP, P and also for most of the other important complexity classes, at least on ordered structures. We refer to the survey articles <ref> [21, 28, 36, 37] </ref>, to Chapter 6 in [19] and Chapter 2.3 in [7] for background on descriptive complexity. Here we investigate generalizations of these results in the realm of metafinite structures. For simplicity, we focus on arithmetical structures; we also mention R-structures but refer to [23] for proofs.
Reference: [29] <author> Y. Gurevich, </author> <title> Evolving Algebras 1993: Lipari Guide, </title> <editor> in: E. Borger (Ed.), </editor> <title> Specification and Validation Methods, </title> <publisher> Oxford University Press (1995). </publisher>
Reference-contexts: For a logician, it is natural to formalize states as structures of first-order logic. This avenue has been pursued in the evolving algebra approach; it is quite practical and fruitful <ref> [29] </ref>. Since states are finite they can be formalized as finite structures. However, it turns out that often it is more convenient and practical to incorporate various background structures into states and deal with infinite states. <p> The details of this simple example are explained in the EA Tutorial mentioned in [11]. More involved variations of the example appear in many places, in particular in Jim Huggins' correctness proof of the Kermit communication protocol (also referred to in <ref> [29] </ref>) where stacks are replaced by queues. 1.2 Metafinite structures Logics with counting. There are logics, studied in the framework of finite model theory, that go some way towards integrating logic and arithmetic.
Reference: [30] <author> Y. Gurevich and S. Shelah, </author> <title> Fixed Point Extensions of First Order Logic, </title> <booktitle> Annals of Pure and Applied Logic 32 (1986), </booktitle> <pages> 265-280. </pages>
Reference-contexts: It was proved independently by Immerman [35] and Vardi [60] that, on ordered finite structures, LFP characterizes precisely the queries that are computable in polynomial time. Gurevich and Shelah <ref> [30] </ref> proved that FP and LFP have the same expressive power on finite structure, so in particular, FP also characterizes Ptime in the presence of a linear ordering. On the class of arbitrary (not necessarily ordered) finite structures, FP and LFP are strictly weaker than Ptime-computability.
Reference: [31] <author> T. Hirst and D. Harel, </author> <title> Completeness Results for Recursive Databases, </title> <journal> Journal of Computer and System Sciences, </journal> <note> to appear. (Also: 12th ACM Symp. on Principles of Database Systems (1993), 244-252.) </note>
Reference-contexts: The study of infinite recursive structures has a long tradition in mathematical logic, by the work of Malcev, Nerode, Rabin, Vaught and their scientific descendents. Recently there have been some papers on recursive structures that study questions related to finite model theory. Hirst and Harel <ref> [31] </ref> investigated recursive databases, given by a finite set of recursive 7 relations over the natural numbers. They studied the notion of a computable query in this context and exhibited complete languages for two specific classes of recursive databases. <p> A natural restriction is that mixed relations be finite and that mixed functions map all but finitely many elements to 0. But there are other possibilities of finite presentations, e.g., that the relations are recursive <ref> [31] </ref> or given by semi-algebraic constraints [42, 26]. 10 We won't consider metafinite structures with mixed relations in this paper. However, the design and investigation of query languages for metafinite databases of this kind is one of the promising directions for future research.
Reference: [32] <author> T. Hirst and D. Harel, </author> <title> More about Recursive Structures: Zero-One Laws and Expressibility vs. Complexity, </title> <booktitle> Proceedings of 11th IEEE Symposium on Logic in Computer Science (1996). </booktitle>
Reference-contexts: In another paper Hirst and Harel studied finite model theory issues, such as 0-1 laws and descriptive complexity, in the context of recursive structures <ref> [32] </ref>. Gradel and Malmstrom [22] discuss resource bounded measures on recursive structure and prove 0-1 laws. Stolboushkin [55] shows that important properties of first-order logic (compactness, completeness, preservation theorems) fail on the class of recursive structures.
Reference: [33] <author> B. Hodgson and C. Kent, </author> <title> A Normal form for Arithmetical Representation of NP-sets, </title> <journal> Journal of Computer and System Sciences 27 (1983), </journal> <pages> 378-388. </pages>
Reference-contexts: It is not difficult to prove that every polynomially bounded metafinite spectrum is in NP, i.e. that (ii) implies (i). The other direction is related to a conjecture of Adleman and Manders concerning the notion of Diophantine complexity (see <ref> [3, 4, 33, 39, 43, 46] </ref>). <p> Here (9F i 2 p (n;m) ) : : : is to be understood as an abbreviation for 9F i [8x (F i (x) 2 p (jDj;maxD) ) ^ : : : ]. From results of Hodgson and Kent <ref> [33, 43] </ref>, we obtain a more involved characterization that works also for the secondary part N, and in fact also for simple arithmetical structures.
Reference: [34] <author> N. Immerman, </author> <title> Upper and lower bounds for first-order expressibility, </title> <journal> Journal of Computer and Systems Sciences 25 (1982), </journal> <pages> 86-104. </pages>
Reference-contexts: One of the reasons why these logics are important is that C ! 1! is an extension of fixed point logic with counting (FP + C). Equivalence with respect to L k 1! has an elegant characterization in terms of the k-pebble game <ref> [6, 34, 52] </ref>, an infinitary variant of Ehrenfeucht-Fraisse games. There is a similar pebble game appropriate to C k 1! [38]. It is played by two players, I and II, on two structures A and B of the same relational signature. They have k pairs of pebbles.
Reference: [35] <author> N. Immerman, </author> <title> Relational Queries Computable in Polynomial Time, </title> <booktitle> Information and Control 68 (1986), </booktitle> <pages> 86-104. </pages>
Reference-contexts: In particular, Gradel and Meer established analogues to Fagin's logical characterization of NP in terms generalized spectra [20], and to the Immerman-Vardi Theorem, that fixed point logic captures polynomial time on ordered structures <ref> [35, 60] </ref>. We will explain some of these results in Sect. 4. 1.4 Related approaches In database theory there have been a number of proposals for going beyond the strict finiteness condition and taking care of infinite data. <p> It was proved independently by Immerman <ref> [35] </ref> and Vardi [60] that, on ordered finite structures, LFP characterizes precisely the queries that are computable in polynomial time.
Reference: [36] <author> N. Immerman, </author> <title> Expressibility as a Complexity Measure: Results and Directions, </title> <booktitle> Proc. of 2nd Conf. on Structure in Complexity Theory (1987), </booktitle> <pages> 194-202. </pages>
Reference-contexts: On ordered finite structures, some of these languages express precisely the queries that are computable in Ptime or other complexity classes. However, this is not the case for classes of arbitrary (not necessarily ordered) structures, and most of the known counterexamples involve counting. Thus, Immerman <ref> [36] </ref> proposed to add counting quantifiers to fixed point logic and asked whether this would suffice to capture Ptime. <p> For finite models, the results of Fagin, Immerman, Vardi and others provide logical characterizations of NP, P and also for most of the other important complexity classes, at least on ordered structures. We refer to the survey articles <ref> [21, 28, 36, 37] </ref>, to Chapter 6 in [19] and Chapter 2.3 in [7] for background on descriptive complexity. Here we investigate generalizations of these results in the realm of metafinite structures. For simplicity, we focus on arithmetical structures; we also mention R-structures but refer to [23] for proofs.
Reference: [37] <author> N. Immerman, </author> <title> Descriptive and Computational Complexity, </title> <editor> in: J. Hartmanis (Ed.), </editor> <title> Computational Complexity Theory, </title> <journal> Proc. of AMS Symposia in Appl. Math. </journal> <volume> 38 (1989), </volume> <pages> 75-91. </pages>
Reference-contexts: For finite models, the results of Fagin, Immerman, Vardi and others provide logical characterizations of NP, P and also for most of the other important complexity classes, at least on ordered structures. We refer to the survey articles <ref> [21, 28, 36, 37] </ref>, to Chapter 6 in [19] and Chapter 2.3 in [7] for background on descriptive complexity. Here we investigate generalizations of these results in the realm of metafinite structures. For simplicity, we focus on arithmetical structures; we also mention R-structures but refer to [23] for proofs.
Reference: [38] <author> N. Immerman and E. Lander, </author> <title> Describing Graphs: A First Order Approach to Graph Canonization, </title> <editor> in: A. Selman (Ed), </editor> <title> Complexity Theory Retrospective. (In Honor of Juris Hartmanis), </title> <publisher> Springer, </publisher> <address> New York 1990, </address> <pages> 59-81. </pages>
Reference-contexts: The predicates defined by fixed point operators may be mixed, i.e. range over both sorts. We refer to <ref> [24, 38, 48, 49] </ref> and to Sect. 4.3 and 5.3 below for more background and results on fixed point logics with counting. <p> Thus stable colourings provide a polynomial-time graph-canonization algorithm for a dense class of graphs. It should be clear that the stable colouring of a graph is definable in (FP + C) (see <ref> [38] </ref> for more details). 31 Over arithmetical structures, we can define counting in FO fl and hence FP fl , as shown in Example 3.3. <p> Equivalence with respect to L k 1! has an elegant characterization in terms of the k-pebble game [6, 34, 52], an infinitary variant of Ehrenfeucht-Fraisse games. There is a similar pebble game appropriate to C k 1! <ref> [38] </ref>. It is played by two players, I and II, on two structures A and B of the same relational signature. They have k pairs of pebbles. A move of the game is played as follows. 1. Player I chooses i k and picks up the i-th pair of pebbles.
Reference: [39] <author> J. Jones and Y. Matijasevich, </author> <title> Register machine proof of the theorem of exponential diophantine representation of enumerable sets, </title> <journal> Journal of Symbolic Logic 49 (1984), </journal> <pages> 818-829. </pages>
Reference-contexts: It is not difficult to prove that every polynomially bounded metafinite spectrum is in NP, i.e. that (ii) implies (i). The other direction is related to a conjecture of Adleman and Manders concerning the notion of Diophantine complexity (see <ref> [3, 4, 33, 39, 43, 46] </ref>). <p> Then, results of Jones and Matijasevich <ref> [39] </ref> imply Theorem 4.15. Every class in NP of arithmetical structures with secondary part ~ N is a polynomially bounded metafinite spectrum. 27 The ordering or the logical and can be directly used to describe computations.
Reference: [40] <author> F. Kabanza, J. Stevenne and P. Wolper, </author> <title> Handling Infinite Temporal Data, </title> <note> to appear in Journal of Computer and System Sciences.A preliminary version appeared in Proceedings of 9th ACM Syposium on Principles of Database Systems (1990). </note>
Reference-contexts: In this context we refer to [8, 9, 26, 56] for further model theoretic results on finitely representable databases. Kabanza, Stevenne and Wolper <ref> [40] </ref> present an extension of the relational database model for reasoning abount infinite temporal data. In this model, time is represented by a second sort over the integers and generalized relations are defined by linear constraints, i.e. in Presburger arithmetic.
Reference: [41] <author> P. Kanellakis, </author> <title> Elements of Relational Database Theory, </title> <editor> in: J. van Leeuwen (Ed.), </editor> <booktitle> Handbook of Theoretical Computer Science, </booktitle> <volume> vol. </volume> <editor> B, </editor> <publisher> North Holland, </publisher> <address> Amsterdam 1990, </address> <pages> pp. 1073-1156. 52 </pages>
Reference-contexts: Databases. To explain the challenge of going beyond finite models and integrating structures and numbers, we first look at database theory, a particularly important area for such an approach. We refer to the books [1, 58] and the survey article <ref> [41] </ref> for background on database theory. 2 The common practice of viewing (a state of ) a relational database as a finite structure is not always adequate; we are not the first to say that (see Sect. 1.4 in this connection).
Reference: [42] <author> P. Kanellakis, G. Kuper and P. Revesz, </author> <title> Constraint Query Languages, </title> <booktitle> Proceedings of 9th ACM Symposium on Principles of Database Systems (1990), </booktitle> <pages> 299-313. </pages>
Reference-contexts: This work is related to ours by the motivation to extend the questions and methods of finite model theory to classes of infinite structures. However, metafinite model theory is radically different from recursive model theory. Kanellakis, Kuper and Revesz <ref> [42] </ref> considered databases that are given by semi-algebraic constraints over the real (or rational) numbers. This model can handle spatial data and geometric queries in a very nice and convincing way. <p> Classical relational query languages can be extended with mathematical theories that admit quantifier elimination, such as the theory of real closed fields, to provide a generalized notion of query language, called constraint query languages. Complexity issues for such query languages are addressed in <ref> [42] </ref>, and it has been shown that although the decision problem of the underlying mathematical theory may have exponential complexity, the resulting constraint query languages admit efficient evaluation algorithms. In this context we refer to [8, 9, 26, 56] for further model theoretic results on finitely representable databases. <p> A natural restriction is that mixed relations be finite and that mixed functions map all but finitely many elements to 0. But there are other possibilities of finite presentations, e.g., that the relations are recursive [31] or given by semi-algebraic constraints <ref> [42, 26] </ref>. 10 We won't consider metafinite structures with mixed relations in this paper. However, the design and investigation of query languages for metafinite databases of this kind is one of the promising directions for future research.
Reference: [43] <author> C. Kent and B. Hodgson, </author> <title> An arithmetical characterization of NP, </title> <booktitle> Theoretical Computer Science 12 (1982), </booktitle> <pages> 255-267. </pages>
Reference-contexts: It is not difficult to prove that every polynomially bounded metafinite spectrum is in NP, i.e. that (ii) implies (i). The other direction is related to a conjecture of Adleman and Manders concerning the notion of Diophantine complexity (see <ref> [3, 4, 33, 39, 43, 46] </ref>). <p> Here (9F i 2 p (n;m) ) : : : is to be understood as an abbreviation for 9F i [8x (F i (x) 2 p (jDj;maxD) ) ^ : : : ]. From results of Hodgson and Kent <ref> [33, 43] </ref>, we obtain a more involved characterization that works also for the secondary part N, and in fact also for simple arithmetical structures.
Reference: [44] <author> J. Lynch, </author> <title> Almost sure theories, </title> <booktitle> Annals of Mathematical Logic 18 (1980), </booktitle> <pages> 91-135. </pages>
Reference-contexts: This is true with probability 1=2 in all cardinalities. However, we still have the convergence law, because of the convergence law for the first-order logic of random monadic structures with a linear order. This results appears in <ref> [44] </ref> but is attributed there to Ehrenfeucht. a contains at least one binary predicate. Here we have non-convergence, due to the result of Compton, Henson and Shelah [15], according to which, on the class of random ordered graphs there exist first-order sentences without an asymptotic probability.
Reference: [45] <author> A, Malmstrom, </author> <title> Logic and Approximation, </title> <type> PhD thesis, </type> <institution> RWTH Aachen (1996). </institution>
Reference-contexts: We claim that metafinite structures provide the right framework to extend this approach to a more general definabil-ity theory of optimization problems with weights. This claim has been substantiated by recent work of A. Malmstrom <ref> [45] </ref> who used the approach of metafinite model theory to establish connections between the logical presentation and the approximation properties of optimization problems with weights. In particular, Malmstrom exhibits a syntactically defined class of optimization problems (with weights in N) that admit fully polynomial-time approximation schemes. Numerical invariants of structures.
Reference: [46] <author> Y. Matijasevich, </author> <title> Hilbert's Tenth Problem, </title> <publisher> MIT Press, </publisher> <address> Cambridge (1993). </address>
Reference-contexts: Thus an arithmetical relation S N k can be viewed as a special class of arithmetical structures. Theorem 4.7. Every recursively enumerable set S N k is a metafinite spectrum. In particular, there exist undecidable metafinite spectra. Proof. By Matijasevich's Theorem (see <ref> [46] </ref>) every recursively enumerable set S N k is Diophantine, i.e. can be represented as S = fa 2 N k : there exists b 1 ; : : : ; b m 2 N such that Q (a; b) = 0g for some polynomial Q 2 Z [x 1 ; <p> It is not difficult to prove that every polynomially bounded metafinite spectrum is in NP, i.e. that (ii) implies (i). The other direction is related to a conjecture of Adleman and Manders concerning the notion of Diophantine complexity (see <ref> [3, 4, 33, 39, 43, 46] </ref>).
Reference: [47] <author> M. Otto, </author> <title> Generalized Quantifiers for Simple Properties, </title> <booktitle> Proceedings of IEEE Symposium on Logic in Computer Science (1994), </booktitle> <pages> 30-39. </pages>
Reference: [48] <author> M. Otto, </author> <title> The Expressive Power of Fixed-Point Logic with Counting, </title> <journal> Journal of Symbolic Logic 61 (1996), </journal> <pages> 147-176. </pages>
Reference-contexts: The predicates defined by fixed point operators may be mixed, i.e. range over both sorts. We refer to <ref> [24, 38, 48, 49] </ref> and to Sect. 4.3 and 5.3 below for more background and results on fixed point logics with counting. <p> We refer to [17] for a very nice exposition in terms of L k 1! -equivalence. Invariants for C k 1! -equivalence have been defined in [24] and have been extensively studied by Otto <ref> [48, 49] </ref> who used them to prove a number of results on the structure of 40 fixed point logic with counting, on the relationship of (FP + C) with other logics and on the canonization problem with respect to C 2 1! -equivalence. <p> Obviously these additional relations are easily definable from A and . Further, it should be noted that there is some redundancy in this description in the sense that some relations are definable from others. We can summarize the result on C k 1! -invariants as follows. Theorem 5.12. <ref> [24, 48, 49] </ref> For every k and every finite relational vocabulary a , there exists a function I k associating with every structure A 2 Fin ( a ) the C k 1! -invariant I k (A) = (B; v 1 ; : : : ; v k ) such that <p> Corollary 5.13. <ref> [24, 48] </ref> For every class K Fin ( a ), the following are equivalent (i) K is definable in (FP + C). (ii) For some k 2 N, fI k (A) : A 2 Kg is decidable in polynomial time.
Reference: [49] <author> M. Otto, </author> <title> Bounded Variable Logic with Counting. A Study on Finite Models, </title> <booktitle> Lecture Notes in Logic Nr. </booktitle> <volume> 9, </volume> <pages> 183 pages, </pages> <year> 1997. </year>
Reference-contexts: The predicates defined by fixed point operators may be mixed, i.e. range over both sorts. We refer to <ref> [24, 38, 48, 49] </ref> and to Sect. 4.3 and 5.3 below for more background and results on fixed point logics with counting. <p> The following are equivalent (i) Player II wins the C k -game on (A; a) and (B; b). (ii) A j= '(a) iff B j= '( b) for every formula '(x) 2 C k 1! . Here is another way to put and to refine this (see <ref> [24, 49] </ref>). For a tuple a 2 (A [ fflg) k (where fl serves as a dummy value in the case that not all k variables are actually used) we write a c | for the tuple obtained by substituting (or adding) c at position j to a. <p> We refer to [17] for a very nice exposition in terms of L k 1! -equivalence. Invariants for C k 1! -equivalence have been defined in [24] and have been extensively studied by Otto <ref> [48, 49] </ref> who used them to prove a number of results on the structure of 40 fixed point logic with counting, on the relationship of (FP + C) with other logics and on the canonization problem with respect to C 2 1! -equivalence. <p> Obviously these additional relations are easily definable from A and . Further, it should be noted that there is some redundancy in this description in the sense that some relations are definable from others. We can summarize the result on C k 1! -invariants as follows. Theorem 5.12. <ref> [24, 48, 49] </ref> For every k and every finite relational vocabulary a , there exists a function I k associating with every structure A 2 Fin ( a ) the C k 1! -invariant I k (A) = (B; v 1 ; : : : ; v k ) such that
Reference: [50] <author> C. Papadimitriou, </author> <title> Computational Complexity, </title> <publisher> Addison-Wesley (1994). </publisher>
Reference-contexts: One way to cope with such problems is to design approximation algorithms which do not necessarily find optimal solutions, but at least approximate ones. A typical requirement is that the cost of the approximate solution is within a constant factor of the optimal one (see e.g. <ref> [50] </ref> and the references given there). In fact many optimization problems admit efficient approximation algorithms, whereas for others it has been shown that finding approximate solutions is NP-hard as well. Papadimitriou and Yannakakis [51] set forth a new, logical approach for studying the approximation properties of optimization problems. <p> For many NP-complete decision problems and also for some problems in P, the related problem of counting the number of witnesses (rather than determining whether there exists at least one) is #P-complete. For background on #P we refer to <ref> [50, 59] </ref>. Proposition 3.8. There exist conjunctive queries such that calculating the value of P is #P-hard. Proof. We will reduce the problem #Monotone 2-Sat to the problem of computing the value of P for a conjunctive Boolean query .
Reference: [51] <author> C. Papadimitriou and M. Yannakakis, </author> <title> Optimization, approximization and complexity classes, </title> <journal> Journal of Computer and System Sciences 43 (1991), </journal> <pages> 425-440. </pages>
Reference-contexts: In fact many optimization problems admit efficient approximation algorithms, whereas for others it has been shown that finding approximate solutions is NP-hard as well. Papadimitriou and Yannakakis <ref> [51] </ref> set forth a new, logical approach for studying the approximation properties of optimization problems. <p> Important examples are the Travelling Salesman Problem, Max Flow/Min Cut, most scheduling problems, and so on (see [16] for additional examples). As mentioned already in <ref> [51] </ref>, the result of Papadimitriou and Yannakakis can be extended to problems with weights. However, the weighted versions of Max Snp and Max Np, as defined in [51], use the weights only in a rather limited way. <p> As mentioned already in <ref> [51] </ref>, the result of Papadimitriou and Yannakakis can be extended to problems with weights. However, the weighted versions of Max Snp and Max Np, as defined in [51], use the weights only in a rather limited way. We claim that metafinite structures provide the right framework to extend this approach to a more general definabil-ity theory of optimization problems with weights. This claim has been substantiated by recent work of A.
Reference: [52] <author> B. Poizat, </author> <title> Deux ou trois choses que je sais de L n , Journal of Symbolic Logic 47 (1982), </title> <type> 641-658. </type>
Reference-contexts: One of the reasons why these logics are important is that C ! 1! is an extension of fixed point logic with counting (FP + C). Equivalence with respect to L k 1! has an elegant characterization in terms of the k-pebble game <ref> [6, 34, 52] </ref>, an infinitary variant of Ehrenfeucht-Fraisse games. There is a similar pebble game appropriate to C k 1! [38]. It is played by two players, I and II, on two structures A and B of the same relational signature. They have k pairs of pebbles.
Reference: [53] <author> S. Shelah, </author> <title> The very weak zero-one law for random graphs with order and random binary functions, </title> <note> preprint (1994). </note>
Reference-contexts: There are also other, weaker notions of limit laws, such as the existence of Cesaro limits lim ( 1 (') + 2 (') + + n ('))=n or the weak convergence law (introduced by Shelah who called it the very weak 0-1 law <ref> [53] </ref>), saying that lim n+1 (') n (') = 0: It is clear that already very little of arithmetic present in R suffices to refute the convergence law. <p> Definition 6.6. We say that a class of sentences L satisfies the weak convergence law with respect to = ( n ) n2N if for all 2 L we have that lim n+1 ( ) n ( ) = 0: For instance, it has been proved by Shelah <ref> [53] </ref>, that first-order logic satisfies the weak convergence law on ordered random graphs and also on a random binary function. We can prove a similar result for monadic classes of metafinite structures with an arbitrary countable secondary part. 49 Theorem 6.7.
Reference: [54] <author> J. Spencer, </author> <title> Nonconvergence in the theory of random orders, </title> <booktitle> Order 7 (1991), </booktitle> <pages> 341-348. </pages>
Reference-contexts: In fact, we don't even have the convergence law. With 46 two weight functions we can almost surely interpret two-dimensional partial orders (i.e. the intersection of two linear orders), and it is a result of Spencer <ref> [54] </ref>, that there exist first-order sentences without asymptotic probabilities for k-dimensional partial orders, whenever k 2. Field of reals as secondary part. A different class of examples is obtained by taking for the secondary part the field of reals R = (R; +; ; 0; 1).
Reference: [55] <author> A. Stolboushkin, </author> <title> Towards recursive model theory, </title> <note> preprint (1996). </note>
Reference-contexts: In another paper Hirst and Harel studied finite model theory issues, such as 0-1 laws and descriptive complexity, in the context of recursive structures [32]. Gradel and Malmstrom [22] discuss resource bounded measures on recursive structure and prove 0-1 laws. Stolboushkin <ref> [55] </ref> shows that important properties of first-order logic (compactness, completeness, preservation theorems) fail on the class of recursive structures. This work is related to ours by the motivation to extend the questions and methods of finite model theory to classes of infinite structures.
Reference: [56] <author> A. Stolboushkin and M. Taitslin, </author> <title> Linear vs. order constraint queries over rational databases, </title> <booktitle> Proc. 15th ACM Symp. on Principles of Database Systems PODS (1996), </booktitle> <pages> 17-27. </pages>
Reference-contexts: Complexity issues for such query languages are addressed in [42], and it has been shown that although the decision problem of the underlying mathematical theory may have exponential complexity, the resulting constraint query languages admit efficient evaluation algorithms. In this context we refer to <ref> [8, 9, 26, 56] </ref> for further model theoretic results on finitely representable databases. Kabanza, Stevenne and Wolper [40] present an extension of the relational database model for reasoning abount infinite temporal data.
Reference: [57] <author> J. Tyszkiewicz, </author> <title> private communication. </title>
Reference-contexts: The results in Sect. 5 were strongly influenced by discussions with Martin Otto. Some of the results in Sect. 6 were contributed by or proved in collaboration with Jurek Tyszkiewicz <ref> [57] </ref>.
Reference: [58] <author> J. D. Ullman, </author> <title> Database and Knowledge-Base Systems, Vol. I and II, </title> <publisher> Computer Science Press (1989). </publisher>
Reference-contexts: Databases. To explain the challenge of going beyond finite models and integrating structures and numbers, we first look at database theory, a particularly important area for such an approach. We refer to the books <ref> [1, 58] </ref> and the survey article [41] for background on database theory. 2 The common practice of viewing (a state of ) a relational database as a finite structure is not always adequate; we are not the first to say that (see Sect. 1.4 in this connection).
Reference: [59] <author> L. Valiant, </author> <title> The complexity of enumeration and reliability problems, </title> <journal> SIAM J. Computing 8 (1979), </journal> <pages> 410-421. </pages>
Reference-contexts: For many NP-complete decision problems and also for some problems in P, the related problem of counting the number of witnesses (rather than determining whether there exists at least one) is #P-complete. For background on #P we refer to <ref> [50, 59] </ref>. Proposition 3.8. There exist conjunctive queries such that calculating the value of P is #P-hard. Proof. We will reduce the problem #Monotone 2-Sat to the problem of computing the value of P for a conjunctive Boolean query . <p> Proposition 3.8. There exist conjunctive queries such that calculating the value of P is #P-hard. Proof. We will reduce the problem #Monotone 2-Sat to the problem of computing the value of P for a conjunctive Boolean query . The problem #Monotone 2-Sat, proved to be #P-complete by Valiant <ref> [59] </ref>, takes as input instances propositional formula in 2-CNF without negations, i.e. formulae of the form 18 V n i=1 Y i _ Z i where Y i and Z i are propositional variables. The desired answer is the number of satisfying assignments.
Reference: [60] <author> M. Vardi, </author> <title> Complexity of Relational Query Languages, </title> <booktitle> Proc. of 14th Symposium on Theory of Computing (1982), </booktitle> <pages> 137-146. 53 </pages>
Reference-contexts: In particular, Gradel and Meer established analogues to Fagin's logical characterization of NP in terms generalized spectra [20], and to the Immerman-Vardi Theorem, that fixed point logic captures polynomial time on ordered structures <ref> [35, 60] </ref>. We will explain some of these results in Sect. 4. 1.4 Related approaches In database theory there have been a number of proposals for going beyond the strict finiteness condition and taking care of infinite data. <p> It was proved independently by Immerman [35] and Vardi <ref> [60] </ref> that, on ordered finite structures, LFP characterizes precisely the queries that are computable in polynomial time. Gurevich and Shelah [30] proved that FP and LFP have the same expressive power on finite structure, so in particular, FP also characterizes Ptime in the presence of a linear ordering.
References-found: 60

