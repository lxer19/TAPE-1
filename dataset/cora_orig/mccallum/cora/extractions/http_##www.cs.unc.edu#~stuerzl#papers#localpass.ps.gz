URL: http://www.cs.unc.edu/~stuerzl/papers/localpass.ps.gz
Refering-URL: http://www.cs.unc.edu/~stuerzl/publications.html
Root-URL: http://www.cs.unc.edu
Email: Internet: stuerzlinger@gup.uni-linz.ac.at  
Phone: Tel.: +43 732 2468 9228, Fax: +43 732 2468 9496  
Title: Optimized Local Pass using Importance Sampling  
Author: Wolfgang STRZLINGER 
Keyword: Key Words: image generation, local illumination, local pass.  
Address: Altenbergerstrae 69, A-4040 Linz, Austria/Europe  
Affiliation: GUP, Johannes Kepler University Linz  
Abstract: Recent approaches to realistic image synthesis split the rendering process into two passes. The first pass calculates an approximate global illumination solution, the second produces an image of high quality (from a user selected view point) using the solution obtained in the first pass by applying the local illumination model to each surface point visible through each pixel. This paper presents two new methods to compute the local illumination quickly. Instead of recalculating form factors and visibilities the information computed by a hierarchical radiosity solution algorithm is reused. The image generation time is reduced significantly by using stochastic methods. 
Abstract-found: 1
Intro-found: 1
Reference: [BRW89] <author> D. R. Baum, H. E. Rushmeier, and J. M. Winget, </author> <title> Improving radiosity solutions through the use of analytically determined form-factors, </title> <booktitle> Computer Graphics (SIGGRAPH 89), </booktitle> <pages> pp. 325-334, </pages> <month> July </month> <year> 1989. </year>
Reference-contexts: The radiosity coming from each direction is calculated from the surface point y visible in the direction and its radiosity B (y) obtained from a previous global illumination solution. The emitted radiance of a fully visible polygon A with constant radiosity B towards a point x is (see e.g. <ref> [BRW89] </ref>): H x ( ) p - B w ( ) Qdwcos W w B w ( ) 3 where a are the edges of the polygon and N is the normal vector of xs surface.
Reference: [CS94] <author> K. Chiu, P. Shirley, </author> <title> Rendering, Complexity, and Perception, </title> <booktitle> Proceedings of the 5th Eurographics Rendering Workshop (Darmstadt), </booktitle> <pages> pp. 19-34, </pages> <month> June </month> <year> 1994. </year>
Reference: [CW93] <author> M. F. Cohen, J. R. Wallace, </author> <title> Radiosity and Realistic Image Synthesis, </title> <publisher> Academic Press, </publisher> <year> 1993. </year>
Reference-contexts: These artifacts are due to an interpolation of radiosity values at inappropriate places or over unacceptably large areas as neither the final view point nor the image resolution are known at this stage. For an overview of global illumination methods see Cohen et al. <ref> [CW93] </ref> or Sillion et al. [SP94]. As every patch can interact with every other patch the cost of computing a global illumination solution appears to be O (n 2 ).
Reference: [HW91] <author> E. A. Haines, J. R. Wallace, </author> <title> Shaft Culling for Efficient Ray Traced Radiosity, </title> <booktitle> Proceedings of the 2nd Eurographics Rendering Workshop (Barcelona), </booktitle> <year> 1991. </year>
Reference-contexts: The contribution of the link is then potentially high and a proportional number of rays is used to determine the visibility, which is not necessary. If shaft culling <ref> [HW91] </ref> has been used as a speed up technique during the global illumination solution it can be easily determined if two patches are mutually fully visible. This information can easily be stored as a ag for each link.
Reference: [HSA91] <author> P. Hanrahan, D. Salzman, L. Aupperle, </author> <title> A Rapid Hierarcical Radiosity Algorithm, </title> <booktitle> Computer Graphics (SIGGRAPH 91), </booktitle> <pages> pp. 197-206, </pages> <month> July </month> <year> 1991. </year>
Reference-contexts: But groups of patches widely separated in space might reasonably have their interaction represented by a single number without introducing significant error. This idea is used in the hierarchical radiosity (HR) method <ref> [HSA91] </ref> which calculates a solution to the global illumination problem in less time. The patches are organized into a hierarchy where upper nodes represent groups of patches with the radiosity averaged. The hierarchical refinement algorithm constructs links for every non-zero transfer of light energy between the nodes of this tree.
Reference: [KJ92] <author> A. J. F. Kok, F. W. Jansen, </author> <title> Adaptive Sampling of Area Light Sources in Ray Tracing including Diffuse Interreection, </title> <journal> Computer Graphics Forum (Eurographics 92), </journal> <volume> vol. 11, no. 3, </volume> <pages> pp. 289-298, </pages> <month> Sept. </month> <year> 1992. </year>
Reference-contexts: Shirley [Shir94] describes a similar approach but uses a full path tracing method to evaluate the indirect illumination. A different approach was presented by Shirley [Shir91], where only the direct illumination is computed using stochastic methods. The indirect illumination is interpolated from the mesh. Kok et al. <ref> [KJ92] </ref> describe a generalization of this approach in which illumination due to the most significant secondary reectors as well as the emitters is recomputed during rendering, based on information gathered during the radiosity pass.
Reference: [LTG93] <author> D. Lischinski, F. Tampieri, D. P. Greenberg, </author> <title> Combining Hierarchical Radiosity and Discontinuity Meshing, </title> <booktitle> Computer Graphics (SIGGRAPH 93), </booktitle> <pages> pp. 199-208, </pages> <month> Aug. </month> <year> 1993. </year>
Reference-contexts: Rendering the hierarchical radiosity solution still produces images with artifacts. The most prominent errors are caused by the discontinuities in the illumination at shadow boundaries. Lischinski et al. <ref> [LTG93] </ref> subdivided the mesh along those lines to produce more accurate results. More correct images are obtained by a so called local pass. <p> Instead of following all links and recomputing all visibilities and form factors stochastic methods are used to reduce the computational effort. After a brief overview of the local pass and previous work, the new methods are discussed following the presentation of Lischinski et al. <ref> [LTG93] </ref>. The last section concludes with results and directions for further research. 2 Local Pass: Local Illumination at Each Pixel The local pass method evaluates the local illumination model at each surface point visible through the pixels of an image. <p> All above methods (except [Ward94]) use the results of a progressive refinement radiosity algorithm. As it is impractical to store all form factors and visibilities which were computed by the algorithm, a local pass method cannot take advantage of previously computed information. Lischinski et al. <ref> [LTG93] </ref> use a hierarchical radiosity solution to compute the local illumination for each pixel. His approach is discussed below. 3 Optimized Local Pass The complexity of a brute force local pass is proportional to the number of pixels times the cost of computing the local illumination. <p> The algorithm creates only O (n) links. The existence of a link signifies that a patch has an non-zero inuence onto another. This knowledge can be reused for the computation of local illumination. Lischinski et al. <ref> [LTG93] </ref> compute the local illumination of a surface point x by following all the links and summing up the contributions. As the links express area-to-area interactions the results are averaged over the area of the patch. <p> The advantage of this method is that the computational effort is concentrated where the global illumination solution is inaccuracte - along shadow boundaries. Both new methods are summarized as pseudocode in figure 2 (for pseudocode for Methods A-D see <ref> [LTG93] </ref>). 4 Implementation and Results The current implementation of the local pass method runs on a Silicon Graphics workstation. The results shown were obtained with a scene consisting of 2461 polygons (see figure 3). The hierarchical global illumination solution took 2513 second to compute and produced approximately 30000 links.
Reference: [LSG94] <author> D. Lischinski, B.Smits, D. P. Greenberg, </author> <title> Bounds and Error Estimates for Radios-ity , Computer Graphics (SIGGRAPH 94), </title> <journal> pp. </journal> <pages> 67-74, </pages> <month> July </month> <year> 1994. </year>
Reference-contexts: Currently the system does not use error bounds for the calculation of local illumination. If the hierarchical solution has been computed using the techniques presented by Lischinski et al. <ref> [LSG94] </ref> the calculated bounds can also be used to generate more exact images.
Reference: [NPTN95] <author> L. Neumann, W. Purgathofer, R. F. Tobler, A. Neumann, P. Elias, M. Feda, X. Pueyo, </author> <title> The Stochastic Ray Method for Radiosity, </title> <booktitle> Proceedings of the 6th Euro-graphics Rendering Workshop (Dublin), </booktitle> <pages> pp. 195-206, </pages> <month> June </month> <year> 1995. </year>
Reference-contexts: To avoid systematic errors we have chosen to use importance sampling to determine the number of rays to cast to a light source (see e.g. the Stochastic Ray Method <ref> [NPTN95] </ref>). A discrete cumulative distribution function F for the contribution of the links C i is defined by: (5) The stored radiosity of a patch is used as denominator for this expression. The numerator can be calculated incrementally while iterating through the links.
Reference: [Reic92] <author> M. C. Reichert, </author> <title> A two-pass radiosity method driven by lights and viewer position, </title> <type> Masters thesis, </type> <institution> Program of Computer Graphics, Cornell University, </institution> <month> Jan. </month> <year> 1992. </year>
Reference-contexts: The indirect illumination is interpolated from the mesh. Kok et al. [KJ92] describe a generalization of this approach in which illumination due to the most significant secondary reectors as well as the emitters is recomputed during rendering, based on information gathered during the radiosity pass. Reichert <ref> [Reic92] </ref> calculates the local illumination for a point x by calculating the form factor and visibility to each element and summing up the contributions. This method is quite costly as all elements have to be processed for every pixel.
Reference: [Rush88] <author> H. E. Rushmeier, </author> <title> Realistic Image Synthesis for Scenes with Radiatively Participating Media, </title> <type> Ph.D. thesis, </type> <institution> Cornell University, </institution> <year> 1988. </year>
Reference-contexts: Rushmeier <ref> [Rush88] </ref> describes a two-pass approach in which the first pass consists of a constant element radiosity solution computed using the progressive refinement algorithm. During the rendering pass the hemisphere integral is evaluated using Monte Carlo methods.
Reference: [Shir91] <author> P. Shirley, </author> <title> Physically Based Lighting Calculations for Computer Graphics, </title> <type> Ph.D. thesis, </type> <institution> University of Illinois at Urbana-Champain, </institution> <year> 1991. </year>
Reference-contexts: Random rays are used to compute an approximation to the local illumination. Shirley [Shir94] describes a similar approach but uses a full path tracing method to evaluate the indirect illumination. A different approach was presented by Shirley <ref> [Shir91] </ref>, where only the direct illumination is computed using stochastic methods. The indirect illumination is interpolated from the mesh.
Reference: [Shir94] <author> P. Shirley, </author> <title> Hybrid Radiosity/Monte Carlo Methods, </title> <booktitle> Siggraph 94 Advanced Radiosity Course. </booktitle> <month> July </month> <year> 1994. </year>
Reference-contexts: The direct illumination (illumination from primary light sources) is calculated for each pixel, because of its dominant contribution to the illumination for most pixels. Random rays are used to compute an approximation to the local illumination. Shirley <ref> [Shir94] </ref> describes a similar approach but uses a full path tracing method to evaluate the indirect illumination. A different approach was presented by Shirley [Shir91], where only the direct illumination is computed using stochastic methods. The indirect illumination is interpolated from the mesh.
Reference: [SAG94] <author> B. Smits, J. Arvo, D. Greenberg, </author> <title> A Clustering Algorithm for Radiosity in Complex Environments, </title> <booktitle> Computer Graphics (SIGGRAPH 94), </booktitle> <pages> pp. 435-442, </pages> <month> July </month> <year> 1994. </year>
Reference-contexts: This first HR algorithm created a tree for every surface, thereby creating O (s 2 + n) links where s is the number of surfaces and n the number of patches. A later work <ref> [SAG94] </ref> improved the running time to O (s log s + n) and the number of links to O (s + n) by clustering all patches using a bounding volume hierarchy. Rendering the hierarchical radiosity solution still produces images with artifacts.
Reference: [SC94] <author> P. Shirley, K. Chiu, </author> <title> Notes on Adaptive Quadrature on the Hemisphere, </title> <type> Technical Report TR-411, </type> <institution> Dept. of Computer Science, Indiana University, </institution> <year> 1994. </year>
Reference: [SP94] <author> F. X. Sillion, and C. Puech, </author> <title> Radiosity and Global Illumination, </title> <publisher> Morgan Kaufmann Publishers, </publisher> <year> 1994. </year>
Reference-contexts: These artifacts are due to an interpolation of radiosity values at inappropriate places or over unacceptably large areas as neither the final view point nor the image resolution are known at this stage. For an overview of global illumination methods see Cohen et al. [CW93] or Sillion et al. <ref> [SP94] </ref>. As every patch can interact with every other patch the cost of computing a global illumination solution appears to be O (n 2 ). But groups of patches widely separated in space might reasonably have their interaction represented by a single number without introducing significant error.
Reference: [SS95] <author> G. Schauer, W. Strzlinger, </author> <title> Exact and Error Bounded Approximations of Local Illumination, </title> <address> Compugraphics 95 (Alvor, Portugal), </address> <month> Dec. </month> <year> 1995. </year>
Reference-contexts: General scenes consist of several polygons and occlusion must be taken into account. Let A vis (x) be the part (s) of A visible from x. One way to compute the irradiance H (x) is: (4) The visible parts of all polygons can be identified by projection methods <ref> [SS95] </ref>.
Reference: [Ward94] <author> G. J. Ward, </author> <title> The RADIANCE Lighting Simulation and Rendering System, </title> <booktitle> Computer Graphics (SIGGRAPH 94), </booktitle> <pages> pp. 459-472, </pages> <month> July </month> <year> 1994. </year>
Reference-contexts: H x A,( ) B A ( ) 2p a A FF x A,( ) A g a N G a H x ( ) B A ( ) FF x A vis x ( ) ,( ) = 4 The RADIANCE System <ref> [Ward94] </ref> computes a global illumination solution by caching irradi-ance samples in the scene, instead of using a progressive refinement algorithm. The indirect illumination is computed by interpolating the irradiance of nearby samples, if appropriate. Otherwise new irradiance samples are created by stochastic sampling. All above methods (except [Ward94]) use the results <p> The RADIANCE System <ref> [Ward94] </ref> computes a global illumination solution by caching irradi-ance samples in the scene, instead of using a progressive refinement algorithm. The indirect illumination is computed by interpolating the irradiance of nearby samples, if appropriate. Otherwise new irradiance samples are created by stochastic sampling. All above methods (except [Ward94]) use the results of a progressive refinement radiosity algorithm. As it is impractical to store all form factors and visibilities which were computed by the algorithm, a local pass method cannot take advantage of previously computed information.
References-found: 18

