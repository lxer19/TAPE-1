URL: http://www.daimi.aau.dk/~daniel/texts/Higmans.Lemma.ps.gz
Refering-URL: http://www.daimi.aau.dk/~daniel/texts/
Root-URL: http://www.daimi.aau.dk
Email: e-mail: frito@cs.chalmers.se  
Title: Higman's Lemma in Type Theory  
Author: Daniel Fridlender 
Address: S 412 96 Goteborg, Sweden  
Affiliation: Department of Computing Science University of Goteborg and Chalmers University of Technology  
Abstract: This paper starts with a brief exploration of the history of Higman's lemma with emphasis on Veldman's recent intuitionistic proof, which established the lemma in its most general form. The rest of the paper is devoted to the description of a type-theoretic proof of such a general form of Higman's lemma. This involves considering type-theoretic formulations of bar induction, fan theorem, Ramsey theorem, and Hig-man's lemma. The proof was formalized in Martin-Lof's type theory without universes, and edited and checked in the proof editor ALF. 
Abstract-found: 1
Intro-found: 1
Reference: [ACJT96] <author> P. Abdulla, K. Cerans, B. Jonsson, and Y.-K. Tsay. </author> <title> General decidability theorems for infinite-state systems. </title> <booktitle> In 11th Annual IEEE Symposium on Logic in Computer Science. Proceedings, </booktitle> <year> 1996. </year>
Reference-contexts: The theory of wqo is described by Kruskal [Kru72] as an intriguing and frequently discovered subject. There are applications of it to rewrite systems [DJ90], to computer algebra (for instance, to the theory of Grobner bases), and also in concurrency [AJ93] and <ref> [ACJT96] </ref>. In general, wqo can be helpful to prove termination of programs, and therefore, the possible applications are unlimited. 2.2 Classical formulations Higman's lemma is often considered to be an important result in the theory of well-quasi-orderings. Theorem 2 ([Hig52]).
Reference: [AJ93] <author> P. Abdulla and B. Jonsson. </author> <title> Verifying programs with unreliable channels. </title> <booktitle> In 8th Annual IEEE Symposium on Logic in Computer Science. Proceedings, </booktitle> <pages> pages 160-170, </pages> <year> 1993. </year>
Reference-contexts: The theory of wqo is described by Kruskal [Kru72] as an intriguing and frequently discovered subject. There are applications of it to rewrite systems [DJ90], to computer algebra (for instance, to the theory of Grobner bases), and also in concurrency <ref> [AJ93] </ref> and [ACJT96]. In general, wqo can be helpful to prove termination of programs, and therefore, the possible applications are unlimited. 2.2 Classical formulations Higman's lemma is often considered to be an important result in the theory of well-quasi-orderings. Theorem 2 ([Hig52]).
Reference: [Bro54] <author> L. Brouwer. </author> <title> Points and spaces. </title> <journal> Canadian Journal of Mathematics, </journal> <volume> 6 </volume> <pages> 1-17, </pages> <year> 1954. </year>
Reference-contexts: Inductive bars. It remains to explain why inductive bars are correct representations of bars. The explanation relies on the validity of Brouwer's thesis |also called Brouwer's dogma in [MG79]| a statement which captures the arguments used by Brouwer in his proof of the bar theorem <ref> [Bro54] </ref>. Brouwer's thesis (for a set A). Any intuitionistic proof that U is a bar can be transformed into another proof of it which only uses the rules U (as) U|as U|snoc (as, a) (a A) U|snoc (as, a) U|as Brouwer's thesis can be interpreted in the following way.
Reference: [CF58] <author> H. Curry and R. Feys. </author> <title> Combinatory Logic, volume I. </title> <publisher> North-Holland, </publisher> <year> 1958. </year>
Reference: [CFH93] <author> T. Coquand, D. Fridlender, and H. Herbelin. </author> <title> A proof of higman's lemma by structural induction. </title> <type> Unpublished manuscript, </type> <year> 1993. </year>
Reference-contexts: Contemporarily, Murthy and Russell [MR90] found a direct constructive proof, and so did Richman and Stolzenberg [RS93]. In [Fri93], a formalization of Richman and Stolzenberg's proof in ALF was described. Yet another constructive proof was presented in <ref> [CFH93] </ref>, also formalized in ALF. With the constructive results, the attention given to Higman's lemma increased, since they gave rise to new and interesting questions. Godel and Fried-man translations made it possible to get constructive proofs out of classical proofs. <p> This resulted in a readable and runnable functional program of which however it has not been possible to make sense yet. In contrast with this both in [MR90] and in [RS93] the algorithms were trivial. Between these two extremes the proof in <ref> [CFH93] </ref> for a particular case of the lemma was followed by a full description of its computational content. Another new question which arises in a constructive approach is what the appropriate formulation of the lemma is. A single classical notion usually admits many different constructive interpretations.
Reference: [Con86] <author> R. Constable et al. </author> <title> Implementing Mathematics with the NuPRL Proof Development System. </title> <publisher> Prentice-Hall, </publisher> <address> Englewood Cliffs, NJ, </address> <year> 1986. </year>
Reference-contexts: Moreover, the translations provided a method to build a constructive proof from a classical one. Murthy [Mur90] applied the method to Nash-Williams' proof, obtaining another constructive proof of the lemma, which was also the first completely formal proof, coded in Nuprl <ref> [Con86] </ref>. Contemporarily, Murthy and Russell [MR90] found a direct constructive proof, and so did Richman and Stolzenberg [RS93]. In [Fri93], a formalization of Richman and Stolzenberg's proof in ALF was described. Yet another constructive proof was presented in [CFH93], also formalized in ALF.
Reference: [Coq92] <author> T. Coquand. </author> <title> Pattern matching with dependent types. </title> <booktitle> In Proceeding from the logical framework workshop at Bastad, </booktitle> <month> June </month> <year> 1992. </year>
Reference-contexts: The theory consists of a few inductively defined sets which follow the scheme presented by Dybjer [Dyb94], hereafter called the scheme. We restrict ourselves to this scheme rather than making free use of Coquand's pattern matching <ref> [Coq92] </ref>, or appealing to the use of universes, as explained in [NPS90]. The result is a very limited theory, which admits a proof-irrelevant model in the style of Smith [Smi88], and consequently consistency becomes elementary.
Reference: [Dic13] <author> L. Dickson. </author> <title> Finiteness of the odd perfect and primitive abundant numbers with n distinct prime factors. </title> <journal> American Journal of Mathematics, </journal> <volume> 35 </volume> <pages> 413-426, </pages> <year> 1913. </year>
Reference-contexts: The relation on natural numbers is a wqo, since given an infinite sequence ff of natural numbers, it is always possible to find ff (i) preceding ff (j) such that ff (i) ff (j) among the first ff (0) + 2 elements. Dickson's lemma <ref> [Dic13] </ref> is a pioneer result in the theory of wqo.
Reference: [DJ90] <author> N. Dershowitz and J.-P. Jouannaud. </author> <title> Rewrite systems. </title> <editor> In J. Van Leeuwen, editor, </editor> <booktitle> Handbook of Theoretical Computer Science, volume B, chapter 6, </booktitle> <pages> page 273. </pages> <publisher> Elsevier, </publisher> <year> 1990. </year>
Reference-contexts: It is a non-evident fact that fl is a wqo. The theory of wqo is described by Kruskal [Kru72] as an intriguing and frequently discovered subject. There are applications of it to rewrite systems <ref> [DJ90] </ref>, to computer algebra (for instance, to the theory of Grobner bases), and also in concurrency [AJ93] and [ACJT96].
Reference: [Dum77] <author> M. Dummett. </author> <title> Elements of intuitionism. </title> <publisher> Clarendon Press, Oxford, </publisher> <year> 1977. </year>
Reference-contexts: On the other hand, as shown by Veldman [Vel94], it is provable if infinite sequences are interpreted as choice sequences, using the axiom of bar induction for natural numbers. This axiom is explained for instance by Dummett <ref> [Dum77] </ref> and Martino and Giaretta [MG79].
Reference: [Dyb94] <author> P. Dybjer. </author> <title> Inductive families. </title> <journal> Formal Aspects of Computing, </journal> <volume> 6 </volume> <pages> 440-465, </pages> <year> 1994. </year>
Reference-contexts: This section presents the particular theory we implement in the framework for the proof of Higman's lemma. The theory consists of a few inductively defined sets which follow the scheme presented by Dybjer <ref> [Dyb94] </ref>, hereafter called the scheme. We restrict ourselves to this scheme rather than making free use of Coquand's pattern matching [Coq92], or appealing to the use of universes, as explained in [NPS90]. <p> However, this requirement is not essential, it is merely stipulated in <ref> [Dyb94] </ref> to simplify the notation for the description of the scheme. The same remark applies to the definition of the quantifiers over the elements of lists. In addition the induction principles allelim and someelim are again less general than the induction principles established by the scheme.
Reference: [ER52] <author> P. Erdos and R. </author> <title> Rado. Sets having a divisor property. </title> <journal> American Mathematical Monthly, </journal> <volume> 59 </volume> <pages> 255-257, </pages> <year> 1952. </year>
Reference-contexts: This agrees with the presentation of the definitions in Section 3 which are displayed just as ALF shows them. 2 Higman's lemma: an overview As mentioned above, Higman's lemma was first presented in [Hig52]. Related results were contemporarily but independently found by Neumann [Neu49] and Erdos and Rado <ref> [ER52] </ref>, in this last case motivated by a problem formulated by Erdos [Erd49]. However, among these first publications the lemma is only clearly expressed in [Hig52]. Since then, the theory of well-quasi-orderings in general, and Higman's lemma in particular has been object of persistent study.
Reference: [Erd49] <author> P. Erdos. </author> <title> Problem 4358. </title> <journal> American Mathematical Monthly, </journal> <volume> 56:480, </volume> <year> 1949. </year>
Reference-contexts: Related results were contemporarily but independently found by Neumann [Neu49] and Erdos and Rado [ER52], in this last case motivated by a problem formulated by Erdos <ref> [Erd49] </ref>. However, among these first publications the lemma is only clearly expressed in [Hig52]. Since then, the theory of well-quasi-orderings in general, and Higman's lemma in particular has been object of persistent study. Nash-Williams [Nas63] discovered a diagonalization argument which yields a simple and very elegant proof of Higman's lemma.
Reference: [Fri78] <author> H. Friedman. </author> <title> Classically and intuitionistically provably recursive functions. </title> <editor> In D. Scott and G. Muller, editors, </editor> <title> Higher Set Theory, </title> <booktitle> volume 669 of Lecture Notes in Mathematics, </booktitle> <pages> pages 21-28. </pages> <publisher> Springer-Verlag, </publisher> <year> 1978. </year>
Reference-contexts: The proofs by Schutte and Simpson would have been inspired by that of Schmidt [Sch79], which in turn refers to [JP77]. Independently of the proofs just mentioned, Stolzenberg noticed that as a consequence of Godel's double negation translation [God33] and Friedman's A-translation <ref> [Fri78] </ref>, Higman's lemma had a constructive proof. Moreover, the translations provided a method to build a constructive proof from a classical one. Murthy [Mur90] applied the method to Nash-Williams' proof, obtaining another constructive proof of the lemma, which was also the first completely formal proof, coded in Nuprl [Con86].
Reference: [Fri93] <author> D. Fridlender. </author> <title> Ramsey's theorem in type theory. </title> <type> Licentiate Thesis, </type> <institution> Chalmers University of Technology and University of Goteborg, Sweden, </institution> <month> October </month> <year> 1993. </year>
Reference-contexts: Murthy [Mur90] applied the method to Nash-Williams' proof, obtaining another constructive proof of the lemma, which was also the first completely formal proof, coded in Nuprl [Con86]. Contemporarily, Murthy and Russell [MR90] found a direct constructive proof, and so did Richman and Stolzenberg [RS93]. In <ref> [Fri93] </ref>, a formalization of Richman and Stolzenberg's proof in ALF was described. Yet another constructive proof was presented in [CFH93], also formalized in ALF. With the constructive results, the attention given to Higman's lemma increased, since they gave rise to new and interesting questions. <p> We define the set C and the relation T over C. C Set T (c 1 , c 2 C) Set As explained in <ref> [Fri93] </ref> the intuitionistic Ramsey theorem [VB93] can be formu-lated in type theory as follows. Theorem 17 (Ramsey theorem). If R and S have the fbp, so does T.
Reference: [God33] <author> K. </author> <title> Godel. Zur intuitionistischen arithmetik und zahlentheorie. </title> <journal> Ergebnisse eines mathematischen Kolloquiums, </journal> <volume> 4 </volume> <pages> 34-38, </pages> <year> 1933. </year> <note> English: [God65]. </note>
Reference-contexts: The proofs by Schutte and Simpson would have been inspired by that of Schmidt [Sch79], which in turn refers to [JP77]. Independently of the proofs just mentioned, Stolzenberg noticed that as a consequence of Godel's double negation translation <ref> [God33] </ref> and Friedman's A-translation [Fri78], Higman's lemma had a constructive proof. Moreover, the translations provided a method to build a constructive proof from a classical one.
Reference: [God65] <author> K. </author> <title> Godel. On intuitionistic arithmetic and number theory. </title> <editor> In M. Davis, editor, </editor> <booktitle> The Undecidable, </booktitle> <pages> pages 75-81. </pages> <publisher> Raven Press, </publisher> <year> 1965. </year>
Reference: [Hai69] <author> L. Haines. </author> <title> On free monoids partially ordered by embedding. </title> <journal> Journal of Combinatorial Theory, </journal> <volume> 6 </volume> <pages> 94-98, </pages> <year> 1969. </year>
Reference-contexts: Since then, the theory of well-quasi-orderings in general, and Higman's lemma in particular has been object of persistent study. Nash-Williams [Nas63] discovered a diagonalization argument which yields a simple and very elegant proof of Higman's lemma. Jullien [Jul68] sketched an original proof and Haines <ref> [Hai69] </ref>, unaware of all the previous proofs, rediscovered the result with yet a different proof. Simpson [Sim88] presented a constructive proof of a version of Higman's lemma in terms of ordinals. This proof is a translation to English of the proof of Schutte and Simpson [SS85]. <p> The following statement appears also often under the name of Higman's lemma: Theorem 3 ([Jul68], <ref> [Hai69] </ref>). Let = be the equality relation on a finite alphabet. Then = fl is a wqo.
Reference: [Hig52] <author> G. Higman. </author> <title> Ordering by divisibility in abstract algebras. </title> <journal> Proceedings of the London Mathematical Society, </journal> <volume> (3) 2 </volume> <pages> 326-336, </pages> <year> 1952. </year>
Reference-contexts: 1 Introduction Higman's lemma is a significant result in combinatorics. It was discovered by Higman <ref> [Hig52] </ref> and presented a number of times by different authors with some variations, both in the generality of its statement and in the logical principles used to demonstrate it. The main purpose of this paper is to present a proof of a version of the lemma in Martin-Lof's type theory. <p> This agrees with the presentation of the definitions in Section 3 which are displayed just as ALF shows them. 2 Higman's lemma: an overview As mentioned above, Higman's lemma was first presented in <ref> [Hig52] </ref>. Related results were contemporarily but independently found by Neumann [Neu49] and Erdos and Rado [ER52], in this last case motivated by a problem formulated by Erdos [Erd49]. However, among these first publications the lemma is only clearly expressed in [Hig52]. <p> overview As mentioned above, Higman's lemma was first presented in <ref> [Hig52] </ref>. Related results were contemporarily but independently found by Neumann [Neu49] and Erdos and Rado [ER52], in this last case motivated by a problem formulated by Erdos [Erd49]. However, among these first publications the lemma is only clearly expressed in [Hig52]. Since then, the theory of well-quasi-orderings in general, and Higman's lemma in particular has been object of persistent study. Nash-Williams [Nas63] discovered a diagonalization argument which yields a simple and very elegant proof of Higman's lemma. <p> Theorem 2 (<ref> [Hig52] </ref>). For any relation S, if S is a wqo so is S fl . This is the original formulation of the lemma, which was presented in [Hig52] as a corollary of a more general result.
Reference: [How80] <author> W. Howard. </author> <title> The formulae-as-types notion of construction. </title> <editor> In J. Seldin and J. Hindley, editors, </editor> <booktitle> To H.B. Curry: Essays on Combinatory Logic, Lambda Calculus and Formalism, </booktitle> <pages> pages 479-490. </pages> <publisher> Academic Press, </publisher> <address> London, </address> <year> 1980. </year>
Reference-contexts: Following Curry-Howard interpretation ([CF58] and <ref> [How80] </ref>) every proposition is represented by the set of its proofs. Every predicate over the elements of a set A is represented by a family of sets indexed by the elements of A. There is a natural identification between predicates, subsets and families of sets.
Reference: [JP77] <author> D. de Jongh and R. Parikh. </author> <title> Well-partial orderings and hierarchies. </title> <journal> Indaga-tiones Mathematicae, </journal> <volume> 39 </volume> <pages> 195-207, </pages> <year> 1977. </year>
Reference-contexts: This proof is a translation to English of the proof of Schutte and Simpson [SS85]. The proofs by Schutte and Simpson would have been inspired by that of Schmidt [Sch79], which in turn refers to <ref> [JP77] </ref>. Independently of the proofs just mentioned, Stolzenberg noticed that as a consequence of Godel's double negation translation [God33] and Friedman's A-translation [Fri78], Higman's lemma had a constructive proof. Moreover, the translations provided a method to build a constructive proof from a classical one.
Reference: [Jul68] <author> P. Jullien. </author> <title> Sur un theoreme d'extension dans la theorie des mots. </title> <institution> Comptes Rendus de la Academie de Sciences de Paris, (A) 266 </institution> <month> 851-854, </month> <year> 1968. </year>
Reference-contexts: Since then, the theory of well-quasi-orderings in general, and Higman's lemma in particular has been object of persistent study. Nash-Williams [Nas63] discovered a diagonalization argument which yields a simple and very elegant proof of Higman's lemma. Jullien <ref> [Jul68] </ref> sketched an original proof and Haines [Hai69], unaware of all the previous proofs, rediscovered the result with yet a different proof. Simpson [Sim88] presented a constructive proof of a version of Higman's lemma in terms of ordinals.
Reference: [Kru60] <author> J. Kruskal. </author> <title> Well-Quasi-Ordering, the tree theorem, and Vazsonyi's conjecture. </title> <journal> Transactions of the American Mathematical Society, </journal> <volume> 95 </volume> <pages> 210-225, </pages> <year> 1960. </year>
Reference-contexts: By this being the most general formulation of Higman's lemma we mean that it is the most general version regarding the requirements on S. But words can be generalized to trees, for instance, as stated by Kruskal theorem <ref> [Kru60] </ref>. The statement we proved in type theory is the following. Theorem 6 (Higman's lemma). Given any relation S, if S has the fbp so does S fl .
Reference: [Kru72] <author> J. Kruskal. </author> <title> The Theory of Well-Quasi-Ordering: A Frequently Discovered Concept. </title> <journal> Journal of Combinatorial Theory (A), </journal> <volume> 13 </volume> <pages> 297-305, </pages> <year> 1972. </year>
Reference-contexts: For instance, 3:7:5 fl 1:7:0:7:6, since the subword 7:7:6 majorizes 3:7:5, but 3:7:5 6 fl 1:7:6:6:98 (the best we can do is to pick the subword 7:98 which majorizes only 3:7). It is a non-evident fact that fl is a wqo. The theory of wqo is described by Kruskal <ref> [Kru72] </ref> as an intriguing and frequently discovered subject. There are applications of it to rewrite systems [DJ90], to computer algebra (for instance, to the theory of Grobner bases), and also in concurrency [AJ93] and [ACJT96].
Reference: [Mag94] <author> L. Magnusson. </author> <title> The Implementation of ALF a Proof Editor based on Martin-Lof 's Monomorphic Type Theory with Explicit Substitution. </title> <type> PhD thesis, </type> <institution> Department of Computing Science, Chalmers University of Technology and University of Goteborg, </institution> <year> 1994. </year>
Reference-contexts: This involves interpreting also bar induction, fan theorem, and Ramsey theorem. Because of the limitations of the formal system mentioned above, finding appropriate formulations is often delicate even when it concerns minor properties. The proof was edited with ALF, an interactive proof editor based on Martin-Lof's type theory <ref> [Mag94] </ref>. The presentation of the proof in Section 4 consists of informal arguments together with pieces of code, that is, fragments of the formal proof as they are seen with the interface of ALF. <p> Every predicate over the elements of a set A is represented by a family of sets indexed by the elements of A. There is a natural identification between predicates, subsets and families of sets. The proof was edited in ALF <ref> [Mag94] </ref>. Every definition will be given in its actual ALF notation, according to which [x 1 ,...,x n ]t denotes abstraction, t (a 1 ,...,a n ), denotes application, and (x A)B denotes function types, which may also be written (A)B when x does not occur in B.
Reference: [Mar68] <author> P. Martin-Lof. </author> <title> Notes on Constructive Mathematics. </title> <publisher> Almqvist & Wiksell, </publisher> <year> 1968. </year>
Reference-contexts: The adoption of the notion of inductive bar as the representation of bar is a variation of the same idea presented in <ref> [Mar68] </ref>, where in addition bars are assumed to be monotone. This assumption would simplify the definition of inductive bars, but the correspondence between inductive bars and bars, would depend on the predicate in question being monotone.
Reference: [Mar75] <author> P. Martin-Lof. </author> <title> An Intuitionistic Theory of Types: Predicative Part. </title> <editor> In H. E. Rose and J. C. Shepherdson, editors, </editor> <booktitle> Logic Colloquium 1973, </booktitle> <pages> pages 73-118, </pages> <address> Amsterdam, 1975. </address> <publisher> North-Holland Publishing Company. </publisher>
Reference-contexts: In the rest of the paper, Higman's lemma means Theorem 6. 3 Type theory By Martin-Lof's type theory one usually refers to a family of formal systems de-viced by Martin-Lof for formalizing intuitionistic mathematics. Some of the early formulations are <ref> [Mar75] </ref> and [Mar84]. In more recent formulations ([NPS90] and [Tas97]), Martin-Lof put forward a framework in which different theories can be implemented. Implementing a theory can be understood as extending the rules of the framework with the rules of the theory.
Reference: [Mar84] <author> P. Martin-Lof. </author> <title> Intuitionistic Type Theory. </title> <type> Bibliopolis, </type> <institution> Napoli, </institution> <year> 1984. </year>
Reference-contexts: In the rest of the paper, Higman's lemma means Theorem 6. 3 Type theory By Martin-Lof's type theory one usually refers to a family of formal systems de-viced by Martin-Lof for formalizing intuitionistic mathematics. Some of the early formulations are [Mar75] and <ref> [Mar84] </ref>. In more recent formulations ([NPS90] and [Tas97]), Martin-Lof put forward a framework in which different theories can be implemented. Implementing a theory can be understood as extending the rules of the framework with the rules of the theory.
Reference: [MG79] <author> E. Martino and P. Giaretta. Brouwer, </author> <title> dummett and the bar theorem. </title> <institution> In Atti del Convengo Nazionale di Logica. Bibliopolis, </institution> <year> 1979. </year>
Reference-contexts: On the other hand, as shown by Veldman [Vel94], it is provable if infinite sequences are interpreted as choice sequences, using the axiom of bar induction for natural numbers. This axiom is explained for instance by Dummett [Dum77] and Martino and Giaretta <ref> [MG79] </ref>. <p> Inductive bars. It remains to explain why inductive bars are correct representations of bars. The explanation relies on the validity of Brouwer's thesis |also called Brouwer's dogma in <ref> [MG79] </ref>| a statement which captures the arguments used by Brouwer in his proof of the bar theorem [Bro54]. Brouwer's thesis (for a set A).
Reference: [MR90] <author> C. Murthy and J. Russell. </author> <title> A constructive proof of higman's lemma. </title> <booktitle> In Fifth annual IEEE Symposium on Logic in Computer Science, </booktitle> <pages> pages 257-267, </pages> <year> 1990. </year>
Reference-contexts: Moreover, the translations provided a method to build a constructive proof from a classical one. Murthy [Mur90] applied the method to Nash-Williams' proof, obtaining another constructive proof of the lemma, which was also the first completely formal proof, coded in Nuprl [Con86]. Contemporarily, Murthy and Russell <ref> [MR90] </ref> found a direct constructive proof, and so did Richman and Stolzenberg [RS93]. In [Fri93], a formalization of Richman and Stolzenberg's proof in ALF was described. Yet another constructive proof was presented in [CFH93], also formalized in ALF. <p> Herbelin tried this further using automatic program extraction tools. This resulted in a readable and runnable functional program of which however it has not been possible to make sense yet. In contrast with this both in <ref> [MR90] </ref> and in [RS93] the algorithms were trivial. Between these two extremes the proof in [CFH93] for a particular case of the lemma was followed by a full description of its computational content. <p> A single classical notion usually admits many different constructive interpretations. This applies to Higman's lemma as well. This question originated this work. The motivation was the belief that the statement in [Mur90], <ref> [MR90] </ref> and [RS93] could be strengthened. This belief was finally confirmed by Veldman who succeeded in proving intuitionistically the so far most general formulation of the lemma [Vel94]. And it is corroborated in this paper, by exhibiting a type-theoretic proof of this formulation. <p> Then = fl is a wqo. By the previous observation that = on finite sets is a wqo, Theorem 3 is an easy consequence of Theorem 2. 2.3 Constructive formulations Among the first constructive proofs of Higman's lemma ([SS85], [Sim88], [RS93], [Mur90] and <ref> [MR90] </ref>), probably the clearest formulation is the one in [RS93]. Theorem 4 ([RS93]). For any decidable relation S, if S is a wqo so is S fl . With the constructive proofs, a new question arises concerning the formulation of the lemma. Theorem 4 requires S to be decidable.
Reference: [Mur90] <author> C. Murthy. </author> <title> Extracting Constructive Content from Classical Proofs. </title> <type> PhD thesis, </type> <institution> Cornell University, </institution> <year> 1990. </year>
Reference-contexts: Independently of the proofs just mentioned, Stolzenberg noticed that as a consequence of Godel's double negation translation [God33] and Friedman's A-translation [Fri78], Higman's lemma had a constructive proof. Moreover, the translations provided a method to build a constructive proof from a classical one. Murthy <ref> [Mur90] </ref> applied the method to Nash-Williams' proof, obtaining another constructive proof of the lemma, which was also the first completely formal proof, coded in Nuprl [Con86]. Contemporarily, Murthy and Russell [MR90] found a direct constructive proof, and so did Richman and Stolzenberg [RS93]. <p> With the constructive results, the attention given to Higman's lemma increased, since they gave rise to new and interesting questions. Godel and Fried-man translations made it possible to get constructive proofs out of classical proofs. What are the constructions implicit in those proofs? The experience of <ref> [Mur90] </ref> showed that the size of the proofs obtained by the translations made it difficult to analyze their computational content. Herbelin tried this further using automatic program extraction tools. This resulted in a readable and runnable functional program of which however it has not been possible to make sense yet. <p> Another new question which arises in a constructive approach is what the appropriate formulation of the lemma is. A single classical notion usually admits many different constructive interpretations. This applies to Higman's lemma as well. This question originated this work. The motivation was the belief that the statement in <ref> [Mur90] </ref>, [MR90] and [RS93] could be strengthened. This belief was finally confirmed by Veldman who succeeded in proving intuitionistically the so far most general formulation of the lemma [Vel94]. And it is corroborated in this paper, by exhibiting a type-theoretic proof of this formulation. <p> Then = fl is a wqo. By the previous observation that = on finite sets is a wqo, Theorem 3 is an easy consequence of Theorem 2. 2.3 Constructive formulations Among the first constructive proofs of Higman's lemma ([SS85], [Sim88], [RS93], <ref> [Mur90] </ref> and [MR90]), probably the clearest formulation is the one in [RS93]. Theorem 4 ([RS93]). For any decidable relation S, if S is a wqo so is S fl . With the constructive proofs, a new question arises concerning the formulation of the lemma.
Reference: [Nas63] <author> C. Nash-Williams. </author> <title> On well-quasi-ordering finite trees. </title> <booktitle> Proceedings of the Cambridge Philosophical Society, </booktitle> <volume> 59 </volume> <pages> 833-835, </pages> <year> 1963. </year>
Reference-contexts: However, among these first publications the lemma is only clearly expressed in [Hig52]. Since then, the theory of well-quasi-orderings in general, and Higman's lemma in particular has been object of persistent study. Nash-Williams <ref> [Nas63] </ref> discovered a diagonalization argument which yields a simple and very elegant proof of Higman's lemma. Jullien [Jul68] sketched an original proof and Haines [Hai69], unaware of all the previous proofs, rediscovered the result with yet a different proof.
Reference: [Neu49] <author> B. Neumann. </author> <title> On ordered division rings. </title> <journal> Transaction of the American Mathematical Society, </journal> <volume> 66 </volume> <pages> 202-252, </pages> <year> 1949. </year>
Reference-contexts: This agrees with the presentation of the definitions in Section 3 which are displayed just as ALF shows them. 2 Higman's lemma: an overview As mentioned above, Higman's lemma was first presented in [Hig52]. Related results were contemporarily but independently found by Neumann <ref> [Neu49] </ref> and Erdos and Rado [ER52], in this last case motivated by a problem formulated by Erdos [Erd49]. However, among these first publications the lemma is only clearly expressed in [Hig52]. Since then, the theory of well-quasi-orderings in general, and Higman's lemma in particular has been object of persistent study.
Reference: [NPS90] <author> B. Nordstrom, K. Petersson, and J. Smith. </author> <title> Programming in Martin-Lof 's Type Theory. An Introduction. </title> <publisher> Oxford University Press, </publisher> <year> 1990. </year>
Reference-contexts: The theory consists of a few inductively defined sets which follow the scheme presented by Dybjer [Dyb94], hereafter called the scheme. We restrict ourselves to this scheme rather than making free use of Coquand's pattern matching [Coq92], or appealing to the use of universes, as explained in <ref> [NPS90] </ref>. The result is a very limited theory, which admits a proof-irrelevant model in the style of Smith [Smi88], and consequently consistency becomes elementary.
Reference: [RS93] <author> F. Richman and G. Stolzenberg. </author> <title> Well Quasi-Ordered Sets. </title> <booktitle> Advances in Mathematics, </booktitle> <volume> 97 </volume> <pages> 145-153, </pages> <year> 1993. </year>
Reference-contexts: Murthy [Mur90] applied the method to Nash-Williams' proof, obtaining another constructive proof of the lemma, which was also the first completely formal proof, coded in Nuprl [Con86]. Contemporarily, Murthy and Russell [MR90] found a direct constructive proof, and so did Richman and Stolzenberg <ref> [RS93] </ref>. In [Fri93], a formalization of Richman and Stolzenberg's proof in ALF was described. Yet another constructive proof was presented in [CFH93], also formalized in ALF. With the constructive results, the attention given to Higman's lemma increased, since they gave rise to new and interesting questions. <p> Herbelin tried this further using automatic program extraction tools. This resulted in a readable and runnable functional program of which however it has not been possible to make sense yet. In contrast with this both in [MR90] and in <ref> [RS93] </ref> the algorithms were trivial. Between these two extremes the proof in [CFH93] for a particular case of the lemma was followed by a full description of its computational content. Another new question which arises in a constructive approach is what the appropriate formulation of the lemma is. <p> A single classical notion usually admits many different constructive interpretations. This applies to Higman's lemma as well. This question originated this work. The motivation was the belief that the statement in [Mur90], [MR90] and <ref> [RS93] </ref> could be strengthened. This belief was finally confirmed by Veldman who succeeded in proving intuitionistically the so far most general formulation of the lemma [Vel94]. And it is corroborated in this paper, by exhibiting a type-theoretic proof of this formulation. <p> Then = fl is a wqo. By the previous observation that = on finite sets is a wqo, Theorem 3 is an easy consequence of Theorem 2. 2.3 Constructive formulations Among the first constructive proofs of Higman's lemma ([SS85], [Sim88], <ref> [RS93] </ref>, [Mur90] and [MR90]), probably the clearest formulation is the one in [RS93]. Theorem 4 ([RS93]). For any decidable relation S, if S is a wqo so is S fl . With the constructive proofs, a new question arises concerning the formulation of the lemma. <p> By the previous observation that = on finite sets is a wqo, Theorem 3 is an easy consequence of Theorem 2. 2.3 Constructive formulations Among the first constructive proofs of Higman's lemma ([SS85], [Sim88], <ref> [RS93] </ref>, [Mur90] and [MR90]), probably the clearest formulation is the one in [RS93]. Theorem 4 ([RS93]). For any decidable relation S, if S is a wqo so is S fl . With the constructive proofs, a new question arises concerning the formulation of the lemma. Theorem 4 requires S to be decidable.
Reference: [Sch79] <author> D. Schmidt. </author> <title> Well-Partial-Orderings and Their Maximal Order Types. </title> <address> Habili-tationsschrift, </address> <year> 1979. </year>
Reference-contexts: Simpson [Sim88] presented a constructive proof of a version of Higman's lemma in terms of ordinals. This proof is a translation to English of the proof of Schutte and Simpson [SS85]. The proofs by Schutte and Simpson would have been inspired by that of Schmidt <ref> [Sch79] </ref>, which in turn refers to [JP77]. Independently of the proofs just mentioned, Stolzenberg noticed that as a consequence of Godel's double negation translation [God33] and Friedman's A-translation [Fri78], Higman's lemma had a constructive proof. Moreover, the translations provided a method to build a constructive proof from a classical one.
Reference: [Sim88] <author> S. Simpson. </author> <title> Ordinal numbers and the hilbert basis theorem. </title> <journal> The Journal of Symbolic Logic, </journal> <volume> 53 </volume> <pages> 961-974, </pages> <year> 1988. </year>
Reference-contexts: Nash-Williams [Nas63] discovered a diagonalization argument which yields a simple and very elegant proof of Higman's lemma. Jullien [Jul68] sketched an original proof and Haines [Hai69], unaware of all the previous proofs, rediscovered the result with yet a different proof. Simpson <ref> [Sim88] </ref> presented a constructive proof of a version of Higman's lemma in terms of ordinals. This proof is a translation to English of the proof of Schutte and Simpson [SS85]. <p> Let = be the equality relation on a finite alphabet. Then = fl is a wqo. By the previous observation that = on finite sets is a wqo, Theorem 3 is an easy consequence of Theorem 2. 2.3 Constructive formulations Among the first constructive proofs of Higman's lemma ([SS85], <ref> [Sim88] </ref>, [RS93], [Mur90] and [MR90]), probably the clearest formulation is the one in [RS93]. Theorem 4 ([RS93]). For any decidable relation S, if S is a wqo so is S fl . With the constructive proofs, a new question arises concerning the formulation of the lemma.
Reference: [Smi88] <author> J. Smith. </author> <title> The Independence of Peano's Fourth Axiom from Martin-Lof's Type Theory without Universes. </title> <journal> Journal of Symbolic Logic, </journal> <volume> 53 </volume> <pages> 840-845, </pages> <year> 1988. </year>
Reference-contexts: We restrict ourselves to this scheme rather than making free use of Coquand's pattern matching [Coq92], or appealing to the use of universes, as explained in [NPS90]. The result is a very limited theory, which admits a proof-irrelevant model in the style of Smith <ref> [Smi88] </ref>, and consequently consistency becomes elementary. <p> In large parts of the proof in Section 4 we avoided using equality. However, eventually its inclusion became necessary. 3.2 Limitations of the formal system The theory presented in Section 3 admits a proof-irrelevant model like the one given in <ref> [Smi88] </ref>. This model provides an elementary proof of consistency. It also shows that many intuitively true statements are not provable.
Reference: [SS85] <author> K. Schutte and S. Simpson. </author> <title> Ein in der reinen zahlentheorie unberweisbarer satz uber endliche folgen von naturlichen zahlen. </title> <journal> Archiv fur Mathematische Logik und Grundlagenfroschung, </journal> <volume> 25 </volume> <pages> 75-89, </pages> <year> 1985. </year>
Reference-contexts: Simpson [Sim88] presented a constructive proof of a version of Higman's lemma in terms of ordinals. This proof is a translation to English of the proof of Schutte and Simpson <ref> [SS85] </ref>. The proofs by Schutte and Simpson would have been inspired by that of Schmidt [Sch79], which in turn refers to [JP77]. Independently of the proofs just mentioned, Stolzenberg noticed that as a consequence of Godel's double negation translation [God33] and Friedman's A-translation [Fri78], Higman's lemma had a constructive proof.
Reference: [Tas97] <author> A. Tasistro. </author> <title> Substitution, record types and subtyping in type theory, with applications to the theory of programming. </title> <type> PhD thesis, </type> <institution> Department of Computing Science at Chalmers University of Technology and University of Goteborg, </institution> <year> 1997. </year>
Reference-contexts: In the rest of the paper, Higman's lemma means Theorem 6. 3 Type theory By Martin-Lof's type theory one usually refers to a family of formal systems de-viced by Martin-Lof for formalizing intuitionistic mathematics. Some of the early formulations are [Mar75] and [Mar84]. In more recent formulations ([NPS90] and <ref> [Tas97] </ref>), Martin-Lof put forward a framework in which different theories can be implemented. Implementing a theory can be understood as extending the rules of the framework with the rules of the theory. This section presents the particular theory we implement in the framework for the proof of Higman's lemma. <p> is sometimes impossible to prove intuitively true statements but these situations can often be solved by giving the statements appropriate reformulations. 3.1 An extension to type theory The formal system used to prove Higman's lemma is obtained by putting together the rules of Martin-Lof's logical framework (as presented by Tasistro <ref> [Tas97] </ref>) and the rules corresponding to the definitions of the sets presented in this section. Following Curry-Howard interpretation ([CF58] and [How80]) every proposition is represented by the set of its proofs.
Reference: [VB93] <author> W. Veldman and M. Bezem. </author> <title> Ramsey's theorem and the pigeonhole principle in intuitionistic mathematics. </title> <journal> Journal of the London Mathematical Society, </journal> (2)47:193-211, 1993. 
Reference-contexts: The constants goodb, and goodi correspond, respectively, to the informal rules Some ([a 1 ]R (a 1 , a), as) Good (R, snoc (as, a)) Good (R, as) Good (R, snoc (as, a)) Inductive bars In <ref> [VB93] </ref>, a recursion theoretical analysis of the role of the bar theorem in the intuitionistic Ramsey theorem leaves no hope for proving it in intuitionistic analysis without the axiom of bar induction. This applies to Higman's lemma as well, since it elementarily implies the intuitionistic Ramsey theorem. <p> We define the set C and the relation T over C. C Set T (c 1 , c 2 C) Set As explained in [Fri93] the intuitionistic Ramsey theorem <ref> [VB93] </ref> can be formu-lated in type theory as follows. Theorem 17 (Ramsey theorem). If R and S have the fbp, so does T.
Reference: [Vel94] <author> W. Veldman. </author> <title> Intuitionistic proof of the general non-decidable case of higman's lemma. </title> <type> Personal communication, </type> <year> 1994. </year> <title> This article was processed using the L A T E X macro package with LLNCS style </title>
Reference-contexts: Section 2 is a historical survey of Higman's lemma. It describes and compares the various forms in which the lemma appeared in the literature, and motivates our choice of Veldman's formulation <ref> [Vel94] </ref> as the one to prove in type theory. Section 3 makes precise the formalism in which we proved Higman's Lemma, by exhibiting the sets defined in Martin-Lof's logical framework for the formalization of the proof. <p> This applies to Higman's lemma as well. This question originated this work. The motivation was the belief that the statement in [Mur90], [MR90] and [RS93] could be strengthened. This belief was finally confirmed by Veldman who succeeded in proving intuitionistically the so far most general formulation of the lemma <ref> [Vel94] </ref>. And it is corroborated in this paper, by exhibiting a type-theoretic proof of this formulation. The rest of the section deals with the concrete formulations of the lemma mentioned in this survey. <p> This means that Higman's lemma is not intuitionistically provable if infinite sequences are interpreted as finitely describable functions from natural numbers to the set from where the elements of the sequences are chosen. On the other hand, as shown by Veldman <ref> [Vel94] </ref>, it is provable if infinite sequences are interpreted as choice sequences, using the axiom of bar induction for natural numbers. This axiom is explained for instance by Dummett [Dum77] and Martino and Giaretta [MG79]. <p> append satisfying the equations dneppa (as 1 , []) as 1 dneppa (as 1 , snoc (as 2 , a)) dneppa (snoc (as 1 , a), as 2 ) 4 Higman's lemma in type theory The proof of Higman's lemma we present here is a type-theoretic version of Veldman's proof <ref> [Vel94] </ref>.
References-found: 42

