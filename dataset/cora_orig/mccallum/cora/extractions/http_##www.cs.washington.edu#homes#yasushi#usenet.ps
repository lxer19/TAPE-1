URL: http://www.cs.washington.edu/homes/yasushi/usenet.ps
Refering-URL: http://porcupine.cs.washington.edu/mail/archive_index/0130.html
Root-URL: http://www.cs.washington.edu
Email: yasushi@cs.washington.edu  mogul@pa.dec.com, verghese@pa.dec.com  
Title: A Usenet Performance Study  
Author: Yasushi Saito Jeffrey C. Mogul and Ben Verghese 
Date: November 5, 1998  
Affiliation: Department of Computer Science and Engineering, University of Washington, and  Compaq Western Research Laboratory  
Abstract-found: 0
Intro-found: 1
Reference: [1] <institution> Advanced file system and utilities for DIGITAL UNIX, </institution> <year> 1996. </year> <note> http://www.unix.digital.com/faqs/- publications/base doc/DOCUMENTATION/HTML/ADVFS html/advfs admin guide.html. </note>
Reference-contexts: To solve or alleviate this problem, several new approaches have emerged recently. They are listed below. Use of fast file systems: File systems that can create files without synchronous disk operations can speed up article reception. Examples include AdvFS (Digital UNIX) <ref> [1] </ref>, XFS (Irix) [13], and WAFL (Network Appliance) [12]. CNFS (Cyclic News File System): CNFS is a user-level log-structured file system implemented in INN-2. It replaces the directory-structured article files with a large, fixed-size file. New articles are simply appended to the file. <p> Inn-trad-ufs: INN-2.0, traditional spool on UFS, Nagle option turned off. Inn-trad-advfs: INN-2.0, traditional spool on AdvFS <ref> [1] </ref>, Nagle option turned off. Inn-cnfs: INN-2.0, CNFS on UFS. Nagle option turned off. Dnews: Dnews [4] on UFS For INN, we modified the TCP connection set-up routine to turn off the Nagle algorithm [9], since it inflates article retrieval latency to an unacceptable level and makes benchmarking almost meaningless.
Reference: [2] <author> Jennifer M. Anderson, Lance M. Berc, Jeffrey Dean, Sanjay Ghemawat, Monika R. Henzinger, Richard L. Sites Shun-Tak A. Leung, Mark T. Vandevoorde, Carl A. Waldspurger, and William E. Weihl. </author> <title> Continuous profiling: </title> <booktitle> where have all the cycles gone? In SOSP-16, </booktitle> <pages> pages 1-14. </pages> <publisher> ACM, </publisher> <month> October </month> <year> 1997. </year>
Reference-contexts: As of INN-2.1, nnrpd reads the active file and creates an in-memory newsgroup hash table after the child is forked. DCPI <ref> [2] </ref> profile during the runs of earlier versions of the benchmark program showed that a large amount of time was spent building the hash table. Thus, we decided to make nnrpd read the active file before the master server accepts a connection.
Reference: [3] <author> Diablo web page, </author> <year> 1998. </year> <note> http://www.backplane.com/diablo/. </note>
Reference-contexts: By giving up the reading capability, the server can get rid of spool entirely, resulting in order of magnitude better article reception throughput than traditional news systems'. Examples include Diablo <ref> [3] </ref> and Cyclone [5]. 4 Usenet Activity Analysis We have gathered the Usenet activity trace of a news server and analyzed it. This section describes the experimental setup and the summary of findings.
Reference: [4] <author> Dnews web page, </author> <year> 1998. </year> <note> http://http.netwinsite.com/dnews.htm. </note>
Reference-contexts: According to an expert, INN [6] has more than 90% of the share especially in large-scale server market. Recently, commercial packages such as Dnews <ref> [4] </ref> and Typhoon [5] are gaining share. We estimated the news reader share by scanning each article in the news spool and guessing which the software was used to post it by looking at certain header fields. <p> Inn-trad-ufs: INN-2.0, traditional spool on UFS, Nagle option turned off. Inn-trad-advfs: INN-2.0, traditional spool on AdvFS [1], Nagle option turned off. Inn-cnfs: INN-2.0, CNFS on UFS. Nagle option turned off. Dnews: Dnews <ref> [4] </ref> on UFS For INN, we modified the TCP connection set-up routine to turn off the Nagle algorithm [9], since it inflates article retrieval latency to an unacceptable level and makes benchmarking almost meaningless. This issue is discussed in Section 6.1.
Reference: [5] <author> Highwind web page, </author> <year> 1998. </year> <note> http://www.highwind.com. </note>
Reference-contexts: According to an expert, INN [6] has more than 90% of the share especially in large-scale server market. Recently, commercial packages such as Dnews [4] and Typhoon <ref> [5] </ref> are gaining share. We estimated the news reader share by scanning each article in the news spool and guessing which the software was used to post it by looking at certain header fields. <p> By giving up the reading capability, the server can get rid of spool entirely, resulting in order of magnitude better article reception throughput than traditional news systems'. Examples include Diablo [3] and Cyclone <ref> [5] </ref>. 4 Usenet Activity Analysis We have gathered the Usenet activity trace of a news server and analyzed it. This section describes the experimental setup and the summary of findings.
Reference: [6] <author> Inn web page, </author> <year> 1998. </year> <note> http://www.isc.org/inn.html. </note>
Reference-contexts: A client session is also fairly long. It usually begins when the user opens a news window and ends when the user closes the window. 3 2.3 News Software Usage There is no authoritative figure about server market share or about client market share. According to an expert, INN <ref> [6] </ref> has more than 90% of the share especially in large-scale server market. Recently, commercial packages such as Dnews [4] and Typhoon [5] are gaining share.
Reference: [7] <author> Brian Kantor and Phil Lapsey. </author> <title> Network news transfer protocol. </title> <note> 1986. RFC977, http://www.cis.ohio-state.edu/htbin/rfc/rfc977.html. 21 </note>
Reference-contexts: Its format depends on the server that originally posted the article, but the message ID is guaranteed to be globally unique. It is mainly used to detect duplicate articles. 2.2 NNTP: Network News Transfer Protocol Network News Transfer Protocol (NNTP) <ref> [7] </ref> is a TCP-based line-oriented protocol used for both an inter-server article transfer and client-server article transfer.
Reference: [8] <institution> Lawrence Berkeley National Laboratory. Tcpdump. </institution> <note> Available via ftp://ftp.ee.lbl.gov/tcpdump--3.4.tar.Z. </note>
Reference-contexts: Figure 8 shows our trace gathering environment. Table 2 shows the amount and type of information collected. The client trace was obtained by setting up a machine (venkat) in the same subnet as usenet's and running a modified tcpdump <ref> [8] </ref>. The modified tcpdump passively monitors all the NNTP packets that flows into and out of usenet, extracts the necessary information and logs it. 400 unique client IP addresses and 2300 unique sessions were recorded per day on average.
Reference: [9] <author> John Nagle. </author> <note> Congestion control in IP/TCP internetworks. 1984. RFC896, http://www.cis.ohio-state.edu/htbin/rfc/rfc896.html. </note>
Reference-contexts: Inn-trad-advfs: INN-2.0, traditional spool on AdvFS [1], Nagle option turned off. Inn-cnfs: INN-2.0, CNFS on UFS. Nagle option turned off. Dnews: Dnews [4] on UFS For INN, we modified the TCP connection set-up routine to turn off the Nagle algorithm <ref> [9] </ref>, since it inflates article retrieval latency to an unacceptable level and makes benchmarking almost meaningless. This issue is discussed in Section 6.1. To measure the INN client performance, nnrpd was run in a stand-alone mode.(-d option). <p> The reason was that the TCP Nagle algorithm <ref> [9] </ref> was interacting badly with INN. The Nagle algorithm is designed to improve the efficiency of programs like telnet by not sending more than one outstanding packet when its size is smaller than MTU.
Reference: [10] <author> Henry Spencer and David Lawrence. </author> <title> Managing Usenet. </title> <publisher> O'Reilly & Associates, </publisher> <month> January </month> <year> 1998. </year>
Reference-contexts: Finally, we report several changes we made to a news server that improve its performance by 200% to 800% in some situations. 2 Usenet Usenet is a set of distributed discussion forums built on top of the Internet <ref> [10] </ref>. From a user viewpoint, Usenet consists of newsgroups that arrange discussions along specific topics, and each newsgroup consists of articles posted by users. Users can post articles to a newsgroup (or to a set of newsgroups), and they are eventually delivered to all the other Usenet users.
Reference: [11] <author> Karl Swartz. </author> <title> Forecasting disk resource requirements for a Usenet server. </title> <booktitle> In USENIX LISA VII, </booktitle> <month> November </month> <year> 1993. </year> <note> http://www.chicago.com/ kls/papers/lisa93.ps.gz. </note>
Reference-contexts: The biggest Usenet server as of today is believed to carry about 800,000 articles per day (9 articles per second). They consume about 10 to 15 GB of disk space. The traffic level is believed to double every 15 to 18 months <ref> [11] </ref>. There are about 25,000 newsgroups, and a few new groups are added every day. 2.1 Usenet Article Example block spanning from the beginning of the article to the first empty line is the header, and the rest is the body.
Reference: [12] <institution> File system design for an NFS file server appliance, </institution> <year> 1998. </year> <note> http://www.netapp.com/technology/- level3/3002.html. </note>
Reference-contexts: To solve or alleviate this problem, several new approaches have emerged recently. They are listed below. Use of fast file systems: File systems that can create files without synchronous disk operations can speed up article reception. Examples include AdvFS (Digital UNIX) [1], XFS (Irix) [13], and WAFL (Network Appliance) <ref> [12] </ref>. CNFS (Cyclic News File System): CNFS is a user-level log-structured file system implemented in INN-2. It replaces the directory-structured article files with a large, fixed-size file. New articles are simply appended to the file.
Reference: [13] <author> XFS: </author> <title> A next generation journalled 64-bit filesystem with guaranteed rate i/o, </title> <note> 1994. http://- www.sgi.com/Technology/xfs-whitepaper.html. 22 </note>
Reference-contexts: To solve or alleviate this problem, several new approaches have emerged recently. They are listed below. Use of fast file systems: File systems that can create files without synchronous disk operations can speed up article reception. Examples include AdvFS (Digital UNIX) [1], XFS (Irix) <ref> [13] </ref>, and WAFL (Network Appliance) [12]. CNFS (Cyclic News File System): CNFS is a user-level log-structured file system implemented in INN-2. It replaces the directory-structured article files with a large, fixed-size file. New articles are simply appended to the file.
References-found: 13

