URL: ftp://ftp.ee.lbl.gov/papers/metrics-framework-INET96.ps.Z
Refering-URL: http://www.cs.washington.edu/education/courses/590s/w98/index.html
Root-URL: 
Email: vern@ee.lbl.gov  
Title: Towards a Framework for Defining Internet Performance Metrics an example of defining an Internet route
Author: Vern Paxson 
Note: with  
Date: June 20, 1996  
Affiliation: Network Research Group Lawrence Berkeley National Laboratory  
Pubnum: LBNL-38952  
Abstract: The Internet's tremendous growth represents a triumph of standardization, since it is only through standardization that so many different networks using so many different designs can smoothly exchange data. The standardization of Internet measurement, however, has not matched the explosive growth of the network as a whole. Even such basic notions as how to measure the throughput or delay along an Internet path lack a standardized framework. Instead it has become increasingly difficult to diagnose problems or determine whether one is receiving promised performance. In this paper we outline how a measurement framework might be developed to support Internet diagnosis and performance evaluation. We propose terminology to use in defining standards, including the key notions of metric as the fundamental property we wish to measure, methodology as a way to attempt to measure the property, and measurement as the result of a specific application of a methodology. We develop a basic contrast between analytically-specified met-rics, which emphasize viewing network properties in analytic terms, and empirically-specified metrics, which correspond to properties that are generally too complex to discuss analytically but still very important for practical measurement. Each has its place in the framework. We further discuss the notion of composition (how a property we wish to measure might be fruitfully viewed in terms of a collection of simpler, underlying properties), the crucial issues of measurement errors and uncertainties, and the pros and cons of different measurement strategies, including the degree of cooperation they require. We also sketch a proposal for how one might architect a measurement infrastructure for the Internet. We finish with proposed formalisms for defining Internet metrics and methodologies, illustrated fl This work was supported by the Director, Office of Energy Research, Scientific Computing Staff, of the U.S. Department of Energy under Contract No. DE-AC03-76SF00098. An earlier version of this paper appeared in the Proceedings of INET '96. 
Abstract-found: 1
Intro-found: 1
Reference: [Ba95] <author> F. Baker, Ed., </author> <title> Requirements for IP Version 4 Routers, </title> <type> RFC 1812, </type> <institution> DDN Network Information Center, </institution> <month> June </month> <year> 1995. </year>
Reference-contexts: Routers generate ICMP Time exceeded error messages [Po81b] identifying the router when they receive an IP packet with an expired TTL (Time To Live). Routers decrement TTLs once per hop and not additionally once per second of queueing, per <ref> [Ba95] </ref>. Packets addressed to a random UDP port on host B with sufficient TTL will be conveyed all the way to B, and will there elicit a UDP port unreachable ICMP message from B. Routes do not change on time scales of seconds to a few minutes. <p> Such a drop is indistinguishable from a failure along the forward path. Thus, a missing reply is ambiguous. Some routers also limit the rate at which they generate ICMP messages, as allowed by <ref> [Ba95] </ref>, and replies not sent due to rate-limiting are difficult to distinguish from failures. Other routers generate poorly formed replies, which may not be received by host A (see [Pa96b] for further discussion). <p> Another Traceroute assumption is that routers only decrement TTLs once per hop, and not additionally once per second of forwarding delay, which is allowed (and was originally intended) <ref> [Po81a, Ba95] </ref>. If a router decrements a TTL by more than 1, then potentially the measured route will show that router, or a downstream router, twice. It is believed, however, that current and likely future practice in Internet routers is to never decrement the TTL by more than 1 [Ba95]. <p> If a router decrements a TTL by more than 1, then potentially the measured route will show that router, or a downstream router, twice. It is believed, however, that current and likely future practice in Internet routers is to never decrement the TTL by more than 1 <ref> [Ba95] </ref>. Another assumption is that packets addressed to a random UDP port on host B with sufficient TTL will be conveyed all the way to B. In practice, sometimes Internet firewalls will drop such packets (or the corresponding ICMP replies).
Reference: [Ce91] <author> V. Cerf, Ed., </author> <title> Guidelines for Internet Measurement Activities, </title> <type> RFC 1262, </type> <institution> DDN Network Information Center, </institution> <month> October </month> <year> 1991. </year>
Reference-contexts: One drawback with passive techniques that is vital to address is ensuring privacy and security <ref> [Ce91] </ref>. Since most Internet traffic is sent unencrypted, passive measurement programs will often have the potential to capture sensitive traffic.
Reference: [HG94] <author> C. Huitema and P. Gross, </author> <title> The Internet Standards ProcessRevision 2, </title> <type> RFC 1602, </type> <institution> DDN Network Information Center, </institution> <month> March </month> <year> 1994. </year>
Reference-contexts: (if any) the methodology sheds on the formal definition of the metric * any new metrics or methodologies suggested * REQUIRED: a reference implementation We envision performance metric and methodology definitions undergoing the same standardization process as other Internet standards: that is, formal definitions are developed using the RFC process <ref> [HG94] </ref>. Here is an example of a formally defined performance metric: Name Instantaneous route of a network path Underlying notion Whenever packets are sent from an Internet host A to another host B, each packet traverses on its journey a sequence of Internet links and routers.
Reference: [Ja89] <author> V. Jacobson, traceroute, ftp://ftp.ee.lbl.gov/ traceroute.tar.Z, </author> <year> 1989. </year>
Reference-contexts: Consider the analytical metric defined above: 5 Instantaneous route of a network path The sequence of links and routers comprising the path from A to B at a given instant in time. The best-known methodology for measuring this metric is the traceroute utility <ref> [Ja89] </ref>. traceroute, however, elicits the network route one hop at a time.
Reference: [JLM89] <author> V. Jacobson, C. Leres, and S. McCanne, tcpdump, ftp://ftp.ee.lbl.gov/tcpdump.tar.Z, </author> <month> June </month> <year> 1989. </year>
Reference-contexts: Since most Internet traffic is sent unencrypted, passive measurement programs will often have the potential to capture sensitive traffic. One major step in addressing these concerns is the recently written tcpdpriv program [Mi96], which takes packets captured by the popular tcpdump program <ref> [JLM89] </ref> and removes or scrambles a configurable amount of the information present in them, including source and destination hosts and ports, and packet contents. By incorporating tcpdpriv into passive measurement methodologies, the privacy and security concerns can largely be satisfactorily addressed. Another axis of measurement strategy concerns measurement location.
Reference: [Kn81] <author> D. Knuth, </author> <title> Seminumerical Algorithms, </title> <booktitle> 2nd edition, </booktitle> <address> AddisonWesley, </address> <year> 1981. </year>
Reference-contexts: Naturally a goal is then to choose a definition that minimizes the propagation and escalation of errors. The general question of how errors propagate during composition has been long studied by numerical analysts in general, and proponents of interval arithmetic in particular see <ref> [Kn81] </ref> for an overview. 10 Measurement strategies In this section we discuss different types of measurement methodologies. We term each type a measurement strategy because the different types take different high-level approaches to measurement.
Reference: [LTWW94] <author> W. Leland, M. Taqqu, W. Willinger, and D. Wilson, </author> <title> On the Self-Similar Nature of Ethernet Traffic (Extended Version), </title> <journal> IEEE/ACM Transactions on Networking, </journal> <volume> 2(1), </volume> <pages> pp. 1-15, </pages> <month> February </month> <year> 1994. </year> <month> 12 </month>
Reference-contexts: Such traffic measurements can prove bountiful for answering key network research questions. For example, the case for self-similar network traffic <ref> [LTWW94] </ref>, which has profound implications for networking performance, has been made most solidly for local area networks and for links connecting stub networks to the Internet backbone.
Reference: [MM96] <author> M. Mathis and J. Mahdavi, </author> <title> Diagnosing Internet Congestion with a Transport Layer Performance Tool, </title> <note> to appear in Proc. INET '96, </note> <month> June </month> <year> 1996. </year>
Reference-contexts: Here state of the art refers to the best current practices both for high-performance TCP and for congestion control. An example would be the treno tool, which attempts to do just this, and is described in <ref> [MM96] </ref>.
Reference: [Mi96] <author> G. Minshall, tcpdpriv, </author> <title> to appear in the Internet Traffic Archive, </title> <address> http://town.hall.org/Archives/ pub/ITA/, </address> <year> 1996. </year>
Reference-contexts: One drawback with passive techniques that is vital to address is ensuring privacy and security [Ce91]. Since most Internet traffic is sent unencrypted, passive measurement programs will often have the potential to capture sensitive traffic. One major step in addressing these concerns is the recently written tcpdpriv program <ref> [Mi96] </ref>, which takes packets captured by the popular tcpdump program [JLM89] and removes or scrambles a configurable amount of the information present in them, including source and destination hosts and ports, and packet contents.
Reference: [Pa96a] <author> V. Paxson, </author> <title> End-to-end Routing Behavior in the Internet, </title> <note> to appear in Proc. SIGCOMM '96, </note> <month> August </month> <year> 1996. </year>
Reference-contexts: This technique introduces considerable uncertainty into the measurement of T 1 , because of the symmetric routing assumption (and, in reality, routes tend not to be symmetricsee <ref> [Pa96a] </ref>). Another technique, requiring hard cooperation, is to time the departure of the packet from A and its arrival at B using synchronized clocks, and then using that direct measurement (plus the error due to imperfect synchronization of the clocks) in estimating T 1 . <p> Another example concerns Internet performance in the post-NSFNET world. There is widespread anecdotal evidence that Internet performance in the large has significantly degraded since the National Science Foundation ceased to manage the core of the network (measurement evidence that routing has degraded appears in <ref> [Pa96a] </ref>), and widespread speculation that the degradation is principally due to the growth of the World Wide Web. Traffic traces from backbone links would shed invaluable light on this issue, which has major implications for Internet engineering. <p> The ability for customers to compare the service offered by different providers in turn will create the necessary market incentives for the providers to optimize their networks. See <ref> [Pa96a] </ref> for a discussion of a measurement experiment carried out using a crude measurement infrastructure approach, which for N = 34 was able to probe a significant number of different routes through the Internet. 4 Clearly, ensuring that the platforms are themselves secure is also a major requirement, to prevent malicious <p> This uncertainty leads to the possibility of ambiguities, such as discussed above, where the measured route differs from the true route. The difference may also be difficult to detect. Because routes can change frequently <ref> [Pa96a] </ref>, one must take care with the common presumption that a measurement at time T is likely to serve also for time T + S for small S. It may be difficult to determine the addresses of both the inbound and outbound interfaces visited. <p> Future work A related metric of the instantaneous route from A to B for a packet of type T (see previous item); metrics for the stability of routes over time (see <ref> [Pa96a] </ref> for a discussion of defining stability); metrics for quantifying connectivity outages.
Reference: [Pa96b] <author> V. Paxson, </author> <title> An Analysis of End-to-End Internet Dynamics, </title> <type> Ph.D. </type> <note> dissertation in preparation, </note> <institution> University of California, Berkeley, </institution> <year> 1996. </year>
Reference-contexts: Some routers also limit the rate at which they generate ICMP messages, as allowed by [Ba95], and replies not sent due to rate-limiting are difficult to distinguish from failures. Other routers generate poorly formed replies, which may not be received by host A (see <ref> [Pa96b] </ref> for further discussion). To address these difficulties, the Traceroute methodology sends 3 packets for each hop being measured, with the hope that a reply will be received for at least one of the 3 packets.
Reference: [Po81a] <author> J. Postel, </author> <title> Internet Protocol, </title> <type> RFC 791, </type> <institution> Network Information Center, SRI International, </institution> <address> Menlo Park, CA, </address> <month> September </month> <year> 1981. </year>
Reference-contexts: Most measurements, however, and all active measurements, require at least some form of participation by multiple network components. For example, the ping program for estimating the round-trip time from host A to B requires that host B respond to ICMP ECHO request messages <ref> [Po81a, Po81b] </ref>. <p> Another Traceroute assumption is that routers only decrement TTLs once per hop, and not additionally once per second of forwarding delay, which is allowed (and was originally intended) <ref> [Po81a, Ba95] </ref>. If a router decrements a TTL by more than 1, then potentially the measured route will show that router, or a downstream router, twice. It is believed, however, that current and likely future practice in Internet routers is to never decrement the TTL by more than 1 [Ba95]. <p> The IP Record Route option <ref> [Po81a] </ref> offers the possibility of recording multiple hops with a single measurement packet. This would reduce load and improve accuracy (by reducing the measurement window), but requires a form of hard cooperation, since Internet routers are not required to process the Record Route option.
Reference: [Po81b] <author> J. Postel, </author> <title> Internet Control Message Protocol, </title> <type> RFC 792, </type> <institution> Network Information Center, SRI International, </institution> <address> Menlo Park, CA, </address> <month> September </month> <year> 1981. </year> <month> 13 </month>
Reference-contexts: Most measurements, however, and all active measurements, require at least some form of participation by multiple network components. For example, the ping program for estimating the round-trip time from host A to B requires that host B respond to ICMP ECHO request messages <ref> [Po81a, Po81b] </ref>. <p> Assumptions The first assumption below is required for the methodology to generate any useful information. The remaining assumptions are required for the methodology to return a single, consistent, end-to-end route. If they are violated, the metric will still be partially measured. Routers generate ICMP Time exceeded error messages <ref> [Po81b] </ref> identifying the router when they receive an IP packet with an expired TTL (Time To Live). Routers decrement TTLs once per hop and not additionally once per second of queueing, per [Ba95].
References-found: 13

