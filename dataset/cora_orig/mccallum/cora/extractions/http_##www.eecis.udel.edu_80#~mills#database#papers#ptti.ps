URL: http://www.eecis.udel.edu:80/~mills/database/papers/ptti.ps
Refering-URL: http://www.eecis.udel.edu:80/~mills/papers.htm
Root-URL: http://www.cis.udel.edu
Title: The Network Computer as Precision Timekeeper 1,2  
Author: David L. Mills 
Keyword: computer network time synchronization, clock discipline algorithm, pulse-per-second steering  
Affiliation: Electrical Engineering Department University of Delaware  
Abstract: This paper describes algorithms to discipline a computer clock to a source of standard time, such as a GPS receiver or another computer synchronized to such a source. The algorithms are designed for use in the Network Time Protocol (NTP), which is used to synchronize computer clocks in the global Internet. They have been incorporated in the NTP software for Unix and Windows and, for the highest accuracy, in the operating system kernels for Sun, DEC and HP workstations. RMS errors on LANs are usually less than 10 m s and on global Internet paths usually less than 5 ms. However, rare disruptions of one kind or another can cause error spikes up to 100 m s on LANs and 100 ms on Internet paths.
Abstract-found: 1
Intro-found: 1
Reference: <institution> References 3-7 are available from Internet archives in PostScript format. Contact the author for location and availability. </institution>
Reference: 1. <author> Allan, D.W. </author> <title> Time and frequency (time-domain) estimation and prediction of precision clocks and oscillators. </title> <journal> IEEE Trans. on Ultrasound, Ferroelec-trics, and Frequency Control UFFC-34, </journal> <note> 6 (Novem-ber 1987), 647-654. Also in: Sullivan, D.B., </note> <author> D.W. Allan, D.A. Howe and F.L. </author> <title> Walls (Eds.). Characterization of Clocks and Oscillators . NIST Technical Note 1337, </title> <type> U.S. </type> <institution> Department of Commerce, </institution> <year> 1990, </year> <pages> 121-128. </pages>
Reference-contexts: Assuming the clock discipline can learn the nominal frequency error of each clock oscillator separately and correct for it, the primary characteristic affecting the clock accuracy is the oscillator stability. The traditional characterization of oscillator stability is a plot of Allan variance <ref> [1] </ref>, which is defined as follows. Consider a series of time offsets measured between a computer clock and some external standard. Let x k be the k th measurement and t be the interval since the last measurement. Define the fractional frequency , (1) which is a dimensionless quantity.
Reference: 2. <author> Levine, J. </author> <title> An algorithm to synchronize the time of a computer to universal time. </title> <journal> IEEE Trans. </journal> <volume> Networks 3, </volume> <month> 1 (February </month> <year> 1995), </year> <pages> 42-50. </pages>
Reference-contexts: The FLL mode is used in configurations with modem services, such as those operated by NIST, USNO, PTB and NPL, where the averaging interval ( t in this case) is usually above the knee. The FLL, adapted from <ref> [2] </ref>, operates is the same way as the PLL, except that the frequency y k is determined indirectly from the exponential average , (8) with w = 0.25 determined by experiment.
Reference: 3. <author> Mills, </author> <title> D.L. Improved algorithms for synchronizing computer network clocks. </title> <journal> IEEE/ACM Trans. </journal> <note> Net works (June 1995), 245-254. </note>
Reference-contexts: Using available technology and existing workstations and Internet paths, it has been demonstrated that computers can be reliably synchronized to better than a millisecond in LANs and better than a few tens of milliseconds in most places in the global Internet <ref> [3] </ref>. This technology includes the Network Time Protocol (NTP), now used in an estimated total of over 100,000 servers and clients in the global Internet. <p> A comprehensive description of the algorithm is given below (an outline of the algorithm appeared previously in <ref> [3] </ref>). The algorithm is implemented as the feedback loop shown in Figure 2 . The variable q r represents the reference phase provided by NTP and q c the control phase produced by the variable frequency oscillator (VFO), which controls the computer clock.
Reference: 4. <author> Mills, </author> <title> D.L. Internet time synchronization: the Net work Time Protocol. </title> <journal> IEEE Trans. Communications COM-39, </journal> <month> 10 (October </month> <year> 1991), </year> <pages> 1482-1493. </pages> <note> Also in: Yang, </note> <editor> Z., and T.A. Marsland (Eds.). </editor> <title> Global States and Time in Distributed Systems , IEEE Press, </title> <publisher> Los Alamitos, CA, </publisher> <pages> 91-102. </pages>
Reference-contexts: Network Time Protocol While not in itself the subject of this paper, an overview of the NTP design will be helpful in understanding the algorithms involved. As described in <ref> [4] </ref>, a synchronization subnet is a hierarchical set of time servers and clients organized by stratum , in much the same way as in digital telephone networks. The servers at the lowest stratum are synchronized to national standards by radio or modem.
Reference: 5. <author> Mills, </author> <title> D.L. Modelling and analysis of computer network clocks. </title> <institution> Electrical Engineering Department Report 92-5-2, University of Delaware, </institution> <month> May </month> <year> 1992, </year> <pages> 29 pp. </pages>
Reference-contexts: The characteristic behavior of this model, which is determined by F ( t ) and the various gain factors, is studied in many textbooks and summarized in <ref> [5] </ref>. The new clock discipline differs from the one described in the NTP specification and previous reports.
Reference: 6. <author> Mills, </author> <title> D.L. Network Time Protocol (Version 3) specification, implementation and analysis. Net work Working Group Report RFC-1305, </title> <institution> University of Delaware, </institution> <month> March </month> <year> 1992, </year> <pages> 113 pp. </pages>
Reference-contexts: The Network Time Protocol (NTP) is designed to do this in Unix and Windows oper ating systems. The NTP architecture, protocol and algorithms have evolved over almost two decades, with the latest NTP Version 3 designated an Internet (draft) standard <ref> [6] </ref>. Among the goals of this design are: 1. Optimize the computer clock accuracy and stability, subject to constraints of network overheads and/or telephone toll charges, relative to local and/or remote sources of time. 2.
Reference: 7. <author> Mills, </author> <title> D.L. Unix kernel modifications for precision time synchronization. </title> <institution> Electrical Engineering Department Report 94-10-1, University of Dela ware, </institution> <month> October </month> <year> 1994, </year> <pages> 24 pp. </pages>
Reference-contexts: The data used to generate this plot were obtained using the PPS signal of a GPS receiver captured by a special interface described in <ref> [7] </ref>. It is important to note that both the x and y scales of Figure 1 are logarithmic, but the axes are labelled in actual values. <p> Both of these problems can be addressed in the form of operating system kernel modifications, which in effect move the clock discipline algorithm to the kernel, as described in <ref> [7] </ref>. This provides a smaller adjustment interval, which reduces the sawtooth error and also provides more precise phase and frequency control. Without the kernel modifications, the adjustment interval is limited by practical considerations to 1 s; with the kernel modifications, the adjustments occur at every timer interrupt.
Reference: 8. <author> Stein, </author> <title> S.R. Frequency and time - their measurement and characterization (Chapter 12). In: E.A. </title> <editor> Gerber and A. Ballato (Eds.). </editor> <title> Precision Frequency Control, Vol. </title> <publisher> 2 , Academic Press, </publisher> <address> New York 1985, </address> <pages> 191-232, 399-416. </pages> <note> Also in: Sullivan, D.B., </note> <author> D.W. Allan, D.A. Howe and F.L. </author> <title> Walls (Eds.). Characterization of Clocks and Oscillators . National Institute of Standards and Technology Technical Note 1337, </title> <type> U.S. </type> <institution> Government Printing Office (January, </institution> <year> 1990), </year> <note> TN61 TN119. </note>
Reference-contexts: Starting from the left at t = 2 s, the plot tends to a straight line with slope near -1, which is characteristic of white phase noise <ref> [8] </ref>. In this region, increasing t increases the frequency stability in direct proportion. At about t = 1000 s the plot flattens out, indicating that the white phase noise becomes dominated first by white frequency noise (slope -0.5), then by flicker frequency noise (flat slope).
References-found: 9

