URL: http://www-csag.cs.uiuc.edu/papers/spdp94.ps
Refering-URL: http://www-csag.cs.uiuc.edu/papers/index.html
Root-URL: http://www.cs.uiuc.edu
Email: ziqiang@cs.uiuc.edu achien@cs.uiuc.edu  
Title: Hierarchical Adaptive Routing: A framework for Fully Adaptive and Deadlock-Free Wormhole Routing  
Author: Ziqiang Liu Andrew A. Chien 
Address: Sweden Urbana, IL 61801  
Affiliation: Dept of Teleinformatics Department of Computer Science Royal Institute of Technology University of Illinois  
Abstract: Adaptive routing can improve network performance and fault-tolerance by providing multiple routing paths. However, the implementation complexity of adaptive routing can be significant, discouraging its use in commercial massively parallel systems. In this paper, we introduce Hierarchical Adaptive Routing (HAR), a new adaptive routing framework, which provides a unified framework for simple and high performance fully adaptive deadlock-free wormhole routing. HAR divides the physical network into several levels of virtual networks. There is one connection channel between two adjacent virtual networks that allows blocked packets in the higher level to move to the lower level. Different routing algorithms can be used in each virtual network, and the overall network is deadlock-free provided the routing algorithm in the lowest level virtual network is deadlock-free. However, the routing algorithm in any other virtual network can be fully adaptive, even non-minimal, to increase performance. HAR has three advantages: fully adaptive deadlock-free routing in any non-wrapped and wrapped k-ary n-cube network with 2 and 3 virtual channels respectively, relatively small crossbars, and applicability to a wide variety of network topologies. Detailed implementation and simulation studies of a HAR for 2D mesh networks are presented. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> K. Aoyama. </author> <title> Design issues in implementing an adaptive router. </title> <type> Master's thesis, </type> <institution> University of Illinois, Department of Computer Science, 1304 W. Springfield Avenue, Urbana, Illinois., </institution> <month> January </month> <year> 1993. </year>
Reference-contexts: Because the appropriate update depends on the actual routing decision, the control signals from the RD are used for this update. Overlapping the header update with ad dress decoding improves overall router performance as pointed out in <ref> [1] </ref>. The updated packet header bypasses the crossbar and goes directly to the output channel in which it can be forwarded to the successful node in next clock cycle. <p> This is quite expensive due to pin count limitation. We propose another method which use the existence of empty control signal and the small size of input channel buffer to efficiently handle this problem. As indicated in <ref> [1] </ref>, when synchronous flow control is used, each input channel buffer should have at least two flits to prevent data loss. As indicated in Figure 4, when the input channel's buffer in node B is empty, it asserts the empty signal.
Reference: [2] <author> P. Berman, L. Gravano, G. Pifarre, and J. Sanz. </author> <title> Adaptive deadlock and livelock free routing with all minimal paths in torus networks. </title> <booktitle> In Proceedings of the Symposium on Parallel Algorithms and Architectures, </booktitle> <year> 1992. </year>
Reference-contexts: One method to solve this potential deadlock problem has been proposed in <ref> [2] </ref>. It prevents deadlock by dynamically disallowing paths based on occupancy of buffers in the neighboring nodes. This means that routing decisions depend on the availability of accurate buffer status from neighboring nodes.
Reference: [3] <author> A. A. Chien and J. H. Kim. </author> <title> Planar-adaptive routing: Low-cost adaptive networks for multiprocessors. </title> <booktitle> In Proceedings of the International Symposium on Computer Architecture, </booktitle> <pages> pages 268-77, </pages> <month> May </month> <year> 1992. </year>
Reference-contexts: Adaptive routing techniques have been proposed as a way to improve network performance by providing multiple paths between a source and destination. Adaptive routing techniques can produce higher utilization of network resources and more robust performance. A number of dramatically simpler adaptive routing algorithms have been proposed <ref> [11, 9, 14, 3, 12] </ref>. Such breakthroughs make adaptive routing feasible, but not without cost [4]. Three significant costs remain.
Reference: [4] <author> Andrew A. Chien. </author> <title> A cost and performance model for k-ary n-cube wormhole routers. </title> <booktitle> In Proceedings of Hot Interconnects Workshop, </booktitle> <month> August </month> <year> 1993. </year>
Reference-contexts: Adaptive routing techniques can produce higher utilization of network resources and more robust performance. A number of dramatically simpler adaptive routing algorithms have been proposed [11, 9, 14, 3, 12]. Such breakthroughs make adaptive routing feasible, but not without cost <ref> [4] </ref>. Three significant costs remain. First, header update and selection is expensive in adaptive routers; Second, virtual channels are expensive in terms of latency and cycle time; Third, requirements of larger crossbars and more complex arbitration increase the complexity of adaptive routers.
Reference: [5] <author> R. Cypher, A. Ho, S. Konstantinidou, and P. Messina. </author> <title> Architectural requirements of parallel scientific applications with explicit communication. </title> <booktitle> In Proceedings of the International Symposium on Computer Architecture, </booktitle> <pages> pages 2-13. </pages> <publisher> IEEE Computer Society, </publisher> <year> 1993. </year>
Reference-contexts: The overall simulation results show that HAR can give better performance than Duato's scheme and DOR under nonuniform traffic patterns which exist in many parallel scientific application <ref> [5] </ref>. The major reason that HAR can achieve a good performance under non-uniform traffic pattern is that its full adaptive routing eliminates hot-spot in nonuniform traffic pattern.
Reference: [6] <author> W. Dally. </author> <title> Network and processor architecture for message-driven computers. </title> <editor> In Robert Suaya and Graham Birtwistle, editors, </editor> <booktitle> VLSI and Parallel Computation, chapter 3, </booktitle> <pages> pages 140-222. </pages> <publisher> Morgan Kaufmann, </publisher> <year> 1990. </year>
Reference-contexts: Packets are classified according to whether they need to be routed north-east, south-east, southwest or north-west. A separate virtual network to route each class with full adaptivity is created. Another fully adaptive routing algorithm for 2D mesh has been developed in <ref> [6] </ref>. It requires two virtual channels per physical channel along only the Y dimension. It routes an east-bound packet along the eastward physical channels and one set of Y virtual channels and routes a west-bound packet along the westward physical channels and the other set of Y virtual channels.
Reference: [7] <author> W. J. Dally. </author> <title> Virtual channel flow control. </title> <journal> IEEE Transactions on Parallel and Distributed Systems, </journal> <volume> 3(2) </volume> <pages> 194-205, </pages> <year> 1992. </year>
Reference-contexts: At the flit level, physical channel bandwidth, switch bandwidth, and individual buffers are allocated to flits. Flit-level flow control across the physical channel involves allocating channel bandwidth among virtual channels that (1) have a flit ready to transmit and (2) have space for this flit at the receiving end <ref> [7] </ref>. In order to be fair, the round-robin arbitration algorithm is used to allocate this resource. As indicated in Figure 5, there are actually two level of multiplexors.
Reference: [8] <author> W. J. Dally and H. Aoki. </author> <title> Deadlock-free adaptive routing in multicomputer networks usin g virtual channels. </title> <journal> IEEE Transactions on Parallel and Distributed Systems, </journal> <volume> 4(4) </volume> <pages> 466-74, </pages> <month> April </month> <year> 1993. </year>
Reference-contexts: HAR is deadlock-free if the routing algorithm in the lowest level virtual network is deadlock-free. The routing algorithm in any other virtual network can be any fully adaptive, even non-minimal routing for high performance. In <ref> [8] </ref>, Dally and Aoki introduced a dynamic routing algorithm for k-dimensional mesh networks, in which each physical link is divided into a r+1 virtual channels, numbered from 0 to r, where r is some appropriately large number.
Reference: [9] <author> J. Duato. </author> <title> On the design of deadlock-free adaptive routing algorithms for multicomputers: </title> <booktitle> design methodologies. In Proceedings of Parallel Architectures and Languages Europe, </booktitle> <year> 1991. </year>
Reference-contexts: Adaptive routing techniques have been proposed as a way to improve network performance by providing multiple paths between a source and destination. Adaptive routing techniques can produce higher utilization of network resources and more robust performance. A number of dramatically simpler adaptive routing algorithms have been proposed <ref> [11, 9, 14, 3, 12] </ref>. Such breakthroughs make adaptive routing feasible, but not without cost [4]. Three significant costs remain. <p> It then routes the packet along virtual channels numbered r, using dimension order routing. The dynamic routing algorithm is complex, because each physical channel has to split into a large number of virtual channels and each packet has to remember the number of dimension reversals it has made. In <ref> [9] </ref>, Duato has developed a more flexible adaptive routing algorithm for mesh networks of any dimension. Each physical channel has been split into r + 1 virtual channels, numbered from 0 to r. <p> However, the implementation complexity of the router, does not increase as dramat ically as in other adaptive routers, because the crossbar size does not increase. For example, in Duato's method, the size of crossbar will be almost doubled if the number of the virtual channels is doubled <ref> [9] </ref>. In HAR, the crossbar size always remain constant, independent of the number of virtual networks. For example, in a n-dimensional mesh network, the crossbar size is fixed at (2n+1)fi (2n+1). However, the complexity of virtual channel controller increases proportionally as in all other adaptive routers.
Reference: [10] <author> Dave Dunning. </author> <title> The intel paragon router. </title> <booktitle> VLSI Seminar Talk at the Massachusetts Institute of Technology, </booktitle> <year> 1992. </year>
Reference-contexts: The nodes communicate data and coordinate their efforts by sending and receiving messages through a routing network. Consequently, the achieved performance of such machines depends critically on that of their routing networks. Most existing routing networks use deterministic routing <ref> [17, 15, 16, 10] </ref>. With deterministic routing, the path followed by a packet is determined solely by its source and destination. If any channel along this path is heavily loaded, the packet will be delayed. If any channel along this path is faulty, the packet cannot be delivered.
Reference: [11] <author> C. R. Jesshope, P. R. Miller, and J. T. Yantchev. </author> <title> High performance communications in processor networks. </title> <booktitle> In Proceedings of the International Symposium on Computer Architecture, </booktitle> <pages> pages 150-7, </pages> <year> 1989. </year>
Reference-contexts: Adaptive routing techniques have been proposed as a way to improve network performance by providing multiple paths between a source and destination. Adaptive routing techniques can produce higher utilization of network resources and more robust performance. A number of dramatically simpler adaptive routing algorithms have been proposed <ref> [11, 9, 14, 3, 12] </ref>. Such breakthroughs make adaptive routing feasible, but not without cost [4]. Three significant costs remain. <p> Packets are routed through different subnetworks depending on the location of destination nodes. Deadlock is avoided by imposing restrictions on routing which makes the virtual networks acyclic. Based on virtual networks, one adaptive routing algorithm for 2D mesh has been proposed in <ref> [11] </ref>. It requires each physical channel splits into two virtual channels. Packets are classified according to whether they need to be routed north-east, south-east, southwest or north-west. A separate virtual network to route each class with full adaptivity is created.
Reference: [12] <author> J. Kim, Z. Liu, and A. Chien. </author> <title> Compressionless routing: A framework for adaptive and fault-tolerant routing. </title> <booktitle> In Proceedings of the International Symposium on Computer Architecture, </booktitle> <month> April </month> <year> 1994. </year>
Reference-contexts: Adaptive routing techniques have been proposed as a way to improve network performance by providing multiple paths between a source and destination. Adaptive routing techniques can produce higher utilization of network resources and more robust performance. A number of dramatically simpler adaptive routing algorithms have been proposed <ref> [11, 9, 14, 3, 12] </ref>. Such breakthroughs make adaptive routing feasible, but not without cost [4]. Three significant costs remain.
Reference: [13] <author> Z. Liu, L-E Thorelli, and H. Wu. Hsim: </author> <title> A hybrid sequential and parallel simulation. </title> <booktitle> In Proceedings of the Information Processing, </booktitle> <pages> pages 372-378, </pages> <year> 1992. </year>
Reference-contexts: The simulator, a 2000 line C program based on the HSMPL sequen tial discrete-event simulation environment <ref> [13] </ref>, is used to simulate 32x32 mesh networks. A flit transfer between two nodes and through the crossbar requires one clock cycle, and a routing decision requires two cycles. Routing information fits into a single flit, and in all cases, each physical channel has been split into two virtual channels.
Reference: [14] <author> L. Ni and C. Glass. </author> <title> The turn model for adaptive routing. </title> <booktitle> In Proceedings of the International Symposium on Computer Architecture, </booktitle> <year> 1992. </year>
Reference-contexts: Adaptive routing techniques have been proposed as a way to improve network performance by providing multiple paths between a source and destination. Adaptive routing techniques can produce higher utilization of network resources and more robust performance. A number of dramatically simpler adaptive routing algorithms have been proposed <ref> [11, 9, 14, 3, 12] </ref>. Such breakthroughs make adaptive routing feasible, but not without cost [4]. Three significant costs remain. <p> In the upper virtual network, fully adaptive minimum path routing is used (called FAR virtual network). At the lower level, positive-last minimum path routing is used (called PLR virtual network) <ref> [14] </ref>. In positive-last routing, the packet has to finish routing in negative directions before starts routing in positive directions. When the packet is injected into the network, it enters the FAR virtual network and uses the virtual channels in the FAR virtual network to move toward the destination. <p> If all the valid output virtual channels according to the positive-last routing are busy, the packet is blocked. Eventually, the packet is routed to its destination. The Turn model has been used to show the PLR is deadlock-free under these assumptions without any additional virtual channels. The proof in <ref> [14] </ref> shows that the positive-last routing is deadlock-free in any n-dimensional mesh networks. Consequently, the HAR developed for 2D mesh networks can be extended into any higher dimensional mesh network and still be fully adaptive. 2D HAR Routing Algorithm Upper Virtual Networks: 1.
Reference: [15] <author> P. Nuth and W. Dally. </author> <title> The J-machine network. </title> <booktitle> In Proceedings of the 1992 IEEE International Conference on Computer Design: VLSI in Computers and Processors, </booktitle> <pages> pages 420-23, </pages> <year> 1992. </year>
Reference-contexts: The nodes communicate data and coordinate their efforts by sending and receiving messages through a routing network. Consequently, the achieved performance of such machines depends critically on that of their routing networks. Most existing routing networks use deterministic routing <ref> [17, 15, 16, 10] </ref>. With deterministic routing, the path followed by a packet is determined solely by its source and destination. If any channel along this path is heavily loaded, the packet will be delayed. If any channel along this path is faulty, the packet cannot be delivered.
Reference: [16] <author> Wilfried Oed. </author> <title> The Cray Research massively parallel processor system. </title> <type> Technical report, </type> <institution> Cray Research GmbH, Riesstrabe 25, 80922 Munchen, Ger-many, </institution> <year> 1993. </year>
Reference-contexts: The nodes communicate data and coordinate their efforts by sending and receiving messages through a routing network. Consequently, the achieved performance of such machines depends critically on that of their routing networks. Most existing routing networks use deterministic routing <ref> [17, 15, 16, 10] </ref>. With deterministic routing, the path followed by a packet is determined solely by its source and destination. If any channel along this path is heavily loaded, the packet will be delayed. If any channel along this path is faulty, the packet cannot be delivered.
Reference: [17] <author> C. Seitz and W. Su. </author> <title> A family of routing and communication chips based on the Mosaic. </title> <booktitle> In Proceedings of the University of Washington Symposium on Integrated Systems, </booktitle> <year> 1993. </year>
Reference-contexts: The nodes communicate data and coordinate their efforts by sending and receiving messages through a routing network. Consequently, the achieved performance of such machines depends critically on that of their routing networks. Most existing routing networks use deterministic routing <ref> [17, 15, 16, 10] </ref>. With deterministic routing, the path followed by a packet is determined solely by its source and destination. If any channel along this path is heavily loaded, the packet will be delayed. If any channel along this path is faulty, the packet cannot be delivered.
References-found: 17

