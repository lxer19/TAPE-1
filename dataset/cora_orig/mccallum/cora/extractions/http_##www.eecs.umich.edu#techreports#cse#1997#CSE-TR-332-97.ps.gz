URL: http://www.eecs.umich.edu/techreports/cse/1997/CSE-TR-332-97.ps.gz
Refering-URL: http://www.eecs.umich.edu/home/techreports/cse97.html
Root-URL: http://www.eecs.umich.edu
Title: Internet Routing Instability  
Author: Craig Labovitz, G. Robert Malan, and Farnam Jahanian 
Address: 1301 Beal Ave. Ann Arbor, Michigan 48109-2122  4251 Plymouth Road Ann Arbor, MI 48105-2785  
Affiliation: University of Michigan Department of Electrical Engineering and Computer Science  Merit Network, Inc  
Pubnum: CSE-TR-332-97  
Abstract: This paper examines the network inter-domain routing information exchanged between backbone service providers at the major U.S. public Internet exchange points. Internet routing instability, or the rapid fluctuation of network reachability information, is an important problem currently facing the Internet engineering community. High levels of network instability can lead to packet loss, increased network latency and time to convergence. At the extreme, high levels of routing instability have lead to the loss of internal connectivity in wide-area, national networks. In this paper, we describe several unexpected trends in routing instability, and examine a number of anomalies and pathologies observed in the exchange of inter-domain routing information. The analysis in this paper is based on data collected from BGP routing messages generated by border routers at five of the Internet core's public exchange points during a nine month period. We show that the volume of these routing updates is several orders of magnitude more than expected and that the majority of this routing information is redundant, or pathological. Furthermore, our analysis reveals several unexpected trends and ill-behaved systematic properties in Internet routing. We finally posit a number of explanations for these anomalies and evaluate their potential impact on the Internet infrastructure. fl Supported by National Science Foundation Grant NCR-9321060.
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> Bloomfield P. </author> <title> "Fourier Analysis of Time Series: An Introduction." </title> <publisher> John Wiley & Sons, </publisher> <address> New York. </address> <year> 1976. </year>
Reference-contexts: The data from August through September were used due to their completeness. Again, these detrended data were ideal for harmonic analysis having been filtered in a manner similar to the treatment of Beverage's wheat prices by Bloomfield in <ref> [1] </ref>. The rate of routing updates is modeled as x t = T t I t , where T t is the trend at time t and I t is an irregular or oscillating term.
Reference: [2] <author> H.-W. Braun, Peter S. Ford and Yakov Rekhter, </author> <title> "CIDR and the Evolution of the Internet." </title> <note> SDSC Report GA-A21364, Proceedings of INET'93, Republished in ConneXions Sep 1993 (InterOp93 version). </note>
Reference-contexts: A number of solutions have been proposed to address the problem of routing instability, including the deployment of route dampening algorithms and the increased use of route aggregation <ref> [20, 21, 2] </ref>. Aggregation, or supernetting, combines a number of smaller IP prefixes into a single, less specific route announcement. Aggregation is a powerful tool to combat instability because it can reduce the overall number of networks visible in the core Internet.
Reference: [3] <author> B. Chinoy, </author> <title> "Dynamics of Internet Routing Information," </title> <booktitle> Proceedings of SIGCOMM '93, </booktitle> <pages> pp. 45-52, </pages> <month> September </month> <year> 1993. </year>
Reference-contexts: The behavior and dynamics of Internet routing stability have gone virtually without formal study, with the exception of Govindan, Paxson and Chinoy <ref> [7, 3, 19] </ref>. Chinoy measured the instability of the NSFNet backbone [3] in 1993. Unlike the current commercial Internet, the now decommissioned NSFNet had a relatively simple topology and heterogeneous routing technology. Chinoy's analysis did not uncover any of the pathological behaviors or trends we describe in this paper. <p> The behavior and dynamics of Internet routing stability have gone virtually without formal study, with the exception of Govindan, Paxson and Chinoy [7, 3, 19]. Chinoy measured the instability of the NSFNet backbone <ref> [3] </ref> in 1993. Unlike the current commercial Internet, the now decommissioned NSFNet had a relatively simple topology and heterogeneous routing technology. Chinoy's analysis did not uncover any of the pathological behaviors or trends we describe in this paper. Paxson studied routing stability from the standpoint of end-to-end performance [19].
Reference: [4] <author> Dettinger, M.D., Ghil, M., Strong, C.M., Weibel, W., and Yiou, P. </author> " <title> Software Expedites Singular-Spectrum Analysis of Noisy Time Series," in Eos, </title> <journal> Trans. American Geophysical Union, v. </journal> <volume> 76(2), </volume> <editor> p. </editor> <volume> 12, 14, </volume> <pages> 21. </pages>
Reference-contexts: These two approaches differ in their estimation methods, and provide a mechanism for validation of results. They both find significant frequencies at seven days, and 24 hours. These confirm the visual trends identified in figures 3 and 4. A software tool <ref> [4] </ref> was used to extract the specific frequencies through singular spectrum analysis, the top five of which are shown in figure 5b. These frequencies lie in a 99% confidence interval generated using white noise on the data.
Reference: [5] <author> Estrin, D., Rekhter, Y., and Hotz, S. </author> <booktitle> "A Scalable Inter-domain Routing Architecture" in Proceedings of the ACM SIGCOMM Symposium on Communication Architectures and Protocols, p. </booktitle> <pages> 40-52, </pages> <address> Baltimore, MD, </address> <month> August, </month> <year> 1992. </year>
Reference: [6] <author> Floyd, S., and Jacobson, V. </author> <title> "The Synchronization of Periodic Routing Messages." </title> <journal> In IEEE/ACM Transactions on Networking, V.2 N.2, </journal> <volume> p. </volume> <pages> 122-136, </pages> <month> April </month> <year> 1994. </year>
Reference-contexts: We will discuss the implication and effects of redundant BGP updates and pathological behavior more in Section 5. Unjittered timers in a router may also lead to self-synchronization. In <ref> [6] </ref>, Floyd and Jacobson describe a means by which an initially unsynchronized system of apparently independent routers may inadvertently become synchronized.
Reference: [7] <author> Ramesh Govindan, Anoop Reddy, </author> <title> "An Analysis of Inter-Domain Topology and Route Stability." </title> <booktitle> To appear in the Proceedings of the IEEE INFOCOM 1997, </booktitle> <address> Kobe, Japan. </address>
Reference-contexts: Further, we find that the prevalence of multi-homing exhibits a relatively steep linear rate of growth. This result is consistent with some of the recent findings of Govindan and Reddy <ref> [7] </ref>. Route servers provide an additional tool to help backbone operators cope with the high levels of Internet routing instability. Each router at an exchange point normally must exchange routing information with every other peer router. <p> Further, recent studies have shown that the Internet topology is growing increasingly less hierarchical with the rapid addition of new exchange points and peering relationships <ref> [7] </ref>. As the topological complexity grows, the quality of Internet address aggregation will likely decrease, and the potential for instability will increase 4 as the number of globally visible routes expands. <p> The behavior and dynamics of Internet routing stability have gone virtually without formal study, with the exception of Govindan, Paxson and Chinoy <ref> [7, 3, 19] </ref>. Chinoy measured the instability of the NSFNet backbone [3] in 1993. Unlike the current commercial Internet, the now decommissioned NSFNet had a relatively simple topology and heterogeneous routing technology. Chinoy's analysis did not uncover any of the pathological behaviors or trends we describe in this paper. <p> The analysis of this paper is based on data collected at Internet routing exchange points. Govidian examined similar data, but focused primarily on gross topological characterizations, such as the growth and topological rate of change of the Internet <ref> [7] </ref>. 4 Analysis of Pathological Routing Information In this section, we first discuss the expected, theoretical behavior of a well-behaved inter-domain routing system. We then describe the observed behavior of Internet routing, and define a taxonomy for discussing the different classifications of routing information. <p> Perhaps the largest factor contributing to poor aggregation is the increasing trend towards multi-homing of customer end-sites <ref> [7] </ref>. Since the multi-homed customer prefixes require global visibility, it is problematic for these addresses to be aggregated into larger supernets. In addition, the lack of hierarchical allocation of the early, pre-CIDR IP address space exacerbates the current poor level of aggregation. <p> We were particularly interested in the high frequency component of routing instability in our analysis. Other work has been able to capture the lower frequencies through both routing table snapshots <ref> [7] </ref> and end-to-end techniques [19]. Our measurement apparatus allowed a unique opportunity to examine the high frequency components. Our results are shown in figure 8.
Reference: [8] <author> J. Honig, D. Katz, M. Mathis, Y. Rekhter, J. Yu, </author> <title> "Application of the Border Gateway Protocol in the Internet." </title> <address> RFC-1164, </address> <month> June </month> <year> 1990. </year>
Reference: [9] <author> C. Huitema, "IPv6: </author> <title> The new Internet Protocol." </title> <publisher> Prentice Hall, </publisher> <address> Englewood Cliffs, NJ. </address> <year> 1996. </year>
Reference-contexts: A number of researches, including [20], have suggested mechanisms for minimizing the impact of multi-homing. Although the introduction of IPv6 <ref> [9] </ref> by itself will not directly impact routing table size or instability, this is another factor in the evolution of the Internet which may have a significant effect on future routing protocol behavior and network performance.
Reference: [10] <institution> Internet Performance Measurement and Analysis project (IPMA), </institution> <note> http://www.merit.edu/ipma. </note>
Reference-contexts: In this section we focus on the characterization of pathological routing information. In section 5, we will discuss long-term trends and temporal behavior of both forwarding instability and policy fluctuation. Although the default-free Internet routing tables currently contain only about 42,000 prefixes <ref> [10] </ref>, our study has shown that routers in the Internet core currently exchange between three and six million routing prefix updates each day. On average, this accounts for 125 updates per network on the Internet every day. <p> Analysis of our experimentally collected BGP data has revealed significantly more BGP updates than we originally anticipated. The Internet "default-free" routing tables currently contain approximately 42,000 prefixes with 1500 unique ASPATHs interconnecting 1300 different autonomous systems <ref> [10] </ref>. As shown later in this paper, instability is well-distributed over destination prefixes, peer routers, and origin autonomous system space. In other words, no single prefix or path dominates the routing statistics or contributes a disproportionate amount of BGP updates.
Reference: [11] <author> C. Labovitz, </author> <title> NANOG presentation, </title> <address> Washington, D.C., </address> <month> May </month> <year> 1996. </year>
Reference-contexts: Several products from other router vendors do maintain knowledge of the information transmitted to BGP peers and will only transmit updates when topology changes affect a route between the local and peer routers. After the initial presentation of our results <ref> [11] </ref>, the vendor responsible for the stateless BGP implementation updated their router operating software to maintain partial state on BGP advertisements. Several ISPs have now begun deploying the updated software on their backbone routers. Preliminary results after deployment of this new software indicate that it limits distribution of WWDup updates.
Reference: [12] <author> Dave O'Leary, </author> <title> Cisco Systems, Inc. </title> <type> Private communication, </type> <month> January </month> <year> 1997. </year>
Reference-contexts: In addition, through analysis of our data and ongoing discussions with router vendors, we have found that a significant number of the core Internet routers today are based on a route caching architecture <ref> [12] </ref>. In this architecture, each of a router's interface cards maintains a routing table cache of destination and next-hop lookups. As long as the interface card finds a cache entry for an incoming packet's destination addresses, the packet is switched on a "fast-path" independently of the router CPU.
Reference: [13] <author> K. Lougheed, Y. Rekhter, </author> <title> "A Border Gateway Protocol (BGP).", </title> <month> RFC-1163 June </month> <year> 1990. </year>
Reference-contexts: At the boundary of each autonomous system, peer border routers exchange reach-ability information to destination IP address blocks, or prefixes, for both transit networks, and networks originating in that routing domain. Most autonomous systems exchange routing information through the Border Gateway Protocol (BGP) <ref> [13] </ref>. Unlike interior gateway protocols which periodically flood an intra-domain network with all known routing table entries, BGP is an incremental protocol that only sends network updates upon changes in network topology or routing policy. BGP uses TCP as its reliable transport mechanism. <p> It is important to note that the stateless BGP implementation is compliant with the current IETF BGP standard <ref> [13] </ref>. Several products from other router vendors do maintain knowledge of the information transmitted to BGP peers and will only transmit updates when topology changes affect a route between the local and peer routers.
Reference: [14] <author> B. Metcalf, </author> <title> "Predicting the Internet's Catastrophic Collapse and Ghost Sites Galore in 1996." </title> <type> InfoWorld, </type> <month> December 4, </month> <year> 1995. </year>
Reference-contexts: This growth has placed severe strain on the commercial Internet infrastructure. Regular network performance degradations stemming from bandwidth shortages and a lack of router switching capacity, have lead the popular press to decry the imminent death of the Internet <ref> [14] </ref> . Routing instability, commonly referred to as route flaps, significantly contributes to poor end-to-end network performance and degrades the overall efficiency of the Internet infrastructure.
Reference: [15] <institution> Merit Joint Technical Staff mail archives, </institution> <note> http://www.merit.edu/mail.archives/html/mjts/msg00078.html. </note>
Reference-contexts: Instability that reflects real topological changes can lead to increased packet loss, delay in 16 time for network convergence, and additional memory/CPU overhead on routers. In the current Internet, network operators routinely report backbone outages and other significant network problems directly related to the occurrence of route flaps <ref> [15] </ref>. Our analysis in this paper demonstrated that the majority (99 percent) of routing information is pathological and may not reflect real network topological changes. We defined a taxonomy for discussing routing information and suggested a number of plausible explanations that may account for some of the anomalous behaviors.
Reference: [16] <institution> MFS Communications Mae-East Statistics Page, </institution> <note> http://www.mfst.com/MAE/east.stats.html. </note>
Reference-contexts: It is somewhat surprising that the measured routing instability corresponds so closely to the trends seen in Internet bandwidth usage <ref> [16] </ref> and packet loss. As to the causality of these phenomena, we can only offer suppositions. With a high level of packet loss and a significant rate of BGP updates, keep-alive messages can become delayed long enough to drop BGP connections between peering routers.
Reference: [17] <author> C. Labovitz, </author> <title> "Multithreaded Routing Toolkit." </title> <type> Merit Technical Report, </type> <year> 1996. </year> <month> 19 </month>
Reference-contexts: The Routing Arbiter project has amassed 12 gigabytes of compressed data since January of 1996. We use several tools from the XYZ toolkit <ref> [17] </ref> to decode and analyze the BGP packet logs from the route server peering sessions. Although we analyze data from all of the major exchange points, we simplify the discussion 2 in much of this paper by concentrating on the logs of the largest exchange, Mae-East.
Reference: [18] <institution> North American Network Operators Group, </institution> <note> http://www.nanog.org. </note>
Reference-contexts: More importantly, these pathological updates will not trigger router cache churn and the resultant cache misses and subsequent packet loss. A number of network operators, however, believe that the the sheer volume of pathological updates may still be problematic <ref> [18] </ref>. Even pathological updates require some minimal router resources, including CPU, buffers and the expense of marshaling pathological prefix data into both in-bound and outbound packets.
Reference: [19] <author> Paxson, V., </author> <title> "End-to-End Routing Behavior in the Internet." </title> <booktitle> ACM SIGCOMM '96, </booktitle> <month> August </month> <year> 1996, </year> <note> Stan-ford, C.A. </note>
Reference-contexts: A large number of cache misses results in increased load on the CPU, increased switching latency and the "dropping", or loss of packets. A number of researchers are currently studying the effects of loss and out-of-order delivery on TCP and UDP-based applications <ref> [19] </ref>. A number of vendors have developed a new generation of routers that do not require caching and are able to maintain the full routing table in memory on the forwarding hardware. These routers do not exhibit the same pathological loss under heavy routing updates. <p> The behavior and dynamics of Internet routing stability have gone virtually without formal study, with the exception of Govindan, Paxson and Chinoy <ref> [7, 3, 19] </ref>. Chinoy measured the instability of the NSFNet backbone [3] in 1993. Unlike the current commercial Internet, the now decommissioned NSFNet had a relatively simple topology and heterogeneous routing technology. Chinoy's analysis did not uncover any of the pathological behaviors or trends we describe in this paper. <p> Unlike the current commercial Internet, the now decommissioned NSFNet had a relatively simple topology and heterogeneous routing technology. Chinoy's analysis did not uncover any of the pathological behaviors or trends we describe in this paper. Paxson studied routing stability from the standpoint of end-to-end performance <ref> [19] </ref>. We approach the analysis from an opposite direction by analyzing the internal routing information that will give rise to end-to-end paths. The analysis of this paper is based on data collected at Internet routing exchange points. <p> We were particularly interested in the high frequency component of routing instability in our analysis. Other work has been able to capture the lower frequencies through both routing table snapshots [7] and end-to-end techniques <ref> [19] </ref>. Our measurement apparatus allowed a unique opportunity to examine the high frequency components. Our results are shown in figure 8. <p> This conforms with empirical observations by most end-users that the Internet usually seems to work. Our data also agrees with Paxson's findings that only a very small fraction of routes exhibit some type of topological instability each day <ref> [19] </ref>. One of our difficulties in evaluating the impact of instability on Internet performance is that we have not yet fully been able to characterize and understand the significance of the different classes of routing information.
Reference: [20] <author> Yakov Rekhter, </author> <title> "Scaleable Support for Multi-homed Multi-Provider Connectivity." </title> <address> NANOG, Ann Arbor, MI. </address> <month> October, </month> <year> 1996. </year>
Reference-contexts: A number of solutions have been proposed to address the problem of routing instability, including the deployment of route dampening algorithms and the increased use of route aggregation <ref> [20, 21, 2] </ref>. Aggregation, or supernetting, combines a number of smaller IP prefixes into a single, less specific route announcement. Aggregation is a powerful tool to combat instability because it can reduce the overall number of networks visible in the core Internet. <p> The degradation in the Internet hierarchy and the resulting increase in the number of globally visible paths will result in a much larger "default-free" Internet routing table and a potentially higher level of routing instability. A number of researches, including <ref> [20] </ref>, have suggested mechanisms for minimizing the impact of multi-homing.
Reference: [21] <author> Y. Rekhter, C. Topolcic, </author> <title> "Exchanging Routing Information Across Provider Boundaries in the CIDR Environment." </title> <address> RFC-1520. </address> <month> September, </month> <year> 1993. </year>
Reference-contexts: A number of solutions have been proposed to address the problem of routing instability, including the deployment of route dampening algorithms and the increased use of route aggregation <ref> [20, 21, 2] </ref>. Aggregation, or supernetting, combines a number of smaller IP prefixes into a single, less specific route announcement. Aggregation is a powerful tool to combat instability because it can reduce the overall number of networks visible in the core Internet. <p> For example, a network may announce a route with a new BGP community. The new community reflects a policy change, but does not directly reflect a change in the forwarding path of data. In principle, the introduction of classless inter-domain routing (CIDR) <ref> [21] </ref> has allowed backbone operators to group a large number of customer network IP addresses into one or more large "supernet" route advertisements at their autonomous system's boundaries.
Reference: [22] <editor> Routing Arbiter web pages, </editor> <address> http://www.ra.net. </address>
Reference: [23] <author> Kannan Varadhan, Ramesh Govindan, and Deborah Estrin, </author> <title> "Persistent Routing Oscillations in Inter-Domain Routing." </title> <journal> USC/ISI, </journal> <note> Available at the Routing Arbiter project's homepage at USC/ISI. </note>
Reference-contexts: Until recently, most backbone engineers believed that the ASPATH mechanism in BGP was sufficient to ensure network convergence. A recent study, however, has shown that under certain unconstrained routing policies, BGP may not converge and will sustain persistent route oscillations <ref> [23] </ref>. A number of solutions have been proposed to address the problem of routing instability, including the deployment of route dampening algorithms and the increased use of route aggregation [20, 21, 2]. Aggregation, or supernetting, combines a number of smaller IP prefixes into a single, less specific route announcement. <p> This type of interaction is highly suspect as most IGP protocols utilize internal timers based on some multiple of 30 seconds. We are working closely with router vendors and backbone providers on an ongoing analysis of these interactions. As described earlier, Varadhan et al. <ref> [23] </ref> show that unconstrained routing policies can lead to persistent route oscillations. Only the severely restrictive shortest-path route selection algorithm is provably safe. Since the end of the NSFNet, routing policies have been growing in size and complexity.
Reference: [24] <author> C. Villamizer, R. Chandra, R. </author> <type> Govindan, </type> <institution> "draft-ietf-idr-route-dampen-00-preview", Internet Enigneer-ing Task Force Draft, </institution> <month> July 21, </month> <year> 1995. </year> <month> 20 </month>
Reference-contexts: Each peer router then needs only to maintain a single peering session with the route server, reducing the number of peering sessions to O (N ). A number of vendors have also implemented route dampening <ref> [24] </ref> algorithms in their routers. These algorithms "hold-down", or refuse to believe, updates about routes that exceed certain parameters of instability, such as exceeding a certain number of updates in an hour. <p> Another possible explanation involves a popular router vendor's inclusion of an unjittered 30 second interval timer on BGP's update processing. Most BGP implementations use a small, jittered timer to pack outbound route updates into a smaller amount of updates than the number of different packets in which they arrived <ref> [24] </ref>. The combination of this timer and a stateless BGP implementation may introduce some unintended side-effects.
References-found: 24

