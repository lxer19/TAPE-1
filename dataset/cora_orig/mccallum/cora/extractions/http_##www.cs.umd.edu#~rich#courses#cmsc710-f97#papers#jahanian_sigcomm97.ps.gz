URL: http://www.cs.umd.edu/~rich/courses/cmsc710-f97/papers/jahanian_sigcomm97.ps.gz
Refering-URL: http://www.cs.umd.edu/~rich/courses/cmsc710-f97/resources.html
Root-URL: 
Email: flabovit, rmalan, farnamg@eecs.umich.edu  
Title: Internet Routing Instability  
Author: Craig Labovitz, G. Robert Malan, and Farnam Jahanian 
Note: Supported by National Science Foundation Grant NCR-9321060 and a generous gift from the Intel Corporation.  
Address: 1301 Beal Ave. Ann Arbor, Michigan 48109-2122  
Affiliation: University of Michigan Department of Electrical Engineering and Computer Science  
Abstract: This paper examines the network inter-domain routing information exchanged between backbone service providers at the major U.S. public Internet exchange points. Internet routing instability, or the rapid fluctuation of network reachability information, is an important problem currently facing the Internet engineering community. High levels of network instability can lead to packet loss, increased network latency and time to convergence. At the extreme, high levels of routing instability have lead to the loss of internal connectivity in wide-area, national networks. In this paper, we describe several unexpected trends in routing instability, and examine a number of anomalies and pathologies observed in the exchange of inter-domain routing information. The analysis in this paper is based on data collected from BGP routing messages generated by border routers at five of the Internet core's public exchange points during a nine month period. We show that the volume of these routing updates is several orders of magnitude more than expected and that the majority of this routing information is redundant, or pathological. Furthermore, our analysis reveals several unexpected trends and ill-behaved systematic properties in Internet routing. We finally posit a number of explanations for these anomalies and evaluate their potential impact on the Internet infrastructure. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> P. Bloomfield, </author> <title> "Fourier Analysis of Time Series: An Introduction," </title> <publisher> John Wiley & Sons, </publisher> <address> New York. </address> <year> 1976. </year> <month> 32 </month>
Reference-contexts: The data from August through September were used due to their completeness. Again, these detrended data were ideal for harmonic 21 analysis having been filtered in a manner similar to the treatment of Beverage's wheat prices by Bloomfield in <ref> [1] </ref>. The rate of routing updates is modeled as x t = T t I t , where T t is the trend at time t and I t is an irregular or oscillating term.
Reference: [2] <author> H.-W. Braun, P. S. Ford and Y. Rekhter, </author> <title> "CIDR and the Evolution of the Internet," </title> <note> SDSC Report GA-A21364, in Proceedings of INET'93, Republished in ConneXions Sep 1993 (InterOp93 version). </note>
Reference-contexts: Autonomous systems are traditionally composed of network service providers or large organizational units like college campuses and corporate networks. At the boundary of each autonomous system, peer border routers exchange reachability information to destination IP address blocks <ref> [2] </ref>, or prefixes, for both transit networks, and networks 2 originating in that routing domain. Most autonomous systems exchange routing information through the Border Gateway Protocol (BGP ) [12]. <p> A number of solutions have been proposed to address the problem of routing instability, including the deployment of route dampening algorithms and the increased use of route aggregation <ref> [18, 19, 2] </ref>. Aggregation, or supernetting, combines a number of smaller IP prefixes into a single, less specific route announcement. Aggregation is a powerful tool to combat instability because it can reduce the overall number of networks visible in the core Internet.
Reference: [3] <author> B. Chinoy, </author> <title> "Dynamics of Internet Routing Information," </title> <booktitle> in Proceedings of ACM SIG-COMM '93, </booktitle> <pages> pp. 45-52, </pages> <month> September </month> <year> 1993. </year>
Reference-contexts: The behavior and dynamics of Internet routing stability have gone virtually without formal study, with the exception of Govindan and Reddy [6], Paxson [17] and Chinoy <ref> [3] </ref>. Chinoy measured the instability of the NSFNet backbone in 1993. Unlike the current commercial Internet, the now decommissioned NSFNet had a relatively simple topology and homogeneous routing technology. Chinoy's analysis did not focus on any of the pathological behaviors or trends we describe in this paper [3]. <p> [17] and Chinoy <ref> [3] </ref>. Chinoy measured the instability of the NSFNet backbone in 1993. Unlike the current commercial Internet, the now decommissioned NSFNet had a relatively simple topology and homogeneous routing technology. Chinoy's analysis did not focus on any of the pathological behaviors or trends we describe in this paper [3]. Paxson studied routing stability from the standpoint of end-to-end performance [17]. We approach the analysis from a complimentary direction by analyzing the internal routing information that will give rise to end-to-end paths. The analysis in this paper is based on data collected at Internet routing exchange points.
Reference: [4] <author> D. Estrin, Y. Rekhter, and S. Hotz, </author> <title> "A Scalable Inter-domain Routing Architecture," </title> <booktitle> in Proceedings of the ACM SIGCOMM '92, </booktitle> <pages> pp. 40-52, </pages> <address> Baltimore, MD, </address> <month> August, </month> <year> 1992. </year>
Reference: [5] <author> S. Floyd, and V. Jacobson, </author> <title> "The Synchronization of Periodic Routing Messages," </title> <journal> IEEE/ACM Transactions on Networking, V.2 N.2, </journal> <volume> p. </volume> <pages> 122-136, </pages> <month> April </month> <year> 1994. </year>
Reference-contexts: We will discuss the implication and effects of redundant BGP updates and pathological behavior more in Section 5. Unjittered timers in a router may also lead to self synchronization. In <ref> [5] </ref>, Floyd and Jacobson describe a means by which an initially unsynchronized system of apparently independent routers may inadvertently become synchronized. <p> In the Internet, the unjittered BGP interval timer used on a large number of inter-domain border routers may introduce a weak coupling between those routers through the periodic transmission of the BGP updates. Our analysis suggests that these Internet routers will fulfill the requirements of the Periodic Message model <ref> [5] </ref> and may undergo abrupt synchronization. This synchronization would result in a large number of BGP routers transmitting updates simultaneously. Floyd and Jacobson describe self-synchronization behavior with Decnet DNA protocol, the Cisco IGRP protocol, and the RIP1 protocol on the NSFNet backbone.
Reference: [6] <author> R. Govindan and A. Reddy, </author> <title> "An Analysis of Inter-Domain Topology and Route Stability," </title> <booktitle> in Proceedings of the IEEE INFOCOM '97, </booktitle> <address> Kobe, Japan. </address> <month> April </month> <year> 1997. </year>
Reference-contexts: Perhaps the largest factor contributing to poor aggregation is the increasing trend towards end-sites choosing to obtain redundant connectivity to the Internet via multiple service providers <ref> [6] </ref>. This redundant connectivity, or multi-homing, may require that each core Internet router maintain a more specific, or longer, prefix in addition to any less specific 9 aggregate address block prefixes covering the multi-homed site. <p> Our study shows that more than 25 percent of prefixes are currently multi-homed and non-aggregatable. Further, we find that the prevalence of multi-homing exhibits a relatively steep linear rate of growth. This result is consistent with some of the recent findings of Govindan and Reddy <ref> [6] </ref>. A number of vendors have also implemented route dampening [22] algorithms in their routers. These algorithms "hold-down", or refuse to believe, updates about routes that exceed certain parameters of instability, such as exceeding a certain number of updates in an hour. <p> Further, recent studies have shown that the Internet topology is growing increasingly less hierarchical with the rapid addition of new exchange points and peering relationships <ref> [6] </ref>. As the topological complexity grows, the quality of Internet address aggregation will likely decrease, and the potential for instability will increase as the number of globally visible routes expands. <p> The behavior and dynamics of Internet routing stability have gone virtually without formal study, with the exception of Govindan and Reddy <ref> [6] </ref>, Paxson [17] and Chinoy [3]. Chinoy measured the instability of the NSFNet backbone in 1993. Unlike the current commercial Internet, the now decommissioned NSFNet had a relatively simple topology and homogeneous routing technology. <p> The analysis in this paper is based on data collected at Internet routing exchange points. Govidian examined similar data, but focused primarily on gross topological characterizations, such as the growth and topological rate of change of the Internet <ref> [6] </ref>. 4 Analysis of Pathological Routing Information In this section, we first discuss the expected behavior of a well-behaved inter-domain routing system. We then describe the observed behavior of Internet routing, and define a taxonomy for discussing the different classifications of routing information. <p> We were particularly interested in the high frequency component of routing instability in our analysis. Other work has been able to capture the lower frequencies through both routing table snapshots <ref> [6] </ref> and end-to-end techniques [17]. Our measurement apparatus allowed a unique opportunity to examine the high frequency components. Our results are shown in figure 8. The graphs in figure 8 represents a histogram distribution for each of 26 (a) AADiff (b) WADiff (c) WADup the four instability categories.
Reference: [7] <author> J. Honig, D. Katz, M. Mathis, Y. Rekhter, and J. Yu, </author> <title> "Application of the Border Gateway Protocol in the Internet," </title> <address> RFC-1164, </address> <month> June </month> <year> 1990. </year>
Reference: [8] <institution> Internet Performance Measurement and Analysis project (IPMA), </institution> <note> http://www.merit.edu/ipma. </note>
Reference-contexts: The Routing Arbiter project has amassed 12 gigabytes of compressed data since January of 1996. In January 1997, the operational phase of the Routing Arbiter project ended. Data collection and analysis has continued under the auspices of the Internet Performance Measurement and Analysis (IPMA) project <ref> [8] </ref>. We use several tools from the Multithreaded Routing Toolkit (MRT) toolkit [9] to decode and analyze the BGP packet logs from the route server peering sessions. <p> In this section we focus on the characterization of pathological routing information. In Section 5, we will discuss long-term trends and temporal behavior of both forwarding instability and policy fluctuation. Although the default-free Internet routing tables currently contain approximately 45,000 prefixes <ref> [8] </ref>, our study has shown that routers in the Internet core currently exchange between three and six million routing prefix updates each day. On average, this accounts for 125 11 updates per network on the Internet every day. <p> Analysis of our experimentally collected BGP data has revealed significantly more BGP updates than we originally anticipated. The Internet "default-free" routing tables currently contain approximately 45,000 prefixes with 1,500 unique ASPATHs interconnecting 1,300 different autonomous systems <ref> [8] </ref>. As shown later in this paper, instability is well-distributed over destination prefixes, peer routers, and origin autonomous system space. In other words, no single prefix or path dominates the routing statistics or 13 contributes a disproportionate amount of BGP updates. <p> While the relationship between network usage and routing instability may seem intuitively obvious to some, a more rigorous justification is problematic due to the size and heterogeneity of the Internet. We are continuing to investigate this relationship in our current work <ref> [8] </ref>. 5.2 Fine-grained Instability Statistics Having examined aggregate instability statistics, we now analyze the data at a finer granularity: autonomous system and route contributions. To simplify the following presentation, we focus on a single month of instability, August 1996, measured at the Mae-East exchange point.
Reference: [9] <author> C. Labovitz, </author> <title> "Multithreaded Routing Toolkit," </title> <type> Merit Technical Report, </type> <year> 1996. </year>
Reference-contexts: In January 1997, the operational phase of the Routing Arbiter project ended. Data collection and analysis has continued under the auspices of the Internet Performance Measurement and Analysis (IPMA) project [8]. We use several tools from the Multithreaded Routing Toolkit (MRT) toolkit <ref> [9] </ref> to decode and analyze the BGP packet logs from the route server peering sessions. Although we analyze data from all of the major exchange points, we simplify the discussion in much of this paper by concentrating on the logs of the largest exchange, Mae-East.
Reference: [10] <author> C. Labovitz, </author> <title> NANOG presentation, </title> <address> Washington, D.C., </address> <month> May </month> <year> 1996. </year>
Reference-contexts: Several products from other router vendors do maintain knowledge of the information transmitted to BGP peers and will only transmit updates when topology changes affect a route between the local and peer routers. After the initial presentation of our results <ref> [10] </ref>, the vendor responsible for the stateless BGP implementation updated their router operating software to maintain partial state on 16 BGP advertisements. Several ISPs have now begun deploying the updated software on their backbone routers.
Reference: [11] <author> Dave O'Leary, </author> <title> Cisco Systems, Inc. </title> <type> Private communication, </type> <month> January </month> <year> 1997. </year>
Reference-contexts: In addition, through analysis of our data and ongoing discussions with router vendors, we have found that a significant number of the core Internet routers today are based on a route caching architecture <ref> [11] </ref>. In this architecture, routers maintain a routing table cache of destination and next-hop lookups. As long as the router's interface card finds a cache entry for an incoming packet's destination addresses, the packet is switched on a "fast-path" independently of the router's CPU. <p> A number of vendors have developed a new generation of routers that do not require caching and are able to maintain the full routing table in memory on the forwarding hardware. Initial empirical observations suggest these routers do not exhibit the same pathological loss under heavy routing update load <ref> [11] </ref>. Internet routers may experience severe CPU load and memory problems at heavy levels of routing instability. Many of the commonly deployed Internet routers are based on the older Motorola 68000 series processor. <p> Most BGP implementations use 17 a small, jittered timer to coalesce multiple outbound routing updates into a single BGP update message in order to reduce protocol processing overhead on the receiving peer <ref> [11] </ref>. The combination of this timer and a stateless BGP implementation may introduce some unintended side-effects.
Reference: [12] <author> K. Lougheed and Y. Rekhter, </author> <title> "A Border Gateway Protocol (BGP),", </title> <month> RFC-1163 June </month> <year> 1990. </year>
Reference-contexts: At the boundary of each autonomous system, peer border routers exchange reachability information to destination IP address blocks [2], or prefixes, for both transit networks, and networks 2 originating in that routing domain. Most autonomous systems exchange routing information through the Border Gateway Protocol (BGP ) <ref> [12] </ref>. Unlike interior gateway protocols, such as IGRP and OSPF, that periodically flood an intra-domain network with all known routing table entries, BGP is an incremental protocol that sends update information only upon changes in network topology or routing policy. <p> It is important to note that the stateless BGP implementation is compliant with the current IETF BGP standard <ref> [12] </ref>. Several products from other router vendors do maintain knowledge of the information transmitted to BGP peers and will only transmit updates when topology changes affect a route between the local and peer routers.
Reference: [13] <author> B. Metcalf, </author> <title> "Predicting the Internet's Catastrophic Collapse and Ghost Sites Galore in 1996," </title> <type> InfoWorld, </type> <month> December 4, </month> <year> 1995. </year>
Reference-contexts: This growth has placed severe strain on the commercial Internet infrastructure. Regular network performance degradations stemming from bandwidth shortages and a lack of router switching capacity, have lead the popular press to decry the imminent death of the Internet <ref> [13] </ref>. Routing instability, informally defined as the rapid change of network reachability and topology information, has a number of origins including router configuration errors, transient physical and data link problems, and software bugs.
Reference: [14] <institution> Merit Joint Technical Staff mail archives, </institution> <note> http://www.merit.edu/mjts/msg00078.html. </note>
Reference-contexts: Instability that reflects real topological changes can lead to increased packet loss, delay in time for network convergence, and additional memory/CPU overhead on routers. In the current Internet, network operators routinely report backbone outages and other significant network problems directly related to the occurrence of route flaps <ref> [14] </ref>. Our analysis in this paper demonstrated that the majority (99 percent) of routing information is pathological and may not reflect real network topological changes. We defined a taxonomy for discussing routing information and suggested a number of plausible explanations that may account for some of the anomalous behaviors.
Reference: [15] <institution> MFS Communications Mae-East Statistics Page, </institution> <note> http://www.mfst.com/MAE/east.stats.html. </note>
Reference-contexts: They both find significant frequencies at seven days, and 24 hours. These confirm the visual trends identified in figures 3 and 4. It is somewhat surprising that the measured routing instability corresponds so closely to the trends seen in Internet bandwidth usage <ref> [15] </ref> and packet loss. As to the causality of these phenomena, we can only offer suppositions. With a high level of packet loss and a significant rate of BGP updates, keep-alive messages can become delayed long enough to drop BGP connections between peering routers.
Reference: [16] <institution> North American Network Operators Group, </institution> <note> http://www.nanog.org. </note>
Reference-contexts: More importantly, these 29 pathological updates will not trigger router cache churn and the resultant cache misses and subsequent packet loss. A number of network operators, however, believe that the the sheer volume of pathological updates may still be problematic <ref> [16] </ref>. Even pathological updates require some minimal router resources, including CPU, buffers and the expense of marshaling pathological prefix data into both in-bound and outbound packets.
Reference: [17] <author> V. Paxson, </author> <title> "End-to-End Routing Behavior in the Internet," </title> <booktitle> in Proceedings of the ACM SIGCOMM '96, </booktitle> <address> Stanford, C.A., </address> <month> August </month> <year> 1996. </year>
Reference-contexts: The behavior and dynamics of Internet routing stability have gone virtually without formal study, with the exception of Govindan and Reddy [6], Paxson <ref> [17] </ref> and Chinoy [3]. Chinoy measured the instability of the NSFNet backbone in 1993. Unlike the current commercial Internet, the now decommissioned NSFNet had a relatively simple topology and homogeneous routing technology. <p> Unlike the current commercial Internet, the now decommissioned NSFNet had a relatively simple topology and homogeneous routing technology. Chinoy's analysis did not focus on any of the pathological behaviors or trends we describe in this paper [3]. Paxson studied routing stability from the standpoint of end-to-end performance <ref> [17] </ref>. We approach the analysis from a complimentary direction by analyzing the internal routing information that will give rise to end-to-end paths. The analysis in this paper is based on data collected at Internet routing exchange points. <p> We were particularly interested in the high frequency component of routing instability in our analysis. Other work has been able to capture the lower frequencies through both routing table snapshots [6] and end-to-end techniques <ref> [17] </ref>. Our measurement apparatus allowed a unique opportunity to examine the high frequency components. Our results are shown in figure 8. The graphs in figure 8 represents a histogram distribution for each of 26 (a) AADiff (b) WADiff (c) WADup the four instability categories. <p> This relatively high level of instability can be reconciled with the fact that the Internet seems to "mostly work" in that the majority of forwarding instability is comprised of high frequency update pairs as shown in section 5.3. Our results agree with those in <ref> [17] </ref>, where approximately one third of end-to-end instabilities measured were shown to occur under 24 hours. have at least 80 percent of the date's data collected.
Reference: [18] <author> Y. Rekhter, </author> <title> "Scalable Support for Multi-homed Multi-Provider Connectivity," </title> <address> NANOG, Ann Arbor, MI. </address> <month> October </month> <year> 1996. </year>
Reference-contexts: A number of solutions have been proposed to address the problem of routing instability, including the deployment of route dampening algorithms and the increased use of route aggregation <ref> [18, 19, 2] </ref>. Aggregation, or supernetting, combines a number of smaller IP prefixes into a single, less specific route announcement. Aggregation is a powerful tool to combat instability because it can reduce the overall number of networks visible in the core Internet.
Reference: [19] <author> Y. Rekhter and C. Topolcic, </author> <title> "Exchanging Routing Information Across Provider Boundaries in the CIDR Environment," </title> <address> RFC-1520. </address> <month> September </month> <year> 1993. </year> <month> 33 </month>
Reference-contexts: A number of solutions have been proposed to address the problem of routing instability, including the deployment of route dampening algorithms and the increased use of route aggregation <ref> [18, 19, 2] </ref>. Aggregation, or supernetting, combines a number of smaller IP prefixes into a single, less specific route announcement. Aggregation is a powerful tool to combat instability because it can reduce the overall number of networks visible in the core Internet. <p> Since the multi-homed cus-tomer prefixes require global visibility, it is problematic for these addresses to be aggregated into larger supernets. In addition, the lack of hierarchical allocation of the early, pre-CIDR <ref> [19] </ref> IP address space exacerbates the current poor level of aggregation. Prior to the introduction of RFC-1338, most customer sites obtained address space directly from the Internic instead of from their provider's CIDR block. <p> As described earlier, a prefix represents a set of destination IP address blocks. The length, or network mask, of a prefix represents the number of possible subnet addresses reachable via that network address. The introduction of classless inter-domain routing (CIDR) <ref> [19] </ref> has allowed backbone operators to group large number of customer network IP address into one or more large "supernet" route advertisements at their autonomous system's boundaries.
Reference: [20] <editor> Routing Arbiter web pages, </editor> <address> http://www.ra.net. </address>
Reference-contexts: Over the course of nine months, we logged BGP routing messages exchanged with the Routing Arbiter project's route servers <ref> [20] </ref> at five of the major U.S. network exchange points: AADS, Mae-East, Mae-West, PacBell, and Sprint. At these geographically diverse exchange points, network service providers peer by exchanging both traffic and routing information.
Reference: [21] <author> K. Varadhan, R. Govindan, and D. Estrin, </author> <title> "Persistent Routing Oscillations in Inter-Domain Routing," </title> <journal> USC/ISI, </journal> <note> Available at the Routing Arbiter project's homepage at USC/ISI. </note>
Reference-contexts: Until recently, many backbone engineers believed that the ASPATH mechanism in BGP was sufficient to ensure network convergence. A recent study, however, has shown that under certain unconstrained routing policies, BGP may not converge and will sustain persistent route oscillations <ref> [21] </ref>. A number of solutions have been proposed to address the problem of routing instability, including the deployment of route dampening algorithms and the increased use of route aggregation [18, 19, 2]. Aggregation, or supernetting, combines a number of smaller IP prefixes into a single, less specific route announcement. <p> This type of interaction is highly suspect as most IGP protocols utilize internal timers based on some multiple of 30 seconds. We are working closely with router vendors and backbone providers on an ongoing analysis of these interactions. As described earlier, Varadhan et al. <ref> [21] </ref> show that unconstrained routing policies can lead to persistent route oscillations. Only the severely restrictive shortest-path route selection algorithm is provably safe. Since the end of the NSFNet, routing policies have been growing in size and complexity.
Reference: [22] <author> C. Villamizer, R. Chandra, and R. </author> <type> Govindan, </type> <institution> "draft-ietf-idr-route-dampen-00-preview", Internet Engineering Task Force Draft, </institution> <month> July 21, </month> <year> 1995. </year>
Reference-contexts: Further, we find that the prevalence of multi-homing exhibits a relatively steep linear rate of growth. This result is consistent with some of the recent findings of Govindan and Reddy [6]. A number of vendors have also implemented route dampening <ref> [22] </ref> algorithms in their routers. These algorithms "hold-down", or refuse to believe, updates about routes that exceed certain parameters of instability, such as exceeding a certain number of updates in an hour.
Reference: [23] <author> C. Villamizer, </author> <title> "TCP Response Under Loss Conditions", NANOG Presentation, </title> <address> San Francisco, </address> <month> February </month> <year> 1997. </year> <month> 34 </month>
Reference-contexts: A large number of cache misses results in increased load on the CPU, increased switching latency and the loss of packets. A number of researchers are currently studying the effects of loss and out-of-order delivery on TCP and UDP-based applications <ref> [23] </ref>. A number of vendors have developed a new generation of routers that do not require caching and are able to maintain the full routing table in memory on the forwarding hardware.
References-found: 23

