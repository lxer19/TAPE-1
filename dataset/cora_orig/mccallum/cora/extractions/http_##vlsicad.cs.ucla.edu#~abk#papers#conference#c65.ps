URL: http://vlsicad.cs.ucla.edu/~abk/papers/conference/c65.ps
Refering-URL: http://vlsicad.cs.ucla.edu/~abk/publications.html
Root-URL: http://www.cs.ucla.edu
Email: fjenhsin,abk,kyang@cs.ucla.edu, fchan,imarkov,muletg@math.ucla.edu, alpert@austin.ibm.com  
Phone: 2  3  4  
Title: FASTER MINIMIZATION OF LINEAR WIRELENGTH FOR GLOBAL PLACEMENT  
Author: Charles J. Alpert Tony F. Chan Dennis J.-H. Huang Andrew B. Kahng ;; Igor L. Markov Pep Mulet Kenneth Yan 
Address: Los Angeles, CA 90095-1596  Los Angeles, CA 90095-1555  San Jose, CA 95134  Austin, TX 78758  
Affiliation: 1 UCLA Computer Science Department,  UCLA Mathematics Department,  Cadence Design Systems, Inc.,  IBM Austin Research Laboratory,  
Abstract: A linear wirelength objective more effectively captures timing, congestion, and other global placement considerations than a squared wirelength objective. The GORDIAN-L cell placement tool [16] minimizes linear wirelength by first approximating the linear wirelength objective by a modified squared wirelength objective, then executing the following loop - (1) minimize the current objective to yield some approximate solution, and (2) use the resulting solution to construct a more accurate objective until the solution converges. In this paper, we first show that the GORDIAN-L loop can be viewed as a special case of a new algorithm that generalizes a 1937 iteration due to Weiszfeld [19]. Specifically, we formulate the Weiszfeld iteration using a regularization parameter to control the tradeoff between convergence and solution accuracy; the GORDIAN-L iteration is equivalent to setting this regularization parameter to zero. Other novel numerical methods described in the paper, the Primal Newton iteration and the Primal-Dual Newton iteration, further improve upon the linearly convergent Weiszfeld iteration. Our Primal-Dual Newton iteration stably attains quadratic convergence, making it a superior choice for implementing a placer such as GORDIAN-L, or for any linear wirelength optimization. 
Abstract-found: 1
Intro-found: 1
Reference: [1] <author> T. F. Chan, G. H. Golub and P. Mulet, </author> <title> "A Nonlinear Primal-Dual Method for TV-Based Image Restoration", In 17 As well as for arbitrary real exponent ff 1. </title> <booktitle> Proc. of ICAOS'96, 12 th Int'l Conf. on Analysis and Optimization of Systems: Images, Wavelets and PDEs, </booktitle> <address> Paris, </address> <month> June 26-28, </month> <year> 1996, </year> <editor> M. Berger et al (eds.), </editor> <volume> No. </volume> <booktitle> 219 in Lecture Notes in Control and Information Sciences, </booktitle> <year> 1996, </year> <pages> pp. 241-252. </pages>
Reference-contexts: Both strategies can lead to premature stopping, and finding a good heuristic is an open question. 5. THE PRIMAL NEWTON METHOD The Newton approach is often used as a base for developing more sophisticated methods with superlinear convergence (e.g. in <ref> [1, 10] </ref>). In this section, we develop what we call the Primal Newton method for minimizing the linear wirelength objective. <p> No precise mathematical statement about global convergence of Primal-Dual New-ton has been proven, but its reliable convergence properties have been observed in the literature (e.g. <ref> [1, 10] </ref>) and our experiments. <p> THE PRIMAL-DUAL NEWTON METHOD The idea of the primal-dual Newton approach was developed by Conn and Overton in [3] and has been recently used for a denoising application in image processing (see <ref> [1] </ref>). Numerical results suggest that the approach has fast convergence, stability and significant practical value. Recall that the optimization problem we will solve is: find x which minimizes f (x) = j=1 (C j x) 2 + fi s. t. <p> However, as noted in <ref> [1, p.9] </ref>, for the matrix in (29) to be nonsingular one requires k z k k 1 1. <p> We have observed in our experiments that if for some reason (14) is not solved precisely enough, Newton top-level iterates can start to diverge. The remarks given for the Primal Newton method above also apply to Primal-Dual Newton (see <ref> [1] </ref>); in particular, Primal-Dual Newton possesses quadratic convergence (see [8, 5.4.1]) and is preferable to the linearly convergent Weiszfeld algorithm. Primal-Dual Newton converges quadratically in strictly larger regions than Newton method and is only 30-50% more expensive in computation and memory per iteration than the Weiszfeld method. 7.
Reference: [2] <author> C. K. Cheng and E. S. Kuh, </author> <title> "Module Placement Based on Resistive Network Optimization", </title> <journal> IEEE Transactions on Computer-Aided Design, </journal> <volume> CAD-3, </volume> <year> 1984, </year> <pages> pp. 218-225. </pages>
Reference-contexts: 1. INTRODUCTION The heart of the "quadratic placement" technique <ref> [2, 18] </ref>) lies in solving for one-dimensional placements that minimize squared wirelength. Two such placements in the x- and y-directions will induce a two-dimensional "global placement" which, due to the objective function and continuous formulation, will have most cells clumped in the center of the layout region.
Reference: [3] <author> A. Conn and M. Overton, </author> <title> "A Primal-Dual Interior Point Method for Minimizing a Sum of Euclidean Distances", </title> <institution> Computer Science Department, New York University, </institution> <type> Technical Report, </type> <year> 1995. </year>
Reference-contexts: Alternatively, various convergence criteria can be deduced from the observation that the nonlinear residual | the right hand side of (14) | goes to zero as the Newton method progresses. 6. THE PRIMAL-DUAL NEWTON METHOD The idea of the primal-dual Newton approach was developed by Conn and Overton in <ref> [3] </ref> and has been recently used for a denoising application in image processing (see [1]). Numerical results suggest that the approach has fast convergence, stability and significant practical value.
Reference: [4] <author> U. Eckhardt, </author> <title> "On an Optimization Problem Related to Minimal Surfaces with Obstacles", </title> <editor> in: R. Bulirsch, W. Oetti and J. </editor> <title> Stoer editors; "Optimization and Optimal Control", </title> <publisher> Lecture Notes in Mathematics 477 Springer Verlag, </publisher> <year> 1975, </year> <pages> pp. 95-101. </pages>
Reference-contexts: More precisely, we will describe, in modern terms, a method first suggested in 1937 by Weiszfeld [19] and later generalized by Miehle [12]. A contemporary exposition of this method, along with a proof of its global linear 6 convergence, can be found in <ref> [4, 5] </ref> (see also [10]). Technical differences between GORDIAN-L and our generalization of Weiszfeld (vis-a-vis what we call fi-regularization) are discussed in the second subsection. 4.1. Derivation of the Weiszfeld algorithm We wish to minimize f (x) =k Cx k 1 subject to Hx = b.
Reference: [5] <author> U.Eckhardt, </author> <title> "Weber's Problem and Weiszfeld's Algorithm in General Spaces", </title> <booktitle> Mathematical Programming 18, </booktitle> <year> 1980, </year> <pages> pp. 186-196. </pages>
Reference-contexts: More precisely, we will describe, in modern terms, a method first suggested in 1937 by Weiszfeld [19] and later generalized by Miehle [12]. A contemporary exposition of this method, along with a proof of its global linear 6 convergence, can be found in <ref> [4, 5] </ref> (see also [10]). Technical differences between GORDIAN-L and our generalization of Weiszfeld (vis-a-vis what we call fi-regularization) are discussed in the second subsection. 4.1. Derivation of the Weiszfeld algorithm We wish to minimize f (x) =k Cx k 1 subject to Hx = b.
Reference: [6] <author> W. Hackbush, </author> <title> Iterative Solution of Large Sparse Systems, </title> <publisher> Springer Verlag, </publisher> <year> 1994. </year>
Reference-contexts: To determine its optimal solution, the gradient r (x i ) is set to zero, yielding the (n q) fi (n q) linear system Z T QZx i = c which can be efficiently solved with, e.g., conjugate gradient or another Krylov subspace solver <ref> [6] </ref>. Once the optimal value x i is obtained, the optimal solution for x is given by x = Zx i + . GORDIAN-L Placement with minimum squared wirelength objective has an unique solution that can be found by solving the corresponding linear system.
Reference: [7] <author> T. Hamada, C.-K. Cheng and P. M. Chau, </author> <title> "Prime: A Timing-Driven Placement Tool using A Piecewise Linear Resistive Network Approach", </title> <booktitle> Proc. 30th ACM/IEEE Design Automation Conference, </booktitle> <year> 1993, </year> <pages> pp. 531-536. </pages>
Reference-contexts: For each edge e k = (v i ; v j ) 2 E, c ki = w (e k ) and 1 This should not be confused with the "primal-dual" approach for timing-driven placement in <ref> [7] </ref>, but similar variational ideas are used. c kj = w (e k ); the orientation of edges (signs of c ki and c kj ) can be arbitrary. All other entries of C are zero.
Reference: [8] <author> C. Kelley, </author> <title> "Iterative Methods for Linear and Nonlinear Equations", </title> <booktitle> Frontiers in Applied Mathematics, </booktitle> <volume> vol. 16, </volume> <publisher> SIAM, </publisher> <year> 1995. </year>
Reference-contexts: We have observed in our experiments that if for some reason (14) is not solved precisely enough, Newton top-level iterates can start to diverge. The remarks given for the Primal Newton method above also apply to Primal-Dual Newton (see [1]); in particular, Primal-Dual Newton possesses quadratic convergence (see <ref> [8, 5.4.1] </ref>) and is preferable to the linearly convergent Weiszfeld algorithm. Primal-Dual Newton converges quadratically in strictly larger regions than Newton method and is only 30-50% more expensive in computation and memory per iteration than the Weiszfeld method. 7. <p> Since our implementation is designed to accommodate examples of any size, we use iterative solvers, specifically, GMRES or BICGSTAB with ILU preconditioner 15 . Here, we must refer the reader to <ref> [8, Chap 6] </ref>, where usage of iterative (inexact) solvers is considered with special regard to Newton methods. Our solver changes the values of rel ative tolerance according to the rule in (6.18) of [8], using parameters fl = 0:5 and Max = 10 4 in that rule. 7.2. <p> Here, we must refer the reader to [8, Chap 6], where usage of iterative (inexact) solvers is considered with special regard to Newton methods. Our solver changes the values of rel ative tolerance according to the rule in (6.18) of <ref> [8] </ref>, using parameters fl = 0:5 and Max = 10 4 in that rule. 7.2. Convergence of Primal-Dual Newton and Weiszfeld Methods We now give experimental evidence showing that the Primal-Dual Newton iteration achieves quadratic convergence.
Reference: [9] <author> J. Kleinhans, G. Sigl, F. Johannes and K. Antreich, </author> <title> "GOR-DIAN:VLSI Placement by Quadratic Programming and Slicing Optimization." </title> <journal> IEEE Transactions on Computer-Aided Design. </journal> <volume> 10 (3), </volume> <month> March </month> <year> 1991, </year> <pages> pp. 356-365. </pages>
Reference-contexts: Works such as [14] have further shown that a linear wirelength objective can be used to form one-dimensional placements that directly yield effective bipartitioning solutions. In 1991, Sigl et al. <ref> [9, 16] </ref> proposed GORDIAN-L, an improved version of GORDIAN which optimizes the linear wirelength objective. <p> A weight function w : E ! &lt; + assigns a nonnegative weight w (e) to each edge in e. To convert the netlist into a graph, the authors of <ref> [9] </ref> use a star model wherein a new "net node" is created for each net in the netlist, and an edge is added between the net node and each cell connected to the net. <p> Definition: The n-dimensional placement vector x = (x i ) corresponds to the physical locations of cells v 1 ; : : : ; v n on the real line, i.e., x i is the coordinate of vertex v i . GORDIAN <ref> [9] </ref> uses a squared wirelength objective: Squared Wirelength Formulation: Minimize Q (x) = 2 T T n X a ij (x i x j ) + d x Here, H is a q fi n constraint matrix that represents q center of gravity constraints (a special case is that of fixed <p> The GORDIAN-L linear wirelength objective is as follows: Linear Wirelength Formulation: Minimize L (x) =k Cx k 1 = i;j=1 A term d T x can again be added to incorporate pin offsets and connections to pads. 3. GORDIAN AND GORDIAN-L GORDIAN <ref> [9] </ref> obtains a placement by repeatedly optimizing Q , alternating between the horizontal and vertical directions. Constraints for the optimizations are respectively given by H x x = b x and H y y = b y , corresponding to the x and y directions as explained above. 2 .
Reference: [10] <author> Y. Li, </author> <title> "A Newton Acceleration of the Weiszfeld Algorithm for Minimizing the Sum of Euclidean Distances", </title> <institution> Cornell University, </institution> <type> Technical Report, </type> <year> 1996. </year>
Reference-contexts: More precisely, we will describe, in modern terms, a method first suggested in 1937 by Weiszfeld [19] and later generalized by Miehle [12]. A contemporary exposition of this method, along with a proof of its global linear 6 convergence, can be found in [4, 5] (see also <ref> [10] </ref>). Technical differences between GORDIAN-L and our generalization of Weiszfeld (vis-a-vis what we call fi-regularization) are discussed in the second subsection. 4.1. Derivation of the Weiszfeld algorithm We wish to minimize f (x) =k Cx k 1 subject to Hx = b. <p> Both strategies can lead to premature stopping, and finding a good heuristic is an open question. 5. THE PRIMAL NEWTON METHOD The Newton approach is often used as a base for developing more sophisticated methods with superlinear convergence (e.g. in <ref> [1, 10] </ref>). In this section, we develop what we call the Primal Newton method for minimizing the linear wirelength objective. <p> No precise mathematical statement about global convergence of Primal-Dual New-ton has been proven, but its reliable convergence properties have been observed in the literature (e.g. <ref> [1, 10] </ref>) and our experiments. <p> However, all of these global-ization techniques are known to be inefficient in a number of applications 10 due to the small size of the region where Primal Newton converges quadratically. Modifications to a Newton method which allow it to achieve global convergence can be found in <ref> [10] </ref>, where a corresponding theorem is proven and numerical results demonstrating advantages over the Weiszfeld method are shown. [10] also contains a discussion of degeneracy | a feature of some placement problems for which Newton-like methods are only linearly convergent. <p> Modifications to a Newton method which allow it to achieve global convergence can be found in <ref> [10] </ref>, where a corresponding theorem is proven and numerical results demonstrating advantages over the Weiszfeld method are shown. [10] also contains a discussion of degeneracy | a feature of some placement problems for which Newton-like methods are only linearly convergent.
Reference: [11] <author> I.I. Mahmoud, K. Asakura, T. Nishibu and T. Ohtsuki, </author> <title> "Experimental Appraisal of Linear and Quadratic Objective Functions Effect on Force Directed Method for Analog Placement", </title> <journal> IEICE Transactions on Fundamentals of Electronics, Communications and Computer Sciences, </journal> <volume> E77-A (4), </volume> <month> April </month> <year> 1994, </year> <pages> pp. 719-725. </pages>
Reference-contexts: However, this objective tends to overpenalize long wires and underpenalize short wires. Thus, a strongly connected cluster may be spread out over the placement, increasing wiring congestion for the router. This reduces the routing resource flexibility needed to satisfy timing and signal integrity constraints. Mahmoud et al. <ref> [11] </ref> compared the linear and squared wirelength objectives for analog placement and concluded that the linear wirelength objective is superior. Works such as [14] have further shown that a linear wirelength objective can be used to form one-dimensional placements that directly yield effective bipartitioning solutions.
Reference: [12] <author> E. Miehle, </author> <title> "Link-Length Minimization in Networks", </title> <journal> Operations Research, </journal> <volume> 6, </volume> <year> 1958, </year> <pages> pp. 232-243. </pages>
Reference-contexts: WEISZFELD METHOD We now show that the GORDIAN-L solver is equivalent to a special case of what we call the "Weiszfeld algorithm". More precisely, we will describe, in modern terms, a method first suggested in 1937 by Weiszfeld [19] and later generalized by Miehle <ref> [12] </ref>. A contemporary exposition of this method, along with a proof of its global linear 6 convergence, can be found in [4, 5] (see also [10]). Technical differences between GORDIAN-L and our generalization of Weiszfeld (vis-a-vis what we call fi-regularization) are discussed in the second subsection. 4.1.
Reference: [13] <author> J. M. Ortega and W. C. Rheinboldt, </author> <title> Iterative Solution of Nonlinear Equations in Several Variables, </title> <address> New York, </address> <publisher> Academic Press, </publisher> <year> 1970. </year>
Reference-contexts: This is repeated until some convergence criterion is met. We call this particular implementation of the Newton method Primal Newton. The Primal Newton method does not possess any kind of global convergence property. Local convergence takes place | a proof can be found in <ref> [13] </ref> | but we do not know of any estimates of the size of the local convergence region. One can use various globalization techniques (e.g., line search and trust regions) to guarantee convergence of the Primal Newton method everywhere.
Reference: [14] <author> B. M. Riess, K. Doll and F. M. Johannes, </author> <title> "Partitioning Very Large Circuits Using Analytical Placement Techniques", </title> <booktitle> Proc. 31st ACM/IEEE Design Automation Conference, </booktitle> <year> 1994, </year> <pages> pp. 646-651. </pages>
Reference-contexts: This reduces the routing resource flexibility needed to satisfy timing and signal integrity constraints. Mahmoud et al. [11] compared the linear and squared wirelength objectives for analog placement and concluded that the linear wirelength objective is superior. Works such as <ref> [14] </ref> have further shown that a linear wirelength objective can be used to form one-dimensional placements that directly yield effective bipartitioning solutions. In 1991, Sigl et al. [9, 16] proposed GORDIAN-L, an improved version of GORDIAN which optimizes the linear wirelength objective.
Reference: [15] <author> B. Riess and G. Ettelt, </author> <title> "SPEED: Fast and Efficient Timing Driven Placement", </title> <booktitle> Proc. IEEE Int. Symp. Circuits and Systems, </booktitle> <volume> vol. 1, </volume> <year> 1995, </year> <pages> pp. 377-380. </pages>
Reference: [16] <author> G. Sigl, K. Doll and F. Johannes, </author> <title> "Analytical Placement: </title>
Reference-contexts: Works such as [14] have further shown that a linear wirelength objective can be used to form one-dimensional placements that directly yield effective bipartitioning solutions. In 1991, Sigl et al. <ref> [9, 16] </ref> proposed GORDIAN-L, an improved version of GORDIAN which optimizes the linear wirelength objective. <p> GORDIAN-L achieves solutions with up to 20% less area than GOR-DIAN while significantly reducing routing density and total minimum spanning tree cost <ref> [16] </ref>; it has been used widely in industry for both ASIC and structured-custom layout (e.g., Motorola PrediX floorplanner, Siemens LINPLACE placer, etc.). The GORDIAN-L improvement comes at the price of significantly increased CPU cost ([16] reports a factor of five increase over GORDIAN). <p> The optional linear term d T x represents connections of cells to fixed I/O pads. The vector d can also capture pin offsets <ref> [16] </ref>. Definition: The m fi n incidence matrix C = (c ki ) for G represents the relationship between edges and vertices of G. <p> In general, the set of optimal placements is closed and lies within the convex hull of fixed pads (see [18]). Direct minimization of a linear objective function can be achieved by linear programming, but this is usually computationally expensive. Sigl et al. <ref> [16] </ref> minimize the linear wirelength objective L (x) by repeatedly applying the GORDIAN quadratic solver. <p> fi ffiL ffi Thus, the original minimization problem has been transformed into two systems of equations which can be com bined to yield the nonlinear system H 0 x i h b (7) where B (x) = P m C T (C j x) 2 +fi 5 Note that GORDIAN-L <ref> [16] </ref> also includes an additional modification. Rather than subdivide each region into two subregions, GORDIAN-L subdivides each region into three subregions and then minimizes the objective L ; the result is then used to subdivide the region into five subregions, and the minimization is performed again. <p> This is necessary to avoid numerical problems when jx k1 i x k1 j j becomes too small (cf. Step 3 of Figure 2). In GORDIAN-L (see <ref> [16] </ref>), if this term becomes smaller than the minimal gate width, it is replaced with this gate width. In summary, it is simply a matter of Weiszfeld and GORDIAN-L using different schemes (fi-regularization versus minimal gate size, cf.
References-found: 16

