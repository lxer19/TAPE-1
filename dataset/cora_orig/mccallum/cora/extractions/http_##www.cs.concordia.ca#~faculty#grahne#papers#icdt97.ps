URL: http://www.cs.concordia.ca/~faculty/grahne/papers/icdt97.ps
Refering-URL: http://www.cs.concordia.ca/~faculty/grahne/papers/index.html
Root-URL: http://www.aic.nrl.navy.mil/~aha/people.html
Email: email: grahne@cs.helsinki.fi  email: fspyratos,danielg@lri.lri.fr  
Phone: 2  
Title: Semantics and containment of queries with internal and external conjunctions  
Author: Gosta Grahne ? Nicolas Spyratos and Daniel Stamate 
Note: 2 -complete, and NP-complete in some restricted cases.  
Address: P.O. Box 26 (Teollisuuskatu 23) FIN-00014 University of Helsinki, Finland  B^at. 490, F-91405 Orsay Cedex, France  
Affiliation: 1 Department of Computer Science,  Universite de Paris-Sud, LRI, U.R.A. 410 du CNRS,  
Abstract: We study conjunctive queries that combine information from multiple sources. The need for combining information is manifest for instance in multimedia systems. It has recently been recognized that query semantics for these systems should be based on some quantitative model, such as fuzzy logic. Further complications arise, however, since the semantics used internally by subsystems, and the semantics used externally to combine information, are not necessarily the same. In this paper we give a solution based on general multivalued logics with lattice-based semantics. The internal and external semantics are tied to each other through the concept of a bilattice. Queries using both internal level and external level conjunctions have a natural semantics in bilattices. We then show that homomorphism techniques from core database theory carry over to query containment for internal/external conjunctive queries in the bilattice-setting. We also show that the computational complexity of determining containment of internal/external conjunctive queries is in general p 
Abstract-found: 1
Intro-found: 1
Reference: [AHV95] <author> Abiteboul S., Hull R., and Vianu V. </author> <title> Foundations of Databases. </title> <publisher> Addison-Wesley, </publisher> <address> Reading Ma. </address> <year> 1995. </year>
Reference-contexts: Containment is of course relative to a given bilattice B, and should really be written P B t Q and P B k Q. We shall however omit the superscript. The notion of homomorphism is essential in containment of conjunctive queries <ref> [AHV95] </ref>. In the context of our work, the notion of homomorphism is defined as follows. Definition 8. Let P and Q be two conjunctive queries whose heads are compatible (i. e. they represent relations of the same arity).
Reference: [Bel77] <author> Belnap N. D., Jr. </author> <title> A useful four-valued logic. </title> <editor> In: J. Michael Dunn and G. Epstein (Eds.), </editor> <booktitle> Modern Uses of Multiple-Valued Logic, </booktitle> <publisher> Reidel, </publisher> <year> 1977, </year> <pages> pp. 89-148. </pages>
Reference-contexts: These results are established using the homomorphism theorems and other characterizations from the previous section. 2 The Framework In [Fit91] Fitting uses bilattices as truth-value spaces for information combined from several sources. The simplest bilattice is called FOUR, and it is basically Belnap's four-valued logic <ref> [Bel77] </ref>. The bilattice FOUR is depicted in Figure 1. In the bilattice FOUR each subsystem can compute its internal conjunction (and disjunction) using classical two-valued logic (the horizontal axis). Information is combined using external conjunction (the vertical axis).
Reference: [CM77] <author> Chandra A. K. and Merlin P. M. </author> <title> Optimal implementation of conjunctive queries in relational databases. </title> <booktitle> Proc. 9th Annual ACM Symp. on the Theory of Computing, </booktitle> <pages> pp. 77-90. </pages>
Reference-contexts: Let P and Q be queries in truth or knowledge-normal form. Then the problem of testing whether P t Q or P k Q, respectively, is NP-complete. The problem is NP-hard, since existence of homomorphism between classical conjunctive queries is NP-complete <ref> [CM77] </ref>. The problem is in NP, since as a consequence of Theorem 11, it is the intersection of polynomially many problems (existence of homomorphisms) in NP. The complexity remains the same in non-distributive bilattices, if we restrict ourselves to well distributed queries. Formally we have: Corollary 14.
Reference: [CV93] <author> Chaudhuri S. and Vardi M. </author> <title> Optimization of real conjunctive queries. </title> <booktitle> Proc. 12th ACM Symp. on Principles of Database Systems, </booktitle> <pages> pp. 59-70. </pages>
Reference-contexts: A B-adorned instance is a set of B-adorned relations. We note that Ioannidis and Ramakrishnan [IR95], and Chaudhuri and Vardi <ref> [CV93] </ref> have recently studied adorned relations. Our framework is however more general, in the sense that the adornments (labels) come from a a "two dimensional" bilattice. Furthermore, a tuple can occur in the same relation with several labels.
Reference: [Fag96] <author> Fagin R. </author> <title> Combining fuzzy information from multiple systems. </title> <booktitle> Proc. 15th ACM Symp. on Principles of Database Systems. </booktitle>
Reference-contexts: So the question is: with what value should Q (a) be associated? In other words, what is the definition of the conjunction & in this case? In a recent paper <ref> [Fag96] </ref>, Fagin suggests a solution based on fuzzy logic and gives algorithms for efficient evaluation of conjunctive queries assuming the properties of "strictness" and "monotonicity." Following his approach, each atom can be associated with a real number between 0 and 1. <p> The conjunction and is not necessarily the same as the conjunction & used by the multimedia servers. As suggested by Fagin <ref> [Fag96] </ref>, perhaps the most natural way to account for this is to define two conjunctions: the internal conjunction, to be used by the multimedia systems, and the external conjunction, to be used by the supersystem in combining the information from the various subsystems. <p> We emphasize that issues of efficient query evaluation in the framework considered here are very different from those in traditional database systems. Concrete evaluation methods are studied by Fagin <ref> [Fag96] </ref>. He assumes only internal false &gt; true ? t Fig. 1. The logic FOUR conjunction, the semantics of which is based on fuzzy logic.
Reference: [Fit91] <author> Fitting M. </author> <title> Bilattices and the semantics of logic programming. </title> <editor> J. </editor> <booktitle> Logic Programming 11, </booktitle> <pages> 91-116. </pages>
Reference-contexts: This type of conjunction is therefore suitable at the internal level (for &). However, another possibility for the external and, which Fitting <ref> [Fit91] </ref> calls "the consensus operator", is hmin (x; z); min (y; w)i. This gives rise to another logic with h1; 1i (inconsistent) as maximal truth-value, and h0; 0i (undefined) as minimal truth-value. <p> The semantics of the queries are given by multivalued logics with two order-ings, the truth ordering and the knowledge ordering, corresponding to internal and external conjunction, respectively. Our model is based on recent works by Fitting <ref> [Fit91, Fit93] </ref>, using the concept of bilattice introduced by M. Ginsberg [Gin88]. In the framework of the model, we study the problem of containment between conjunctive queries, which is a central problem in query optimization. <p> It turns out that the problem is in general p 2 -complete, and NP-complete when the queries use only one type of conjunction. These results are established using the homomorphism theorems and other characterizations from the previous section. 2 The Framework In <ref> [Fit91] </ref> Fitting uses bilattices as truth-value spaces for information combined from several sources. The simplest bilattice is called FOUR, and it is basically Belnap's four-valued logic [Bel77]. The bilattice FOUR is depicted in Figure 1. <p> By abuse of notation we will sometimes talk about the bilattice B when the orders are irrelevant or understood from the context. A bilattice is said to be nontrivial if the bilattice FOUR can be isomorphically embedded in it. Fitting has shown the following: Proposition 2. <ref> [Fit91] </ref> In any nontrivial interlaced bilattice, true false = &gt;; true false = ? &gt; _ ? = true; &gt; ^ ? = false The following lemma will be useful in the sequel. Lemma 3. <p> In other words, a ^ (b _ c) = (a ^ b) _ (a _ c), a ^ (b c) = (a ^ b) (a ^ c), and ten other similar laws hold. An easy exercise yields the following Proposition 4. <ref> [Fit91] </ref> A distributive bilattice is interlaced. The bilattice FOUR is distributive.
Reference: [Fit93] <author> Fitting M. </author> <title> The family of stable models. </title> <editor> J. </editor> <booktitle> Logic Programming 17, </booktitle> <pages> 197-225. </pages>
Reference-contexts: The semantics of the queries are given by multivalued logics with two order-ings, the truth ordering and the knowledge ordering, corresponding to internal and external conjunction, respectively. Our model is based on recent works by Fitting <ref> [Fit91, Fit93] </ref>, using the concept of bilattice introduced by M. Ginsberg [Gin88]. In the framework of the model, we study the problem of containment between conjunctive queries, which is a central problem in query optimization.
Reference: [Gin88] <author> Ginsberg M. L. </author> <title> Multivalued logics: a uniform approach to reasoning in artificial intelligence. </title> <booktitle> Computational Intelligence 4, </booktitle> <pages> pp. 265-316. </pages>
Reference-contexts: The semantics of the queries are given by multivalued logics with two order-ings, the truth ordering and the knowledge ordering, corresponding to internal and external conjunction, respectively. Our model is based on recent works by Fitting [Fit91, Fit93], using the concept of bilattice introduced by M. Ginsberg <ref> [Gin88] </ref>. In the framework of the model, we study the problem of containment between conjunctive queries, which is a central problem in query optimization.
Reference: [IR95] <author> Ioannidis Y. E. and Ramakrishnan R. </author> <title> Containment of conjunctive queries: beyond relations as sets. </title> <journal> ACM Transactions on Database Systems 20:3, </journal> <pages> pp. 288-324. </pages>
Reference-contexts: In section 3, we show that containment of internal/external conjunctive queries can be determined using homomorphism techniques. These results are related to (although incomparable with) theorems recently discovered by Ioannidis and Ramakrishnan <ref> [IR95] </ref>. In section 4 we analyze the computational complexity of determining containment of external/internal conjunctive queries. It turns out that the problem is in general p 2 -complete, and NP-complete when the queries use only one type of conjunction. <p> A B-adorned instance is a set of B-adorned relations. We note that Ioannidis and Ramakrishnan <ref> [IR95] </ref>, and Chaudhuri and Vardi [CV93] have recently studied adorned relations. Our framework is however more general, in the sense that the adornments (labels) come from a a "two dimensional" bilattice. Furthermore, a tuple can occur in the same relation with several labels. <p> That is, A i (h (x i )) = B j i (y j i ), and as h (x) = y, the mapping h is a homomorphism from Q to P . Ioannidis and Ramakrishnan <ref> [IR95] </ref> have recently proved a similar homomorphism characterization for annotated instances, where the annotations form a structure called a "label system of type A." We note that there are lattices that are not "label systems of type A," and that there are "label systems of type A" that are not lattices. <p> queries comes as a special case, if we take union to be in the trivial bilattice with B = ftrue; falseg, false t true and true k false. (Strictly speaking, in the trivial bilattice we only need condition 1 of Theorem 11.) Likewise, the generalization provided by Ioannidis and Ramakrishnan <ref> [IR95] </ref> is another special case of Theorem 11 in a similar trivial structure, where k is the inverse of t . If the bilattice is not distributive, we need to restrict our attention to the following case. Consider a partition of the set of predicates in our language.
Reference: [SY80] <author> Sagiv Y. and Yannakakis M. </author> <title> Equivalences among relational expressions with the union and difference operators. </title> <journal> J. ACM 27:4, </journal> <pages> pp. 633-655. </pages>
Reference-contexts: Consider the mapping h = 1 ffi . Then h (D j i ) is in the body of P , for i 2 f1; : : : ; mg; a contradiction to our counterassumption that no such homomorphism exists. The Sagiv-Yannakakis theorem <ref> [SY80] </ref> for containment of unions of conjunctive queries comes as a special case, if we take union to be in the trivial bilattice with B = ftrue; falseg, false t true and true k false. (Strictly speaking, in the trivial bilattice we only need condition 1 of Theorem 11.) Likewise, the <p> Formally: Corollary 16. Let P and Q be queries not necessarily in any normal form. Then the problem of testing whether P t Q or P k Q, respectively, in a distributive bilattice, is p 2 -complete. These complexity results generalize the Sagiv-Yannakakis p 2 -completeness result <ref> [SY80] </ref> from the trivial bilattices mentioned after Theorem 11 to general distributive bilattices. 5 Conclusion Queries combining information from multiple sources have a natural semantics in bilattices. Determining containment of queries under bilattice semantics can be done through homomorphism techniques. Computationally, the problem is 2 -complete.
Reference: [Sto77] <author> Stockmeyer L. J. </author> <title> The polynomial-time hierarchy. </title> <journal> Theoret. Comput. Sci. </journal> <volume> 3, </volume> <pages> pp. </pages> <month> 1-22. </month> <title> This article was processed using the L a T E X macro package with LLNCS style </title>
Reference-contexts: We show for instance, that in the bilattice framework the complexity of conjunctive query containment under both "internal" and "external" equivalence simultaneously is one level higher in the polynomial time hierarchy <ref> [Sto77] </ref> than in the classical case, i. e. the problem is p 2 -complete. We emphasize that issues of efficient query evaluation in the framework considered here are very different from those in traditional database systems. Concrete evaluation methods are studied by Fagin [Fag96].
References-found: 11

